(self.webpackChunkwebsites_vrapalis=self.webpackChunkwebsites_vrapalis||[]).push([[210],{4210:($,c,k)=>{"use strict";k.r(c),k.d(c,{HttpLoaderFactory:()=>K,WebsitesVrapalisFeatureAboutModule:()=>y,websitesVrapalisFeatureAboutRoutes:()=>G});var i=k(6895),I=k(957),E=k(4650),q=k(4968),U=k(7579),R=k(2076),C=k(2722),B=k(8372),W=k(9300),V=k(6036),O=k.t(V,2),N=k(2813),_=k.t(N,2);const m=["pdfViewerContainer"];function T(a,r){const s=new a.EventBus;return function M(a,r){(0,q.R)(a,"documentload").pipe((0,C.R)(r)).subscribe(()=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(s)}),(0,q.R)(a,"pagerendered").pipe((0,C.R)(r)).subscribe(({pageNumber:s,cssTransform:o,source:e})=>{const l=document.createEvent("CustomEvent");l.initCustomEvent("pagerendered",!0,!0,{pageNumber:s,cssTransform:o}),e.div.dispatchEvent(l)}),(0,q.R)(a,"textlayerrendered").pipe((0,C.R)(r)).subscribe(({pageNumber:s,source:o})=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:s}),o.textLayerDiv.dispatchEvent(e)}),(0,q.R)(a,"pagechanging").pipe((0,C.R)(r)).subscribe(({pageNumber:s,source:o})=>{const e=document.createEvent("UIEvents");e.initEvent("pagechanging",!0,!0),e.pageNumber=s,o.container.dispatchEvent(e)}),(0,q.R)(a,"pagesinit").pipe((0,C.R)(r)).subscribe(({source:s})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagesinit",!0,!0,null),s.container.dispatchEvent(o)}),(0,q.R)(a,"pagesloaded").pipe((0,C.R)(r)).subscribe(({pagesCount:s,source:o})=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("pagesloaded",!0,!0,{pagesCount:s}),o.container.dispatchEvent(e)}),(0,q.R)(a,"scalechange").pipe((0,C.R)(r)).subscribe(({scale:s,presetValue:o,source:e})=>{const l=document.createEvent("UIEvents");l.initEvent("scalechange",!0,!0),l.scale=s,l.presetValue=o,e.container.dispatchEvent(l)}),(0,q.R)(a,"updateviewarea").pipe((0,C.R)(r)).subscribe(({location:s,source:o})=>{const e=document.createEvent("UIEvents");e.initEvent("updateviewarea",!0,!0),e.location=s,o.container.dispatchEvent(e)}),(0,q.R)(a,"find").pipe((0,C.R)(r)).subscribe(({source:s,type:o,query:e,phraseSearch:l,caseSensitive:u,highlightAll:x,findPrevious:b})=>{if(s===window)return;const f=document.createEvent("CustomEvent");f.initCustomEvent("find"+o,!0,!0,{query:e,phraseSearch:l,caseSensitive:u,highlightAll:x,findPrevious:b}),window.dispatchEvent(f)}),(0,q.R)(a,"attachmentsloaded").pipe((0,C.R)(r)).subscribe(({attachmentsCount:s,source:o})=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:s}),o.container.dispatchEvent(e)}),(0,q.R)(a,"sidebarviewchanged").pipe((0,C.R)(r)).subscribe(({view:s,source:o})=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("sidebarviewchanged",!0,!0,{view:s}),o.outerContainer.dispatchEvent(e)}),(0,q.R)(a,"pagemode").pipe((0,C.R)(r)).subscribe(({mode:s,source:o})=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("pagemode",!0,!0,{mode:s}),o.pdfViewer.container.dispatchEvent(e)}),(0,q.R)(a,"namedaction").pipe((0,C.R)(r)).subscribe(({action:s,source:o})=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("namedaction",!0,!0,{action:s}),o.pdfViewer.container.dispatchEvent(e)}),(0,q.R)(a,"presentationmodechanged").pipe((0,C.R)(r)).subscribe(({active:s,switchInProgress:o})=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("presentationmodechanged",!0,!0,{active:s,switchInProgress:o}),window.dispatchEvent(e)}),(0,q.R)(a,"outlineloaded").pipe((0,C.R)(r)).subscribe(({outlineCount:s,source:o})=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("outlineloaded",!0,!0,{outlineCount:s}),o.container.dispatchEvent(e)})}(s,r),s}function A(a,r,s){a[r]=s}function S(){return typeof window>"u"}S()||A(O,"verbosity",V.VerbosityLevel.INFOS);var n=(()=>{return(a=n||(n={}))[a.DISABLED=0]="DISABLED",a[a.ENABLED=1]="ENABLED",a[a.ENHANCED=2]="ENHANCED",n;var a})();let t=(()=>{class a{constructor(s,o){if(this.element=s,this.ngZone=o,this.isVisible=!1,this._cMapsUrl=typeof O<"u"?`https://unpkg.com/pdfjs-dist@${V.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=n.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new U.x,this.afterLoadComplete=new E.vpe,this.pageRendered=new E.vpe,this.pageInitialized=new E.vpe,this.textLayerRendered=new E.vpe,this.onError=new E.vpe,this.onProgress=new E.vpe,this.pageChange=new E.vpe(!0),S())return;let e;e=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${V.version}/legacy/build/pdf.worker.min.js`,A(V.GlobalWorkerOptions,"workerSrc",e)}set cMapsUrl(s){this._cMapsUrl=s}set page(s){const o=s=parseInt(s,10)||1;this._pdf&&(s=this.getValidPageNumber(s)),this._page=s,o!==s&&this.pageChange.emit(s)}set renderText(s){this._renderText=s}set renderTextMode(s){this._renderTextMode=s}set originalSize(s){this._originalSize=s}set showAll(s){this._showAll=s}set stickToPage(s){this._stickToPage=s}set zoom(s){s<=0||(this._zoom=s)}get zoom(){return this._zoom}set zoomScale(s){this._zoomScale=s}get zoomScale(){return this._zoomScale}set rotation(s){"number"==typeof s&&s%90==0?this._rotation=s:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(s){this._externalLinkTarget=s}set autoresize(s){this._canAutoResize=Boolean(s)}set fitToPage(s){this._fitToPage=Boolean(s)}set showBorders(s){this._showBorders=Boolean(s)}static getLinkTarget(s){switch(s){case"blank":return N.LinkTarget.BLANK;case"none":return N.LinkTarget.NONE;case"self":return N.LinkTarget.SELF;case"parent":return N.LinkTarget.PARENT;case"top":return N.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const s=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=s?!1===this.isVisible&&null!=s&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(s){if(!S()&&this.isVisible)if("src"in s)this.loadPDF();else if(this._pdf){if("renderText"in s?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:n.DISABLED,this.resetPdfDocument()):"showAll"in s&&this.resetPdfDocument(),"page"in s){const{page:o}=s;if(o.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const s=this.getCurrentViewer();(0,R.D)(this._pdf.getPage(s.currentPageNumber)).pipe((0,C.R)(this.destroy$)).subscribe({next:o=>{const e=this._rotation||o.rotate,l=o.getViewport({scale:this._zoom,rotation:e}).width*a.CSS_UNITS;let u=this._zoom,x=!0;if(!this._originalSize||this._fitToPage&&l>this.pdfViewerContainer.nativeElement.clientWidth){const b=o.getViewport({scale:1,rotation:e});u=this.getScale(b.width,b.height),x=!this._stickToPage}s._setScale(u,x)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const s={},o=a.getLinkTarget(this._externalLinkTarget);return o&&(s.externalLinkTarget=o),s}setupMultiPageViewer(){A(O,"disableTextLayer",!this._renderText);const s=T(_,this.destroy$);(0,q.R)(s,"pagerendered").pipe((0,C.R)(this.destroy$)).subscribe(e=>{this.pageRendered.emit(e)}),(0,q.R)(s,"pagesinit").pipe((0,C.R)(this.destroy$)).subscribe(e=>{this.pageInitialized.emit(e)}),(0,q.R)(s,"pagechanging").pipe((0,C.R)(this.destroy$)).subscribe(({pageNumber:e})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=e,this.pageChange.emit(e)},100)}),(0,q.R)(s,"textlayerrendered").pipe((0,C.R)(this.destroy$)).subscribe(e=>{this.textLayerRendered.emit(e)}),this.pdfMultiPageLinkService=new N.PDFLinkService({eventBus:s,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new N.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:s});const o={eventBus:s,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:n.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new N.PDFViewer(o),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){A(O,"disableTextLayer",!this._renderText);const s=T(_,this.destroy$);(0,q.R)(s,"pagechanging").pipe((0,C.R)(this.destroy$)).subscribe(({pageNumber:e})=>{e!==this._page&&(this.page=e)}),(0,q.R)(s,"pagerendered").pipe((0,C.R)(this.destroy$)).subscribe(e=>{this.pageRendered.emit(e)}),(0,q.R)(s,"pagesinit").pipe((0,C.R)(this.destroy$)).subscribe(e=>{this.pageInitialized.emit(e)}),(0,q.R)(s,"textlayerrendered").pipe((0,C.R)(this.destroy$)).subscribe(e=>{this.textLayerRendered.emit(e)}),this.pdfSinglePageLinkService=new N.PDFLinkService({eventBus:s,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new N.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:s});const o={eventBus:s,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:n.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new N.PDFSinglePageViewer(o),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(s){return s<1?1:s>this._pdf.numPages?this._pdf.numPages:s}getDocumentParams(){const s=typeof this.src;if(!this._cMapsUrl)return this.src;const o={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===s?o.url=this.src:"object"===s&&(void 0!==this.src.byteLength?o.data=this.src:Object.assign(o,this.src)),o}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=V.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=o=>{this.onProgress.emit(o)};const s=this.src;(0,R.D)(this.loadingTask.promise).pipe((0,C.R)(this.destroy$)).subscribe({next:o=>{this._pdf=o,this.lastLoaded=s,this.afterLoadComplete.emit(o),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:o=>{this.lastLoaded=null,this.onError.emit(o)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const s=this.getCurrentViewer();(0!==this._rotation||s.pagesRotation!==this._rotation)&&setTimeout(()=>{s.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{s.currentPageNumber=this._page}),this.updateSize()}getScale(s,o){const e=this._showBorders?2*a.BORDER_WIDTH:0,l=this.pdfViewerContainer.nativeElement.clientWidth-e,u=this.pdfViewerContainer.nativeElement.clientHeight-e;if(0===u||0===o||0===l||0===s)return 1;let x=1;switch(this._zoomScale){case"page-fit":x=Math.min(u/o,l/s);break;case"page-height":x=u/o;break;default:x=l/s}return this._zoom*x/a.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){S()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){S()||this.ngZone.runOutsideAngular(()=>{(0,q.R)(window,"resize").pipe((0,B.b)(100),(0,W.h)(()=>this._canAutoResize&&!!this._pdf),(0,C.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return a.CSS_UNITS=96/72,a.BORDER_WIDTH=9,a.\u0275fac=function(s){return new(s||a)(E.Y36(E.SBq),E.Y36(E.R0b))},a.\u0275cmp=E.Xpm({type:a,selectors:[["pdf-viewer"]],viewQuery:function(s,o){if(1&s&&E.Gf(m,5),2&s){let e;E.iGM(e=E.CRH())&&(o.pdfViewerContainer=e.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[E.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(s,o){1&s&&(E.TgZ(0,"div",0,1),E._UZ(2,"div",2),E.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),a})(),p=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=E.oAB({type:a}),a.\u0275inj=E.cJS({}),a})();var w=k(9540),d=k(8423),v=k(7126);function g(a,r){1&a&&E._UZ(0,"div",6)}const h=function(a){return{height:a}};let L=(()=>{class a{constructor(s,o,e,l,u){this.env=s,this.cd=o,this.spinner=e,this.languageService=l,this.translate=u,this.pdfName="",this.pdfSrc="",this.pdfViewerHeight=100,this.pdfShow=!1,this.unsubscribe$=new U.x,l.lang$.pipe((0,C.R)(this.unsubscribe$)).subscribe(x=>u.use(x)),l.setDefaultLanguage(),this.translate.get("pdf").pipe((0,C.R)(this.unsubscribe$)).subscribe(x=>{this.pdfName=x,this.pdfSrc=!0===this.env.production?`https://vrapalis.github.io/monorepository/assets/pdf/${this.pdfName}`:`/assets/pdf/${this.pdfName}`})}ngOnDestroy(){this.resizeSubscription$&&this.resizeSubscription$.unsubscribe(),this.unsubscribe$.next(),this.unsubscribe$.complete()}pageRendered(){this.spinner.hide(),this.pdfShow=!0,this.pdfViewerHeight=this.pdfComponent?.pdfViewer.viewer.clientHeight,this.resizeObservable$=(0,q.R)(window,"resize"),this.resizeSubscription$=this.resizeObservable$.subscribe(()=>{this.pdfShow=!0,this.spinner.hide(),this.pdfViewerHeight=this.pdfComponent?.pdfViewer.viewer.clientHeight,this.cd.markForCheck()})}ngAfterViewInit(){this.spinner.show()}}return a.\u0275fac=function(s){return new(s||a)(E.Y36(w.Y),E.Y36(E.sBO),E.Y36(d.t2),E.Y36(w.T),E.Y36(v.sK))},a.\u0275cmp=E.Xpm({type:a,selectors:[["web-about"]],viewQuery:function(s,o){if(1&s&&E.Gf(t,5),2&s){let e;E.iGM(e=E.CRH())&&(o.pdfComponent=e.first)}},decls:7,vars:11,consts:[[1,"about-wrapper"],[1,"about-text"],["style","height: 100vh;",4,"ngIf"],[2,"position","relative","width","100%",3,"ngStyle"],[2,"position","absolute","top","0","right","0","bottom","0","left","0",3,"src","show-all","autoresize","original-size","fit-to-page","page-rendered"],["target","_blank",1,"btn","mt-xl-5","btn-more",2,"float","right",3,"href","download"],[2,"height","100vh"]],template:function(s,o){1&s&&(E.TgZ(0,"section",0)(1,"div",1),E.YNc(2,g,1,0,"div",2),E.TgZ(3,"div",3)(4,"pdf-viewer",4),E.NdJ("page-rendered",function(){return o.pageRendered()}),E.qZA()(),E.TgZ(5,"a",5),E._uU(6," Download "),E.qZA()()()),2&s&&(E.xp6(2),E.Q6J("ngIf",!o.pdfShow),E.xp6(1),E.Q6J("ngStyle",E.VKq(9,h,o.pdfViewerHeight+10+"px")),E.xp6(1),E.Q6J("src",o.pdfSrc)("show-all",!1)("autoresize",!0)("original-size",!1)("fit-to-page",!0),E.xp6(1),E.Q6J("href",o.pdfSrc,E.LSH)("download",o.pdfName))},dependencies:[i.O5,i.PC,t],styles:["@media only screen and (min-width: 1400px){::-webkit-scrollbar-track{background-color:#f5f5f5}::-webkit-scrollbar{width:5px;background-color:#f5f5f5}::-webkit-scrollbar-thumb{background-color:#9b9796}}.btn-more{margin-top:30px;color:#fff;background:rgba(0,0,0,.8196078431);padding:10px 35px;border:1px solid white;max-width:300px;font-weight:600}.btn-more:hover{background:#ffd400}@media only screen and (max-width: 992px){.btn-more{padding:10px 25px;max-width:280px}}.about-wrapper{margin:150px auto;padding:10px}@media only screen and (max-width: 768px){.about-wrapper{margin:80px auto}}.about-wrapper .about-text{max-width:1500px;margin:auto}.about-wrapper .about-text pdf-viewer{height:100%}\n"],encapsulation:2}),a})(),F=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=E.Xpm({type:a,selectors:[["web-about-container"]],decls:1,vars:0,template:function(s,o){1&s&&E._UZ(0,"web-about")},dependencies:[L],encapsulation:2}),a})();var D=k(529),H=k(9832);const G=[{path:"",component:F}];function K(a){return new H.w(a,"./assets/i18n/about/",".json")}let y=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=E.oAB({type:a}),a.\u0275inj=E.cJS({imports:[i.ez,I.Bz.forChild(G),p,v.aw.forChild({loader:{provide:v.Zw,useFactory:K,deps:[D.eN]},isolate:!0})]}),a})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(9393).default,_defineProperty=__webpack_require__(9713).default,_classPrivateMethodInitSpec=__webpack_require__(3448).default,_classPrivateMethodGet=__webpack_require__(4877).default,_classPrivateFieldInitSpec=__webpack_require__(3606).default,_classPrivateFieldSet=__webpack_require__(5962).default,_classPrivateFieldGet=__webpack_require__(1226).default,_asyncToGenerator=__webpack_require__(8926).default,k;k=function(){return(()=>{"use strict";var __webpack_modules__=[,($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.VerbosityLevel=c.Util=c.UnknownErrorException=c.UnexpectedResponseException=c.UNSUPPORTED_FEATURES=c.TextRenderingMode=c.StreamType=c.RenderingIntentFlag=c.PermissionFlag=c.PasswordResponses=c.PasswordException=c.PageActionEventType=c.OPS=c.MissingPDFException=c.IsLittleEndianCached=c.IsEvalSupportedCached=c.InvalidPDFException=c.ImageKind=c.IDENTITY_MATRIX=c.FormatError=c.FontType=c.FONT_IDENTITY_MATRIX=c.DocumentActionEventType=c.CMapCompressionType=c.BaseException=c.AnnotationType=c.AnnotationStateModelType=c.AnnotationReviewState=c.AnnotationReplyType=c.AnnotationMode=c.AnnotationMarkedState=c.AnnotationFlag=c.AnnotationFieldFlag=c.AnnotationBorderStyleType=c.AnnotationActionEventType=c.AbortException=void 0,c.arrayByteLength=Q,c.arraysToBytes=function ie(ne){const J=ne.length;if(1===J&&ne[0]instanceof Uint8Array)return ne[0];let te=0;for(let ve=0;ve<J;ve++)te+=Q(ne[ve]);let pe=0;const ge=new Uint8Array(te);for(let ve=0;ve<J;ve++){let me=ne[ve];me instanceof Uint8Array||(me="string"==typeof me?X(me):new Uint8Array(me));const Se=me.byteLength;ge.set(me,pe),pe+=Se}return ge},c.assert=function K(ne,J){ne||G(J)},c.bytesToString=function Y(ne){("object"!=typeof ne||null===ne||void 0===ne.length)&&G("Invalid argument for bytesToString");const J=ne.length;if(J<8192)return String.fromCharCode.apply(null,ne);const pe=[];for(let ge=0;ge<J;ge+=8192){const ve=Math.min(ge+8192,J),me=ne.subarray(ge,ve);pe.push(String.fromCharCode.apply(null,me))}return pe.join("")},c.createPromiseCapability=function we(){const ne=Object.create(null);let J=!1;return Object.defineProperty(ne,"settled",{get:()=>J}),ne.promise=new Promise(function(te,pe){ne.resolve=function(ge){J=!0,te(ge)},ne.reject=function(ge){J=!0,pe(ge)}}),ne},c.createValidAbsoluteUrl=function r(ne,J=null,te=null){if(!ne)return null;try{if(te&&"string"==typeof ne){if(te.addDefaultProtocol&&ne.startsWith("www.")){const ge=ne.match(/\./g);ge&&ge.length>=2&&(ne=`http://${ne}`)}if(te.tryConvertEncoding)try{ne=re(ne)}catch{}}const pe=J?new URL(ne,J):new URL(ne);if(function a(ne){if(!ne)return!1;switch(ne.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(pe))return pe}catch{}return null},c.escapeString=function z(ne){return ne.replace(/([()\\\n\r])/g,J=>"\n"===J?"\\n":"\r"===J?"\\r":`\\${J}`)},c.getModificationDate=function Ae(ne=new Date){return[ne.getUTCFullYear().toString(),(ne.getUTCMonth()+1).toString().padStart(2,"0"),ne.getUTCDate().toString().padStart(2,"0"),ne.getUTCHours().toString().padStart(2,"0"),ne.getUTCMinutes().toString().padStart(2,"0"),ne.getUTCSeconds().toString().padStart(2,"0")].join("")},c.getVerbosityLevel=function F(){return h},c.info=function D(ne){h>=p.INFOS&&console.log(`Info: ${ne}`)},c.isArrayBuffer=function ce(ne){return"object"==typeof ne&&null!==ne&&void 0!==ne.byteLength},c.isArrayEqual=function ue(ne,J){if(ne.length!==J.length)return!1;for(let te=0,pe=ne.length;te<pe;te++)if(ne[te]!==J[te])return!1;return!0},c.isAscii=function Z(ne){return/^[\x00-\x7F]*$/.test(ne)},c.isSameOrigin=function y(ne,J){let te;try{if(te=new URL(ne),!te.origin||"null"===te.origin)return!1}catch{return!1}const pe=new URL(J,te);return te.origin===pe.origin},c.objectFromMap=function de(ne){const J=Object.create(null);for(const[te,pe]of ne)J[te]=pe;return J},c.objectSize=function he(ne){return Object.keys(ne).length},c.setVerbosityLevel=function L(ne){Number.isInteger(ne)&&(h=ne)},c.shadow=s,c.string32=function oe(ne){return String.fromCharCode(ne>>24&255,ne>>16&255,ne>>8&255,255&ne)},c.stringToBytes=X,c.stringToPDFString=function P(ne){if(ne[0]>="\xef"){let te;if("\xfe"===ne[0]&&"\xff"===ne[1]?te="utf-16be":"\xff"===ne[0]&&"\xfe"===ne[1]?te="utf-16le":"\xef"===ne[0]&&"\xbb"===ne[1]&&"\xbf"===ne[2]&&(te="utf-8"),te)try{const pe=new TextDecoder(te,{fatal:!0}),ge=X(ne);return pe.decode(ge)}catch(pe){H(`stringToPDFString: "${pe}".`)}}const J=[];for(let te=0,pe=ne.length;te<pe;te++){const ge=ee[ne.charCodeAt(te)];J.push(ge?String.fromCharCode(ge):ne.charAt(te))}return J.join("")},c.stringToUTF16BEString=function se(ne){const J=["\xfe\xff"];for(let te=0,pe=ne.length;te<pe;te++){const ge=ne.charCodeAt(te);J.push(String.fromCharCode(ge>>8&255),String.fromCharCode(255&ge))}return J.join("")},c.stringToUTF8String=re,c.unreachable=G,c.utf8StringToString=function le(ne){return unescape(encodeURIComponent(ne))},c.warn=H,k(2),c.IDENTITY_MATRIX=[1,0,0,1,0,0],c.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],c.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},c.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},c.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},c.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},c.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},c.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},c.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},c.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},c.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},c.AnnotationReplyType={GROUP:"Group",REPLY:"R"},c.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},c.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},c.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},c.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},c.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},c.PageActionEventType={O:"PageOpen",C:"PageClose"},c.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},c.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const p={ERRORS:0,WARNINGS:1,INFOS:5};c.VerbosityLevel=p,c.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},c.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},c.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},c.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let h=p.WARNINGS;function H(ne){h>=p.WARNINGS&&console.log(`Warning: ${ne}`)}function G(ne){throw new Error(ne)}function s(ne,J,te){return Object.defineProperty(ne,J,{value:te,enumerable:!0,configurable:!0,writable:!1}),te}const o=function(){function J(te,pe){this.constructor===J&&G("Cannot initialize BaseException."),this.message=te,this.name=pe}return J.prototype=new Error,J.constructor=J,J}();function X(ne){"string"!=typeof ne&&G("Invalid argument for stringToBytes");const J=ne.length,te=new Uint8Array(J);for(let pe=0;pe<J;++pe)te[pe]=255&ne.charCodeAt(pe);return te}function Q(ne){return void 0!==ne.length?ne.length:void 0!==ne.byteLength?ne.byteLength:void G("Invalid argument for arrayByteLength")}c.BaseException=o,c.PasswordException=class e extends o{constructor(J,te){super(J,"PasswordException"),this.code=te}},c.UnknownErrorException=class l extends o{constructor(J,te){super(J,"UnknownErrorException"),this.details=te}},c.InvalidPDFException=class u extends o{constructor(J){super(J,"InvalidPDFException")}},c.MissingPDFException=class x extends o{constructor(J){super(J,"MissingPDFException")}},c.UnexpectedResponseException=class b extends o{constructor(J,te){super(J,"UnexpectedResponseException"),this.status=te}},c.FormatError=class f extends o{constructor(J){super(J,"FormatError")}},c.AbortException=class j extends o{constructor(J){super(J,"AbortException")}},c.IsLittleEndianCached={get value(){return s(this,"value",function ae(){const ne=new Uint8Array(4);return ne[0]=1,1===new Uint32Array(ne.buffer,0,1)[0]}())}},c.IsEvalSupportedCached={get value(){return s(this,"value",function ye(){try{return new Function(""),!0}catch{return!1}}())}};const _e=[...Array(256).keys()].map(ne=>ne.toString(16).padStart(2,"0"));class Ee{static makeHexColor(J,te,pe){return`#${_e[J]}${_e[te]}${_e[pe]}`}static transform(J,te){return[J[0]*te[0]+J[2]*te[1],J[1]*te[0]+J[3]*te[1],J[0]*te[2]+J[2]*te[3],J[1]*te[2]+J[3]*te[3],J[0]*te[4]+J[2]*te[5]+J[4],J[1]*te[4]+J[3]*te[5]+J[5]]}static applyTransform(J,te){return[J[0]*te[0]+J[1]*te[2]+te[4],J[0]*te[1]+J[1]*te[3]+te[5]]}static applyInverseTransform(J,te){const pe=te[0]*te[3]-te[1]*te[2];return[(J[0]*te[3]-J[1]*te[2]+te[2]*te[5]-te[4]*te[3])/pe,(-J[0]*te[1]+J[1]*te[0]+te[4]*te[1]-te[5]*te[0])/pe]}static getAxialAlignedBoundingBox(J,te){const pe=Ee.applyTransform(J,te),ge=Ee.applyTransform(J.slice(2,4),te),ve=Ee.applyTransform([J[0],J[3]],te),me=Ee.applyTransform([J[2],J[1]],te);return[Math.min(pe[0],ge[0],ve[0],me[0]),Math.min(pe[1],ge[1],ve[1],me[1]),Math.max(pe[0],ge[0],ve[0],me[0]),Math.max(pe[1],ge[1],ve[1],me[1])]}static inverseTransform(J){const te=J[0]*J[3]-J[1]*J[2];return[J[3]/te,-J[1]/te,-J[2]/te,J[0]/te,(J[2]*J[5]-J[4]*J[3])/te,(J[4]*J[1]-J[5]*J[0])/te]}static apply3dTransform(J,te){return[J[0]*te[0]+J[1]*te[1]+J[2]*te[2],J[3]*te[0]+J[4]*te[1]+J[5]*te[2],J[6]*te[0]+J[7]*te[1]+J[8]*te[2]]}static singularValueDecompose2dScale(J){const te=[J[0],J[2],J[1],J[3]],pe=J[0]*te[0]+J[1]*te[2],me=J[2]*te[1]+J[3]*te[3],Se=(pe+me)/2,Pe=Math.sqrt((pe+me)**2-4*(pe*me-(J[2]*te[0]+J[3]*te[2])*(J[0]*te[1]+J[1]*te[3])))/2,xe=Se-Pe||1;return[Math.sqrt(Se+Pe||1),Math.sqrt(xe)]}static normalizeRect(J){const te=J.slice(0);return J[0]>J[2]&&(te[0]=J[2],te[2]=J[0]),J[1]>J[3]&&(te[1]=J[3],te[3]=J[1]),te}static intersect(J,te){function pe(Se,Pe){return Se-Pe}const ge=[J[0],J[2],te[0],te[2]].sort(pe),ve=[J[1],J[3],te[1],te[3]].sort(pe),me=[];return J=Ee.normalizeRect(J),te=Ee.normalizeRect(te),ge[0]===J[0]&&ge[1]===te[0]||ge[0]===te[0]&&ge[1]===J[0]?(me[0]=ge[1],me[2]=ge[2],ve[0]===J[1]&&ve[1]===te[1]||ve[0]===te[1]&&ve[1]===J[1]?(me[1]=ve[1],me[3]=ve[2],me):null):null}static bezierBoundingBox(J,te,pe,ge,ve,me,Se,Pe){const Ce=[],xe=[[],[]];let Le,ke,Fe,Te,Re,Ie,De,Ne;for(let Ve=0;Ve<2;++Ve)if(0===Ve?(ke=6*J-12*pe+6*ve,Le=-3*J+9*pe-9*ve+3*Se,Fe=3*pe-3*J):(ke=6*te-12*ge+6*me,Le=-3*te+9*ge-9*me+3*Pe,Fe=3*ge-3*te),Math.abs(Le)<1e-12){if(Math.abs(ke)<1e-12)continue;Te=-Fe/ke,0<Te&&Te<1&&Ce.push(Te)}else De=ke*ke-4*Fe*Le,Ne=Math.sqrt(De),!(De<0)&&(Re=(-ke+Ne)/(2*Le),0<Re&&Re<1&&Ce.push(Re),Ie=(-ke-Ne)/(2*Le),0<Ie&&Ie<1&&Ce.push(Ie));let Me,Oe=Ce.length;const Be=Oe;for(;Oe--;)Te=Ce[Oe],Me=1-Te,xe[0][Oe]=Me*Me*Me*J+3*Me*Me*Te*pe+3*Me*Te*Te*ve+Te*Te*Te*Se,xe[1][Oe]=Me*Me*Me*te+3*Me*Me*Te*ge+3*Me*Te*Te*me+Te*Te*Te*Pe;return xe[0][Be]=J,xe[1][Be]=te,xe[0][Be+1]=Se,xe[1][Be+1]=Pe,xe[0].length=xe[1].length=Be+2,[Math.min(...xe[0]),Math.min(...xe[1]),Math.max(...xe[0]),Math.max(...xe[1])]}}c.Util=Ee;const ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function re(ne){return decodeURIComponent(escape(ne))}},($,c,k)=>{k(3)},($,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.isNodeJS=void 0;const k=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);c.isNodeJS=k},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory($){createPDFNetworkStream=$}function getDocument($){const c=new PDFDocumentLoadingTask;let k;if("string"==typeof $||$ instanceof URL)k={url:$};else if((0,_util.isArrayBuffer)($))k={data:$};else if($ instanceof PDFDataRangeTransport)k={range:$};else{if("object"!=typeof $)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!$.url&&!$.data&&!$.range)throw new Error("Invalid parameter object: need either .data, .range or .url");k=$}const i=Object.create(null);let I=null,E=null;for(const U in k){const R=k[U];switch(U){case"url":if(typeof window<"u")try{i[U]=new URL(R,window.location).href;continue}catch(C){(0,_util.warn)(`Cannot create valid URL: "${C}".`)}else if("string"==typeof R||R instanceof URL){i[U]=R.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":I=R;continue;case"worker":E=R;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&R instanceof Buffer)i[U]=new Uint8Array(R);else{if(R instanceof Uint8Array)break;if("string"==typeof R)i[U]=(0,_util.stringToBytes)(R);else if("object"!=typeof R||null===R||isNaN(R.length)){if(!(0,_util.isArrayBuffer)(R))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[U]=new Uint8Array(R)}else i[U]=new Uint8Array(R)}continue}i[U]=R}if(i.rangeChunkSize=i.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),Number.isInteger(i.maxImageSize)||(i.maxImageSize=-1),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),typeof i.ownerDocument>"u"&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!E){const U={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};E=U.port?_PDFWorker.fromPort(U):new _PDFWorker(U),c._worker=E}const q=c.docId;return E.promise.then(function(){if(c.destroyed)throw new Error("Loading aborted");const U=_fetchDocument(E,i,I,q),R=new Promise(function(C){let B;I?B=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},I):i.data||(B=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),C(B)});return Promise.all([U,R]).then(function([C,B]){if(c.destroyed)throw new Error("Loading aborted");const W=new _message_handler.MessageHandler(q,C,E.port),V=new WorkerTransport(W,c,B,i);c._transport=V,W.send("Ready",null)})}).catch(c._capability.reject),c}function _fetchDocument($,c,k,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*($,c,k,i){if($.destroyed)throw new Error("Worker was destroyed");k&&(c.length=k.length,c.initialData=k.initialData,c.progressiveDone=k.progressiveDone,c.contentDispositionFilename=k.contentDispositionFilename);const I=yield $.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.13.216",source:{data:c.data,url:c.url,password:c.password,disableAutoFetch:c.disableAutoFetch,rangeChunkSize:c.rangeChunkSize,length:c.length},maxImageSize:c.maxImageSize,disableFontFace:c.disableFontFace,docBaseUrl:c.docBaseUrl,ignoreErrors:c.ignoreErrors,isEvalSupported:c.isEvalSupported,fontExtraProperties:c.fontExtraProperties,enableXfa:c.enableXfa,useSystemFonts:c.useSystemFonts,cMapUrl:c.useWorkerFetch?c.cMapUrl:null,standardFontDataUrl:c.useWorkerFetch?c.standardFontDataUrl:null});if($.destroyed)throw new Error("Worker was destroyed");return I})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var c=this;return _asyncToGenerator(function*(){c.destroyed=!0,yield c._transport?.destroy(),c._transport=null,c._worker&&(c._worker.destroy(),c._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(c,k,i=!1,I=null){this.length=c,this.initialData=k,this.progressiveDone=i,this.contentDispositionFilename=I,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(c){this._rangeListeners.push(c)}addProgressListener(c){this._progressListeners.push(c)}addProgressiveReadListener(c){this._progressiveReadListeners.push(c)}addProgressiveDoneListener(c){this._progressiveDoneListeners.push(c)}onDataRange(c,k){for(const i of this._rangeListeners)i(c,k)}onDataProgress(c,k){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(c,k)})}onDataProgressiveRead(c){this._readyCapability.promise.then(()=>{for(const k of this._progressiveReadListeners)k(c)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const c of this._progressiveDoneListeners)c()})}transportReady(){this._readyCapability.resolve()}requestDataRange(c,k){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(c,k){var I,i=this;this._pdfInfo=c,this._transport=k,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(I=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return I.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(c){return this._transport.getPage(c)}getPageIndex(c){return this._transport.getPageIndex(c)}getDestinations(){return this._transport.getDestinations()}getDestination(c){return this._transport.getDestination(c)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(c=!1){return this._transport.startCleanup(c||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(c,k,i,I,E=!1){this._pageIndex=c,this._pageInfo=k,this._ownerDocument=I,this._transport=i,this._stats=E?new _display_utils.StatTimer:null,this._pdfBug=E,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:c,rotation:k=this.rotate,offsetX:i=0,offsetY:I=0,dontFlip:E=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:c,rotation:k,offsetX:i,offsetY:I,dontFlip:E})}getAnnotations({intent:c="display"}={}){const k=this._transport.getRenderingIntent(c);let i=this._annotationPromises.get(k.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,k.renderingIntent),this._annotationPromises.set(k.cacheKey,i),i=i.then(I=>{for(const E of I)void 0!==E.titleObj&&Object.defineProperty(E,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),E.titleObj.str)}),void 0!==E.contentsObj&&Object.defineProperty(E,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),E.contentsObj.str)});return I})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var c=this;return _asyncToGenerator(function*(){return c._transport._htmlForXfa?.children[c._pageIndex]||null})()}render({canvasContext:c,viewport:k,intent:i="display",annotationMode:I=_util.AnnotationMode.ENABLE,transform:E=null,imageLayer:q=null,canvasFactory:U=null,background:R=null,optionalContentConfigPromise:C=null,annotationCanvasMap:B=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&I===_util.AnnotationMode.ENABLE&&(I=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&I===_util.AnnotationMode.ENABLE&&(I=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const W=this._transport.getRenderingIntent(i,I);this.pendingCleanup=!1,C||(C=this._transport.getOptionalContentConfig());let V=this._intentStates.get(W.cacheKey);V||(V=Object.create(null),this._intentStates.set(W.cacheKey,V)),V.streamReaderCancelTimeout&&(clearTimeout(V.streamReaderCancelTimeout),V.streamReaderCancelTimeout=null);const O=U||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),N=!!(W.renderingIntent&_util.RenderingIntentFlag.PRINT);V.displayReadyCapability||(V.displayReadyCapability=(0,_util.createPromiseCapability)(),V.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(W));const _=M=>{V.renderTasks.delete(m),(this.cleanupAfterRender||N)&&(this.pendingCleanup=!0),this._tryCleanup(),M?(m.capability.reject(M),this._abortOperatorList({intentState:V,reason:M instanceof Error?M:new Error(M)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:_,params:{canvasContext:c,viewport:k,transform:E,imageLayer:q,background:R},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:B,operatorList:V.operatorList,pageIndex:this._pageIndex,canvasFactory:O,useRequestAnimationFrame:!N,pdfBug:this._pdfBug});(V.renderTasks||(V.renderTasks=new Set)).add(m);const T=m.task;return Promise.all([V.displayReadyCapability.promise,C]).then(([M,A])=>{this.pendingCleanup?_():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:M,optionalContentConfig:A}),m.operatorListChanged())}).catch(_),T}getOperatorList({intent:c="display",annotationMode:k=_util.AnnotationMode.ENABLE}={}){const I=this._transport.getRenderingIntent(c,k,!0);let q,E=this._intentStates.get(I.cacheKey);return E||(E=Object.create(null),this._intentStates.set(I.cacheKey,E)),E.opListReadCapability||(q=Object.create(null),q.operatorListChanged=function i(){E.operatorList.lastChunk&&(E.opListReadCapability.resolve(E.operatorList),E.renderTasks.delete(q))},E.opListReadCapability=(0,_util.createPromiseCapability)(),(E.renderTasks||(E.renderTasks=new Set)).add(q),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(I)),E.opListReadCapability.promise}streamTextContent({disableCombineTextItems:c=!1,includeMarkedContent:k=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==c,includeMarkedContent:!0===k},{highWaterMark:100,size:I=>I.items.length})}getTextContent(c={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const k=this.streamTextContent(c);return new Promise(function(i,I){const q=k.getReader(),U={items:[],styles:Object.create(null)};!function E(){q.read().then(function({value:R,done:C}){C?i(U):(Object.assign(U.styles,R.styles),U.items.push(...R.items),E())},I)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const c=[];for(const k of this._intentStates.values())if(this._abortOperatorList({intentState:k,reason:new Error("Page was destroyed."),force:!0}),!k.opListReadCapability)for(const i of k.renderTasks)c.push(i.completed),i.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(c)}cleanup(c=!1){return this.pendingCleanup=!0,this._tryCleanup(c)}_tryCleanup(c=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:k,operatorList:i}of this._intentStates.values())if(k.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,c&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(c,k){const i=this._intentStates.get(k);!i||(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(c))}_renderPageChunk(c,k){for(let i=0,I=c.length;i<I;i++)k.operatorList.fnArray.push(c.fnArray[i]),k.operatorList.argsArray.push(c.argsArray[i]);k.operatorList.lastChunk=c.lastChunk;for(const i of k.renderTasks)i.operatorListChanged();c.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:c,cacheKey:k}){const I=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:c,cacheKey:k,annotationStorage:c&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),E=this._intentStates.get(k);E.streamReader=I;const q=()=>{I.read().then(({value:U,done:R})=>{R?E.streamReader=null:this._transport.destroyed||(this._renderPageChunk(U,E),q())},U=>{if(E.streamReader=null,!this._transport.destroyed){if(E.operatorList){E.operatorList.lastChunk=!0;for(const R of E.renderTasks)R.operatorListChanged();this._tryCleanup()}if(E.displayReadyCapability)E.displayReadyCapability.reject(U);else{if(!E.opListReadCapability)throw U;E.opListReadCapability.reject(U)}}})};q()}_abortOperatorList({intentState:c,reason:k,force:i=!1}){if(c.streamReader){if(!i){if(c.renderTasks.size>0)return;if(k instanceof _display_utils.RenderingCancelledException)return void(c.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:c,reason:k,force:!0}),c.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(c.streamReader.cancel(new _util.AbortException(k.message)).catch(()=>{}),c.streamReader=null,!this._transport.destroyed){for(const[I,E]of this._intentStates)if(E===c){this._intentStates.delete(I);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(c,k){const i={data:structuredClone(c,k)};this._deferred.then(()=>{for(const I of this._listeners)I.call(this,i)})}addEventListener(c,k){this._listeners.push(k)}removeEventListener(c,k){const i=this._listeners.indexOf(k);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const $=document?.currentScript?.src;$&&(PDFWorkerUtil.fallbackWorkerSrc=$.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function($){return URL.createObjectURL(new Blob([`importScripts("${$}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:$=null,port:c=null,verbosity:k=(0,_util.getVerbosityLevel)()}={}){if(c&&_PDFWorker._workerPorts.has(c))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=$,this.destroyed=!1,this.verbosity=k,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,c)return _PDFWorker._workerPorts.set(c,this),void this._initializeFromPort(c);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new _message_handler.MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let $=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const c=new Worker($),k=new _message_handler.MessageHandler("main","worker",c),i=()=>{c.removeEventListener("error",I),k.destroy(),c.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},I=()=>{this._webWorker||i()};c.addEventListener("error",I),k.on("test",q=>{c.removeEventListener("error",I),this.destroyed?i():q?(this._messageHandler=k,this._port=c,this._webWorker=c,this._readyCapability.resolve(),k.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),k.destroy(),c.terminate())}),k.on("ready",q=>{if(c.removeEventListener("error",I),this.destroyed)i();else try{E()}catch{this._setupFakeWorker()}});const E=()=>{const q=new Uint8Array([255]);try{k.send("test",q,[q.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),q[0]=0,k.send("test",q)}};return void E()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then($=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const c=new LoopbackPort;this._port=c;const k="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(k+"_worker",k,c);$.setup(i,c);const I=new _message_handler.MessageHandler(k,k+"_worker",c);this._messageHandler=I,this._readyCapability.resolve(),I.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){if(!$?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has($.port)?this._workerPorts.get($.port):new _PDFWorker($)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function $(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(c,k,i,I){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=c,this.loadingTask=k,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:k.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:I.ownerDocument,styleElement:I.styleElement}),this._params=I,I.useWorkerFetch||(this.CMapReaderFactory=new I.CMapReaderFactory({baseUrl:I.cMapUrl,isCompressed:I.cMapPacked}),this.StandardFontDataFactory=new I.StandardFontDataFactory({baseUrl:I.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(c,k=_util.AnnotationMode.ENABLE,i=!1){let I=_util.RenderingIntentFlag.DISPLAY,E="";switch(c){case"any":I=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":I=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${c}`)}switch(k){case _util.AnnotationMode.DISABLE:I+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:I+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:I+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,E=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${k}`)}return i&&(I+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:I,cacheKey:`${I}_${E}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const c=[];for(const i of _classPrivateFieldGet(this,_pageCache).values())c.push(i._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const k=this.messageHandler.sendWithPromise("Terminate",null);return c.push(k),Promise.all(c).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:c,loadingTask:k}=this;c.on("GetReader",(i,I)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=E=>{this._lastProgress={loaded:E.loaded,total:E.total}},I.onPull=()=>{this._fullReader.read().then(function({value:E,done:q}){q?I.close():((0,_util.assert)((0,_util.isArrayBuffer)(E),"GetReader - expected an ArrayBuffer."),I.enqueue(new Uint8Array(E),1,[E]))}).catch(E=>{I.error(E)})},I.onCancel=E=>{this._fullReader.cancel(E),I.ready.catch(q=>{if(!this.destroyed)throw q})}}),c.on("ReaderHeadersReady",i=>{const I=(0,_util.createPromiseCapability)(),E=this._fullReader;return E.headersReady.then(()=>{(!E.isStreamingSupported||!E.isRangeSupported)&&(this._lastProgress&&k.onProgress?.(this._lastProgress),E.onProgress=q=>{k.onProgress?.({loaded:q.loaded,total:q.total})}),I.resolve({isStreamingSupported:E.isStreamingSupported,isRangeSupported:E.isRangeSupported,contentLength:E.contentLength})},I.reject),I.promise}),c.on("GetRangeReader",(i,I)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const E=this._networkStream.getRangeReader(i.begin,i.end);E?(I.onPull=()=>{E.read().then(function({value:q,done:U}){U?I.close():((0,_util.assert)((0,_util.isArrayBuffer)(q),"GetRangeReader - expected an ArrayBuffer."),I.enqueue(new Uint8Array(q),1,[q]))}).catch(q=>{I.error(q)})},I.onCancel=q=>{E.cancel(q),I.ready.catch(U=>{if(!this.destroyed)throw U})}):I.close()}),c.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,k._capability.resolve(new PDFDocumentProxy(i,this))}),c.on("DocException",function(i){let I;switch(i.name){case"PasswordException":I=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":I=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":I=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":I=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":I=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}k._capability.reject(I)}),c.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),k.onPassword){const I=E=>{E instanceof Error?this._passwordCapability.reject(E):this._passwordCapability.resolve({password:E})};try{k.onPassword(I,i.code)}catch(E){this._passwordCapability.reject(E)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),c.on("DataLoaded",i=>{k.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),c.on("StartRenderPage",i=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),c.on("commonobj",([i,I,E])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(I){case"Font":const q=this._params;if("error"in E){const C=E.error;(0,_util.warn)(`Error during font loading: ${C}`),this.commonObjs.resolve(i,C);break}let U=null;q.pdfBug&&globalThis.FontInspector?.enabled&&(U={registerFont(C,B){globalThis.FontInspector.fontAdded(C,B)}});const R=new _font_loader.FontFaceObject(E,{isEvalSupported:q.isEvalSupported,disableFontFace:q.disableFontFace,ignoreErrors:q.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:U});this.fontLoader.bind(R).catch(C=>c.sendWithPromise("FontFallback",{id:i})).finally(()=>{!q.fontExtraProperties&&R.data&&(R.data=null),this.commonObjs.resolve(i,R)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,E);break;default:throw new Error(`Got unknown common object type ${I}`)}}),c.on("obj",([i,I,E,q])=>{if(this.destroyed)return;const U=_classPrivateFieldGet(this,_pageCache).get(I);if(!U.objs.has(i))switch(E){case"Image":U.objs.resolve(i,q),q?.data?.length>8e6&&(U.cleanupAfterRender=!0);break;case"Pattern":U.objs.resolve(i,q);break;default:throw new Error(`Got unknown object type ${E}`)}}),c.on("DocProgress",i=>{this.destroyed||k.onProgress?.({loaded:i.loaded,total:i.total})}),c.on("DocStats",i=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),c.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),c.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),c.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:c}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(c)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(c){if(!Number.isInteger(c)||c<=0||c>this._numPages)return Promise.reject(new Error("Invalid page request."));const k=c-1,i=_classPrivateFieldGet(this,_pagePromises).get(k);if(i)return i;const I=this.messageHandler.sendWithPromise("GetPage",{pageIndex:k}).then(E=>{if(this.destroyed)throw new Error("Transport destroyed");const q=new PDFPageProxy(k,E,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(k,q),q});return _classPrivateFieldGet(this,_pagePromises).set(k,I),I}getPageIndex(c){return"object"!=typeof c||null===c||!Number.isInteger(c.num)||c.num<0||!Number.isInteger(c.gen)||c.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:c.num,gen:c.gen})}getAnnotations(c,k){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:c,intent:k})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(c){return"string"!=typeof c?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:c})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(c){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:c})}getStructTree(c){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:c})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(c=>new _optional_content_config.OptionalContentConfig(c))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(c=>({info:c[0],metadata:c[1]?new _metadata.Metadata(c[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(c=!1){var k=this;return _asyncToGenerator(function*(){if(yield k.messageHandler.sendWithPromise("Cleanup",null),!k.destroyed){for(const i of _classPrivateFieldGet(k,_pageCache).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);k.commonObjs.clear(),c||k.fontLoader.clear(),_classPrivateFieldSet(k,_metadataPromise,null),k._getFieldObjectsPromise=null,k._hasJSActionsPromise=null}})()}get loadingParams(){const c=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:c.disableAutoFetch,enableXfa:c.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(c,k=null){if(k){const I=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,c);return I.capability.promise.then(()=>k(I.data)),null}const i=_classPrivateFieldGet(this,_objs)[c];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${c}.`);return i.data}has(c){return _classPrivateFieldGet(this,_objs)[c]?.capability.settled||!1}resolve(c,k=null){const i=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,c);i.data=k,i.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2($){return _classPrivateFieldGet(this,_objs)[$]||(_classPrivateFieldGet(this,_objs)[$]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(c){this._internalRenderTask=c,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:c,params:k,objs:i,commonObjs:I,annotationCanvasMap:E,operatorList:q,pageIndex:U,canvasFactory:R,useRequestAnimationFrame:C=!1,pdfBug:B=!1}){this.callback=c,this.params=k,this.objs=i,this.commonObjs=I,this.annotationCanvasMap=E,this.operatorListIdx=null,this.operatorList=q,this._pageIndex=U,this.canvasFactory=R,this._pdfBug=B,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===C&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=k.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:c=!1,optionalContentConfig:k}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:I,transform:E,imageLayer:q,background:U}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,q,k,this.annotationCanvasMap),this.gfx.beginDrawing({transform:E,viewport:I,transparency:c,background:U}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(c=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(c||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var c=this;return _asyncToGenerator(function*(){c.cancelled||(c.operatorListIdx=c.gfx.executeOperatorList(c.operatorList,c.operatorListIdx,c._continueBound,c.stepper),c.operatorListIdx===c.operatorList.argsArray.length&&(c.running=!1,c.operatorList.lastChunk&&(c.gfx.endDrawing(),c._canvas&&InternalRenderTask.canvasInUse.delete(c._canvas),c.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StatTimer=c.RenderingCancelledException=c.PixelsPerInch=c.PageViewport=c.PDFDateString=c.DOMStandardFontDataFactory=c.DOMSVGFactory=c.DOMCanvasFactory=c.DOMCMapReaderFactory=void 0,c.deprecated=function t(v){console.log("Deprecated API usage: "+v)},c.getFilenameFromUrl=function T(v){const g=v.indexOf("#"),h=v.indexOf("?"),L=Math.min(g>0?g:v.length,h>0?h:v.length);return v.substring(v.lastIndexOf("/",L)+1,L)},c.getPdfFilenameFromUrl=function M(v,g="document.pdf"){if("string"!=typeof v)return g;if(_(v))return(0,I.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),g;const L=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,F=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(v);let D=L.exec(F[1])||L.exec(F[2])||L.exec(F[3]);if(D&&(D=D[0],D.includes("%")))try{D=L.exec(decodeURIComponent(D))[0]}catch{}return D||g},c.getXfaPageViewport=function d(v,{scale:g=1,rotation:h=0}){const{width:L,height:F}=v.attributes.style,D=[0,0,parseInt(L),parseInt(F)];return new O({viewBox:D,scale:g,rotation:h})},c.isDataScheme=_,c.isPdfFile=function m(v){return"string"==typeof v&&/\.pdf$/i.test(v)},c.isValidFetchUrl=S,c.loadScript=function n(v,g=!1){return new Promise((h,L)=>{const F=document.createElement("script");F.src=v,F.onload=function(D){g&&F.remove(),h(D)},F.onerror=function(){L(new Error(`Cannot load script at: ${F.src}`))},(document.head||document.documentElement).appendChild(F)})};var i=k(6),I=k(1);class q{}function R(v){return C.apply(this,arguments)}function C(){return(C=_asyncToGenerator(function*(v,g=!1){if(S(v,document.baseURI)){const h=yield fetch(v);if(!h.ok)throw new Error(h.statusText);return g?new Uint8Array(yield h.arrayBuffer()):(0,I.stringToBytes)(yield h.text())}return new Promise((h,L)=>{const F=new XMLHttpRequest;F.open("GET",v,!0),g&&(F.responseType="arraybuffer"),F.onreadystatechange=()=>{if(F.readyState===XMLHttpRequest.DONE){if(200===F.status||0===F.status){let D;if(g&&F.response?D=new Uint8Array(F.response):!g&&F.responseText&&(D=(0,I.stringToBytes)(F.responseText)),D)return void h(D)}L(new Error(F.statusText))}},F.send(null)})})).apply(this,arguments)}_defineProperty(q,"CSS",96),_defineProperty(q,"PDF",72),_defineProperty(q,"PDF_TO_CSS_UNITS",q.CSS/q.PDF),c.PixelsPerInch=q,c.DOMCanvasFactory=class U extends i.BaseCanvasFactory{constructor({ownerDocument:g=globalThis.document}={}){super(),this._document=g}_createCanvas(g,h){const L=this._document.createElement("canvas");return L.width=g,L.height=h,L}},c.DOMCMapReaderFactory=class B extends i.BaseCMapReaderFactory{_fetchData(g,h){return R(g,this.isCompressed).then(L=>({cMapData:L,compressionType:h}))}},c.DOMStandardFontDataFactory=class W extends i.BaseStandardFontDataFactory{_fetchData(g){return R(g,!0)}},c.DOMSVGFactory=class V extends i.BaseSVGFactory{_createSVG(g){return document.createElementNS("http://www.w3.org/2000/svg",g)}};class O{constructor({viewBox:g,scale:h,rotation:L,offsetX:F=0,offsetY:D=0,dontFlip:H=!1}){this.viewBox=g,this.scale=h,this.rotation=L,this.offsetX=F,this.offsetY=D;const G=(g[2]+g[0])/2,K=(g[3]+g[1])/2;let y,a,r,s,o,e,l,u;switch((L%=360)<0&&(L+=360),L){case 180:y=-1,a=0,r=0,s=1;break;case 90:y=0,a=1,r=1,s=0;break;case 270:y=0,a=-1,r=-1,s=0;break;case 0:y=1,a=0,r=0,s=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}H&&(r=-r,s=-s),0===y?(o=Math.abs(K-g[1])*h+F,e=Math.abs(G-g[0])*h+D,l=Math.abs(g[3]-g[1])*h,u=Math.abs(g[2]-g[0])*h):(o=Math.abs(G-g[0])*h+F,e=Math.abs(K-g[1])*h+D,l=Math.abs(g[2]-g[0])*h,u=Math.abs(g[3]-g[1])*h),this.transform=[y*h,a*h,r*h,s*h,o-y*h*G-r*h*K,e-a*h*G-s*h*K],this.width=l,this.height=u}clone({scale:g=this.scale,rotation:h=this.rotation,offsetX:L=this.offsetX,offsetY:F=this.offsetY,dontFlip:D=!1}={}){return new O({viewBox:this.viewBox.slice(),scale:g,rotation:h,offsetX:L,offsetY:F,dontFlip:D})}convertToViewportPoint(g,h){return I.Util.applyTransform([g,h],this.transform)}convertToViewportRectangle(g){const h=I.Util.applyTransform([g[0],g[1]],this.transform),L=I.Util.applyTransform([g[2],g[3]],this.transform);return[h[0],h[1],L[0],L[1]]}convertToPdfPoint(g,h){return I.Util.applyInverseTransform([g,h],this.transform)}}function _(v){const g=v.length;let h=0;for(;h<g&&""===v[h].trim();)h++;return"data:"===v.substring(h,h+5).toLowerCase()}function S(v,g){try{const{protocol:h}=g?new URL(v,g):new URL(v);return"http:"===h||"https:"===h}catch{return!1}}let p;c.PageViewport=O,c.RenderingCancelledException=class N extends I.BaseException{constructor(g,h){super(g,"RenderingCancelledException"),this.type=h}},c.StatTimer=class A{constructor(){this.started=Object.create(null),this.times=[]}time(g){g in this.started&&(0,I.warn)(`Timer is already running for ${g}`),this.started[g]=Date.now()}timeEnd(g){g in this.started||(0,I.warn)(`Timer has not been started for ${g}`),this.times.push({name:g,start:this.started[g],end:Date.now()}),delete this.started[g]}toString(){const g=[];let h=0;for(const L of this.times){const F=L.name;F.length>h&&(h=F.length)}for(const L of this.times){const F=L.end-L.start;g.push(`${L.name.padEnd(h)} ${F}ms\n`)}return g.join("")}},c.PDFDateString=class w{static toDateObject(g){if(!g||"string"!=typeof g)return null;p||(p=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const h=p.exec(g);if(!h)return null;const L=parseInt(h[1],10);let F=parseInt(h[2],10);F=F>=1&&F<=12?F-1:0;let D=parseInt(h[3],10);D=D>=1&&D<=31?D:1;let H=parseInt(h[4],10);H=H>=0&&H<=23?H:0;let G=parseInt(h[5],10);G=G>=0&&G<=59?G:0;let K=parseInt(h[6],10);K=K>=0&&K<=59?K:0;const y=h[7]||"Z";let a=parseInt(h[8],10);a=a>=0&&a<=23?a:0;let r=parseInt(h[9],10)||0;return r=r>=0&&r<=59?r:0,"-"===y?(H+=a,G+=r):"+"===y&&(H-=a,G-=r),new Date(Date.UTC(L,F,D,H,G,K))}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BaseStandardFontDataFactory=c.BaseSVGFactory=c.BaseCanvasFactory=c.BaseCMapReaderFactory=void 0;var i=k(1);class I{constructor(){this.constructor===I&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(C,B){if(C<=0||B<=0)throw new Error("Invalid canvas size");const W=this._createCanvas(C,B);return{canvas:W,context:W.getContext("2d")}}reset(C,B,W){if(!C.canvas)throw new Error("Canvas is not specified");if(B<=0||W<=0)throw new Error("Invalid canvas size");C.canvas.width=B,C.canvas.height=W}destroy(C){if(!C.canvas)throw new Error("Canvas is not specified");C.canvas.width=0,C.canvas.height=0,C.canvas=null,C.context=null}_createCanvas(C,B){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}c.BaseCanvasFactory=I;class E{constructor({baseUrl:C=null,isCompressed:B=!1}){this.constructor===E&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=C,this.isCompressed=B}fetch({name:C}){var B=this;return _asyncToGenerator(function*(){if(!B.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!C)throw new Error("CMap name must be specified.");const W=B.baseUrl+C+(B.isCompressed?".bcmap":"");return B._fetchData(W,B.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE).catch(O=>{throw new Error(`Unable to load ${B.isCompressed?"binary ":""}CMap at: ${W}`)})})()}_fetchData(C,B){(0,i.unreachable)("Abstract method `_fetchData` called.")}}c.BaseCMapReaderFactory=E;class q{constructor({baseUrl:C=null}){this.constructor===q&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=C}fetch({filename:C}){var B=this;return _asyncToGenerator(function*(){if(!B.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!C)throw new Error("Font filename must be specified.");const W=`${B.baseUrl}${C}`;return B._fetchData(W).catch(V=>{throw new Error(`Unable to load font data at: ${W}`)})})()}_fetchData(C){(0,i.unreachable)("Abstract method `_fetchData` called.")}}c.BaseStandardFontDataFactory=q;class U{constructor(){this.constructor===U&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(C,B){if(C<=0||B<=0)throw new Error("Invalid SVG dimensions");const W=this._createSVG("svg:svg");return W.setAttribute("version","1.1"),W.setAttribute("width",`${C}px`),W.setAttribute("height",`${B}px`),W.setAttribute("preserveAspectRatio","none"),W.setAttribute("viewBox",`0 0 ${C} ${B}`),W}createElement(C){if("string"!=typeof C)throw new Error("Invalid SVG element type");return this._createSVG(C)}_createSVG(C){(0,i.unreachable)("Abstract method `_createSVG` called.")}}c.BaseSVGFactory=U},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FontLoader=c.FontFaceObject=void 0;var i=k(1);class I{constructor({docId:R,onUnsupportedFeature:C,ownerDocument:B=globalThis.document,styleElement:W=null}){this.constructor===I&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=R,this._onUnsupportedFeature=C,this._document=B,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(R){this.nativeFontFaces.push(R),this._document.fonts.add(R)}insertRule(R){let C=this.styleElement;C||(C=this.styleElement=this._document.createElement("style"),C.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(C));const B=C.sheet;B.insertRule(R,B.cssRules.length)}clear(){for(const R of this.nativeFontFaces)this._document.fonts.delete(R);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(R){var C=this;return _asyncToGenerator(function*(){if(R.attached||R.missingFile)return;if(R.attached=!0,C.isFontLoadingAPISupported){const W=R.createNativeFontFace();if(W){C.addNativeFontFace(W);try{yield W.loaded}catch(V){throw C._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${W.family}': '${V}'.`),R.disableFontFace=!0,V}}return}const B=R.createFontFaceRule();if(B){if(C.insertRule(B),C.isSyncFontLoadingSupported)return;yield new Promise(W=>{const V=C._queueLoadingCallback(W);C._prepareFontLoadEvent([B],[R],V)})}})()}_queueLoadingCallback(R){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,i.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(R,C,B){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let E;c.FontLoader=E,c.FontLoader=E=class extends I{constructor(R){super(R),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let R=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(R=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",R)}_queueLoadingCallback(R){const B=this.loadingContext,W={id:"pdfjs-font-loading-"+B.nextRequestId++,done:!1,complete:function C(){for((0,i.assert)(!W.done,"completeRequest() cannot be called twice."),W.done=!0;B.requests.length>0&&B.requests[0].done;){const V=B.requests.shift();setTimeout(V.callback,0)}},callback:R};return B.requests.push(W),W}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(R,C,B){function W(L,F){return L.charCodeAt(F)<<24|L.charCodeAt(F+1)<<16|L.charCodeAt(F+2)<<8|255&L.charCodeAt(F+3)}function V(L,F,D,H){return L.substring(0,F)+H+L.substring(F+D)}let O,N;const _=this._document.createElement("canvas");_.width=1,_.height=1;const m=_.getContext("2d");let T=0;const A=`lt${Date.now()}${this.loadTestFontId++}`;let S=this._loadTestFont;S=V(S,976,A.length,A);const p=1482184792;let w=W(S,16);for(O=0,N=A.length-3;O<N;O+=4)w=w-p+W(A,O)|0;O<A.length&&(w=w-p+W(A+"XXX",O)|0),S=V(S,16,4,(0,i.string32)(w));const d=`url(data:font/opentype;base64,${btoa(S)});`;this.insertRule(`@font-face {font-family:"${A}";src:${d}}`);const g=[];for(const L of C)g.push(L.loadedName);g.push(A);const h=this._document.createElement("div");h.style.visibility="hidden",h.style.width=h.style.height="10px",h.style.position="absolute",h.style.top=h.style.left="0px";for(const L of g){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=L,h.appendChild(F)}this._document.body.appendChild(h),function M(L,F){if(T++,T>30)return(0,i.warn)("Load test font never loaded."),void F();m.font="30px "+L,m.fillText(".",0,20),m.getImageData(0,0,1,1).data[3]>0?F():setTimeout(M.bind(null,L,F))}(A,()=>{h.remove(),B.complete()})}},c.FontFaceObject=class q{constructor(R,{isEvalSupported:C=!0,disableFontFace:B=!1,ignoreErrors:W=!1,onUnsupportedFeature:V,fontRegistry:O=null}){this.compiledGlyphs=Object.create(null);for(const N in R)this[N]=R[N];this.isEvalSupported=!1!==C,this.disableFontFace=!0===B,this.ignoreErrors=!0===W,this._onUnsupportedFeature=V,this.fontRegistry=O}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let R;if(this.cssFontInfo){const C={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(C.style=`oblique ${this.cssFontInfo.italicAngle}deg`),R=new FontFace(this.cssFontInfo.fontFamily,this.data,C)}else R=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),R}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const R=(0,i.bytesToString)(this.data),C=`url(data:${this.mimetype};base64,${btoa(R)});`;let B;if(this.cssFontInfo){let W=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(W+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),B=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${W}src:${C}}`}else B=`@font-face {font-family:"${this.loadedName}";src:${C}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,C),B}getPathGenerator(R,C){if(void 0!==this.compiledGlyphs[C])return this.compiledGlyphs[C];let B;try{B=R.get(this.loadedName+"_path_"+C)}catch(W){if(!this.ignoreErrors)throw W;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${W}".`),this.compiledGlyphs[C]=function(V,O){}}if(this.isEvalSupported&&i.IsEvalSupportedCached.value){const W=[];for(const V of B){const O=void 0!==V.args?V.args.join(","):"";W.push("c.",V.cmd,"(",O,");\n")}return this.compiledGlyphs[C]=new Function("c","size",W.join(""))}return this.compiledGlyphs[C]=function(W,V){for(const O of B)"scale"===O.cmd&&(O.args=[V,-V]),W[O.cmd].apply(W,O.args)}}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NodeStandardFontDataFactory=c.NodeCanvasFactory=c.NodeCMapReaderFactory=void 0;var i=k(6),I=k(3),E=k(1);let q=class{constructor(){(0,E.unreachable)("Not implemented: NodeCanvasFactory")}};c.NodeCanvasFactory=q;let U=class{constructor(){(0,E.unreachable)("Not implemented: NodeCMapReaderFactory")}};c.NodeCMapReaderFactory=U;let R=class{constructor(){(0,E.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(c.NodeStandardFontDataFactory=R,I.isNodeJS){const C=function(B){return new Promise((W,V)=>{__webpack_require__(172).readFile(B,(N,_)=>{!N&&_?W(new Uint8Array(_)):V(new Error(N))})})};c.NodeCanvasFactory=q=class extends i.BaseCanvasFactory{_createCanvas(B,W){return __webpack_require__(3414).createCanvas(B,W)}},c.NodeCMapReaderFactory=U=class extends i.BaseCMapReaderFactory{_fetchData(B,W){return C(B).then(V=>({cMapData:V,compressionType:W}))}},c.NodeStandardFontDataFactory=R=class extends i.BaseStandardFontDataFactory{_fetchData(B){return C(B)}}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationStorage=void 0;var i=k(1);c.AnnotationStorage=class I{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(q,U){const R=this._storage.get(q);return void 0===R?U:Object.assign(U,R)}setValue(q,U){const R=this._storage.get(q);let C=!1;if(void 0!==R)for(const[B,W]of Object.entries(U))R[B]!==W&&(C=!0,R[B]=W);else C=!0,this._storage.set(q,U);C&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,i.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CanvasGraphics=void 0;var i=k(1),I=k(11),E=k(5);const R=4096,O=16;function m(y){if(y._transformStack&&(y._transformStack=[]),!y.mozCurrentTransform){y._originalSave=y.save,y._originalRestore=y.restore,y._originalRotate=y.rotate,y._originalScale=y.scale,y._originalTranslate=y.translate,y._originalTransform=y.transform,y._originalSetTransform=y.setTransform,y._originalResetTransform=y.resetTransform,y._transformMatrix=y._transformMatrix||[1,0,0,1,0,0],y._transformStack=[];try{const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(y),"lineWidth");y._setLineWidth=a.set,y._getLineWidth=a.get,Object.defineProperty(y,"lineWidth",{set:function(s){this._setLineWidth(1.000001*s)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(y,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(y,"mozCurrentTransformInverse",{get:function(){const[r,s,o,e,l,u]=this._transformMatrix,x=r*e-s*o,b=s*o-r*e;return[e/x,s/b,o/b,r/x,(e*l-o*u)/b,(s*l-r*u)/x]}}),y.save=function(){const r=this._transformMatrix;this._transformStack.push(r),this._transformMatrix=r.slice(0,6),this._originalSave()},y.restore=function(){0===this._transformStack.length&&(0,i.warn)("Tried to restore a ctx when the stack was already empty.");const r=this._transformStack.pop();r&&(this._transformMatrix=r,this._originalRestore())},y.translate=function(r,s){const o=this._transformMatrix;o[4]=o[0]*r+o[2]*s+o[4],o[5]=o[1]*r+o[3]*s+o[5],this._originalTranslate(r,s)},y.scale=function(r,s){const o=this._transformMatrix;o[0]*=r,o[1]*=r,o[2]*=s,o[3]*=s,this._originalScale(r,s)},y.transform=function(r,s,o,e,l,u){const x=this._transformMatrix;this._transformMatrix=[x[0]*r+x[2]*s,x[1]*r+x[3]*s,x[0]*o+x[2]*e,x[1]*o+x[3]*e,x[0]*l+x[2]*u+x[4],x[1]*l+x[3]*u+x[5]],y._originalTransform(r,s,o,e,l,u)},y.setTransform=function(r,s,o,e,l,u){this._transformMatrix=[r,s,o,e,l,u],y._originalSetTransform(r,s,o,e,l,u)},y.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],y._originalResetTransform()},y.rotate=function(r){const s=Math.cos(r),o=Math.sin(r),e=this._transformMatrix;this._transformMatrix=[e[0]*s+e[2]*o,e[1]*s+e[3]*o,e[0]*-o+e[2]*s,e[1]*-o+e[3]*s,e[4],e[5]],this._originalRotate(r)}}}class T{constructor(a){this.canvasFactory=a,this.cache=Object.create(null)}getCanvas(a,r,s,o){let e;return void 0!==this.cache[a]?(e=this.cache[a],this.canvasFactory.reset(e,r,s),e.context.setTransform(1,0,0,1,0,0)):(e=this.canvasFactory.create(r,s),this.cache[a]=e),o&&m(e.context),e}clear(){for(const a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}}class A{constructor(a,r){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,a,r])}clone(){const a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}setCurrentPoint(a,r){this.x=a,this.y=r}updatePathMinMax(a,r,s){[r,s]=i.Util.applyTransform([r,s],a),this.minX=Math.min(this.minX,r),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,r),this.maxY=Math.max(this.maxY,s)}updateCurvePathMinMax(a,r,s,o,e,l,u,x,b){const f=i.Util.bezierBoundingBox(r,s,o,e,l,u,x,b);this.updatePathMinMax(a,f[0],f[1]),this.updatePathMinMax(a,f[2],f[3])}getPathBoundingBox(a=I.PathType.FILL,r=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(a===I.PathType.STROKE){r||(0,i.unreachable)("Stroke bounding box must include transform.");const o=i.Util.singularValueDecompose2dScale(r),e=o[0]*this.lineWidth/2,l=o[1]*this.lineWidth/2;s[0]-=e,s[1]-=l,s[2]+=e,s[3]+=l}return s}updateClipFromPath(){const a=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}startNewPathAndClipBox(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(a=I.PathType.FILL,r=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(a,r))}}function S(y,a,r=null){if(typeof ImageData<"u"&&a instanceof ImageData)return void y.putImageData(a,0,0);const s=a.height,o=a.width,e=s%O,l=(s-e)/O,u=0===e?l:l+1,x=y.createImageData(o,O);let f,b=0;const j=a.data,Y=x.data;let X,Q,ie,oe,he,de,ae,be;if(r)switch(r.length){case 1:he=r[0],de=r[0],ae=r[0],be=r[0];break;case 4:he=r[0],de=r[1],ae=r[2],be=r[3]}if(a.kind===i.ImageKind.GRAYSCALE_1BPP){const ye=j.byteLength,fe=new Uint32Array(Y.buffer,0,Y.byteLength>>2),_e=fe.length,Ee=o+7>>3;let ee=4294967295,P=i.IsLittleEndianCached.value?4278190080:255;for(be&&255===be[0]&&0===be[255]&&([ee,P]=[P,ee]),X=0;X<u;X++){for(ie=X<l?O:e,f=0,Q=0;Q<ie;Q++){const z=ye-b;let Z=0;const se=z>Ee?o:8*z-7,re=-8&se;let le=0,ce=0;for(;Z<re;Z+=8)ce=j[b++],fe[f++]=128&ce?ee:P,fe[f++]=64&ce?ee:P,fe[f++]=32&ce?ee:P,fe[f++]=16&ce?ee:P,fe[f++]=8&ce?ee:P,fe[f++]=4&ce?ee:P,fe[f++]=2&ce?ee:P,fe[f++]=1&ce?ee:P;for(;Z<se;Z++)0===le&&(ce=j[b++],le=128),fe[f++]=ce&le?ee:P,le>>=1}for(;f<_e;)fe[f++]=0;y.putImageData(x,0,X*O)}}else if(a.kind===i.ImageKind.RGBA_32BPP){const ye=!!(he||de||ae);for(Q=0,oe=o*O*4,X=0;X<l;X++){if(Y.set(j.subarray(b,b+oe)),b+=oe,ye)for(let fe=0;fe<oe;fe+=4)he&&(Y[fe+0]=he[Y[fe+0]]),de&&(Y[fe+1]=de[Y[fe+1]]),ae&&(Y[fe+2]=ae[Y[fe+2]]);y.putImageData(x,0,Q),Q+=O}if(X<u){if(oe=o*e*4,Y.set(j.subarray(b,b+oe)),ye)for(let fe=0;fe<oe;fe+=4)he&&(Y[fe+0]=he[Y[fe+0]]),de&&(Y[fe+1]=de[Y[fe+1]]),ae&&(Y[fe+2]=ae[Y[fe+2]]);y.putImageData(x,0,Q)}}else{if(a.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${a.kind}`);{const ye=!!(he||de||ae);for(ie=O,oe=o*ie,X=0;X<u;X++){for(X>=l&&(ie=e,oe=o*ie),f=0,Q=oe;Q--;)Y[f++]=j[b++],Y[f++]=j[b++],Y[f++]=j[b++],Y[f++]=255;if(ye)for(let fe=0;fe<f;fe+=4)he&&(Y[fe+0]=he[Y[fe+0]]),de&&(Y[fe+1]=de[Y[fe+1]]),ae&&(Y[fe+2]=ae[Y[fe+2]]);y.putImageData(x,0,X*O)}}}}function n(y,a){const r=a.height,s=a.width,o=r%O,e=(r-o)/O,l=0===o?e:e+1,u=y.createImageData(s,O);let x=0;const b=a.data,f=u.data;for(let j=0;j<l;j++){const Y=j<e?O:o;let X=3;for(let Q=0;Q<Y;Q++){let ie,oe=0;for(let he=0;he<s;he++)oe||(ie=b[x++],oe=128),f[X]=ie&oe?0:255,X+=4,oe>>=1}y.putImageData(u,0,j*O)}}function t(y,a){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let s=0,o=r.length;s<o;s++){const e=r[s];void 0!==y[e]&&(a[e]=y[e])}void 0!==y.setLineDash&&(a.setLineDash(y.getLineDash()),a.lineDashOffset=y.lineDashOffset)}function p(y){y.strokeStyle="#000000",y.fillStyle="#000000",y.fillRule="nonzero",y.globalAlpha=1,y.lineWidth=1,y.lineCap="butt",y.lineJoin="miter",y.miterLimit=10,y.globalCompositeOperation="source-over",y.font="10px sans-serif",void 0!==y.setLineDash&&(y.setLineDash([]),y.lineDashOffset=0)}function w(y,a,r,s){const o=y.length;for(let e=3;e<o;e+=4){const l=y[e];if(0===l)y[e-3]=a,y[e-2]=r,y[e-1]=s;else if(l<255){const u=255-l;y[e-3]=y[e-3]*l+a*u>>8,y[e-2]=y[e-2]*l+r*u>>8,y[e-1]=y[e-1]*l+s*u>>8}}}function d(y,a,r){const s=y.length;for(let e=3;e<s;e+=4)a[e]=a[e]*(r?r[y[e]]:y[e])*.00392156862745098|0}function v(y,a,r){const s=y.length;for(let o=3;o<s;o+=4){const e=77*y[o-3]+152*y[o-2]+28*y[o-1];a[o]=r?a[o]*r[e>>8]>>8:a[o]*e>>16}}function L(y,a){const r=i.Util.singularValueDecompose2dScale(y);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*E.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==a?a:r[0]<=s||r[1]<=s}const F=["butt","round","square"],D=["miter","round","bevel"],H={},G={};class K{constructor(a,r,s,o,e,l,u){this.ctx=a,this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=s,this.canvasFactory=o,this.imageLayer=e,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=l,this.cachedCanvases=new T(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,a&&m(a),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:a,viewport:r,transparency:s=!1,background:o=null}){const e=this.ctx.canvas.width,l=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,e,l),this.ctx.restore(),s){const u=this.cachedCanvases.getCanvas("transparent",e,l,!0);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),p(this.ctx),a&&(this.ctx.transform.apply(this.ctx,a),this.outputScaleX=a[0],this.outputScaleY=a[0]),this.ctx.transform.apply(this.ctx,r.transform),this.viewportScale=r.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(a,r,s,o){const e=a.argsArray,l=a.fnArray;let u=r||0;const x=e.length;if(x===u)return u;const b=x-u>10&&"function"==typeof s,f=b?Date.now()+15:0;let j=0;const Y=this.commonObjs,X=this.objs;let Q;for(;;){if(void 0!==o&&u===o.nextBreakPoint)return o.breakIt(u,s),u;if(Q=l[u],Q!==i.OPS.dependency)this[Q].apply(this,e[u]);else for(const ie of e[u]){const oe=ie.startsWith("g_")?Y:X;if(!oe.has(ie))return oe.get(ie,s),u}if(u++,u===x)return u;if(b&&++j>10){if(Date.now()>f)return s(),u;j=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(a,r){const s=a.width,o=a.height;let f,j,e=Math.max(Math.hypot(r[0],r[1]),1),l=Math.max(Math.hypot(r[2],r[3]),1),u=s,x=o,b="prescale1";for(;e>2&&u>1||l>2&&x>1;){let Y=u,X=x;e>2&&u>1&&(Y=Math.ceil(u/2),e/=u/Y),l>2&&x>1&&(X=Math.ceil(x/2),l/=x/X),f=this.cachedCanvases.getCanvas(b,Y,X),j=f.context,j.clearRect(0,0,Y,X),j.drawImage(a,0,0,u,x,0,0,Y,X),a=f.canvas,u=Y,x=X,b="prescale1"===b?"prescale2":"prescale1"}return{img:a,paintWidth:u,paintHeight:x}}_createMaskCanvas(a){const r=this.ctx,s=a.width,o=a.height,e=this.current.fillColor,l=this.current.patternFill,u=this.cachedCanvases.getCanvas("maskCanvas",s,o);n(u.context,a);let f=i.Util.transform(r.mozCurrentTransform,[1/s,0,0,-1/o,0,0]);f=i.Util.transform(f,[1,0,0,1,0,-o]);const j=i.Util.applyTransform([0,0],f),Y=i.Util.applyTransform([s,o],f),X=i.Util.normalizeRect([j[0],j[1],Y[0],Y[1]]),Q=Math.ceil(X[2]-X[0]),ie=Math.ceil(X[3]-X[1]),oe=this.cachedCanvases.getCanvas("fillCanvas",Q,ie,!0),he=oe.context,de=Math.min(j[0],Y[0]),ae=Math.min(j[1],Y[1]);he.translate(-de,-ae),he.transform.apply(he,f);const be=this._scaleImage(u.canvas,he.mozCurrentTransformInverse);he.imageSmoothingEnabled=L(he.mozCurrentTransform,a.interpolate),he.drawImage(be.img,0,0,be.img.width,be.img.height,0,0,s,o),he.globalCompositeOperation="source-in";const ye=i.Util.transform(he.mozCurrentTransformInverse,[1,0,0,1,-de,-ae]);return he.fillStyle=l?e.getPattern(r,this,ye,I.PathType.FILL):e,he.fillRect(0,0,s,o),{canvas:oe.canvas,offsetX:Math.round(de),offsetY:Math.round(ae)}}setLineWidth(a){this.current.lineWidth=a,this.ctx.lineWidth=a}setLineCap(a){this.ctx.lineCap=F[a]}setLineJoin(a){this.ctx.lineJoin=D[a]}setMiterLimit(a){this.ctx.miterLimit=a}setDash(a,r){const s=this.ctx;void 0!==s.setLineDash&&(s.setLineDash(a),s.lineDashOffset=r)}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(let r=0,s=a.length;r<s;r++){const o=a[r],l=o[1];switch(o[0]){case"LW":this.setLineWidth(l);break;case"LC":this.setLineCap(l);break;case"LJ":this.setLineJoin(l);break;case"ML":this.setMiterLimit(l);break;case"D":this.setDash(l[0],l[1]);break;case"RI":this.setRenderingIntent(l);break;case"FL":this.setFlatness(l);break;case"Font":this.setFont(l[0],l[1]);break;case"CA":this.current.strokeAlpha=o[1];break;case"ca":this.current.fillAlpha=o[1],this.ctx.globalAlpha=o[1];break;case"BM":this.ctx.globalCompositeOperation=l;break;case"SMask":this.current.activeSMask=l?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=l}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const a=this.inSMaskMode;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=o.context;const e=this.ctx;e.setTransform.apply(e,this.suspendedCtx.mozCurrentTransform),t(this.suspendedCtx,e),function _(y,a){if(y._removeMirroring)throw new Error("Context is already forwarding operations.");y.__originalSave=y.save,y.__originalRestore=y.restore,y.__originalRotate=y.rotate,y.__originalScale=y.scale,y.__originalTranslate=y.translate,y.__originalTransform=y.transform,y.__originalSetTransform=y.setTransform,y.__originalResetTransform=y.resetTransform,y.__originalClip=y.clip,y.__originalMoveTo=y.moveTo,y.__originalLineTo=y.lineTo,y.__originalBezierCurveTo=y.bezierCurveTo,y.__originalRect=y.rect,y.__originalClosePath=y.closePath,y.__originalBeginPath=y.beginPath,y._removeMirroring=()=>{y.save=y.__originalSave,y.restore=y.__originalRestore,y.rotate=y.__originalRotate,y.scale=y.__originalScale,y.translate=y.__originalTranslate,y.transform=y.__originalTransform,y.setTransform=y.__originalSetTransform,y.resetTransform=y.__originalResetTransform,y.clip=y.__originalClip,y.moveTo=y.__originalMoveTo,y.lineTo=y.__originalLineTo,y.bezierCurveTo=y.__originalBezierCurveTo,y.rect=y.__originalRect,y.closePath=y.__originalClosePath,y.beginPath=y.__originalBeginPath,delete y._removeMirroring},y.save=function(){a.save(),this.__originalSave()},y.restore=function(){a.restore(),this.__originalRestore()},y.translate=function(s,o){a.translate(s,o),this.__originalTranslate(s,o)},y.scale=function(s,o){a.scale(s,o),this.__originalScale(s,o)},y.transform=function(s,o,e,l,u,x){a.transform(s,o,e,l,u,x),this.__originalTransform(s,o,e,l,u,x)},y.setTransform=function(s,o,e,l,u,x){a.setTransform(s,o,e,l,u,x),this.__originalSetTransform(s,o,e,l,u,x)},y.resetTransform=function(){a.resetTransform(),this.__originalResetTransform()},y.rotate=function(s){a.rotate(s),this.__originalRotate(s)},y.clip=function(s){a.clip(s),this.__originalClip(s)},y.moveTo=function(r,s){a.moveTo(r,s),this.__originalMoveTo(r,s)},y.lineTo=function(r,s){a.lineTo(r,s),this.__originalLineTo(r,s)},y.bezierCurveTo=function(r,s,o,e,l,u){a.bezierCurveTo(r,s,o,e,l,u),this.__originalBezierCurveTo(r,s,o,e,l,u)},y.rect=function(r,s,o,e){a.rect(r,s,o,e),this.__originalRect(r,s,o,e)},y.closePath=function(){a.closePath(),this.__originalClosePath()},y.beginPath=function(){a.beginPath(),this.__originalBeginPath()}}(e,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),t(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(a){this.current.activeSMask&&(a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function h(y,a,r,s){const o=s[0],e=s[1],l=s[2]-o,u=s[3]-e;0===l||0===u||(function g(y,a,r,s,o,e,l,u,x,b,f){const j=!!e,Y=j?e[0]:0,X=j?e[1]:0,Q=j?e[2]:0;let ie;ie="Luminosity"===o?v:d;const he=Math.min(s,Math.ceil(1048576/r));for(let de=0;de<s;de+=he){const ae=Math.min(he,s-de),be=y.getImageData(u-b,de+(x-f),r,ae),ye=a.getImageData(u,de+x,r,ae);j&&w(be.data,Y,X,Q),ie(be.data,ye.data,l),a.putImageData(ye,u,de+x)}}(a.context,r,l,u,a.subtype,a.backdrop,a.transferMap,o,e,a.offsetX,a.offsetY),y.save(),y.globalAlpha=1,y.globalCompositeOperation="source-over",y.setTransform(1,0,0,1,0,0),y.drawImage(r.canvas,0,0),y.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(t(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const a=this.current;this.stateStack.push(a),this.current=a.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),t(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(a,r,s,o,e,l){this.ctx.transform(a,r,s,o,e,l),this._cachedGetSinglePixelWidth=null}constructPath(a,r){const s=this.ctx,o=this.current;let u,x,e=o.x,l=o.y;for(let b=0,f=0,j=a.length;b<j;b++)switch(0|a[b]){case i.OPS.rectangle:e=r[f++],l=r[f++];const Y=r[f++],X=r[f++],Q=e+Y,ie=l+X;s.moveTo(e,l),0===Y||0===X?s.lineTo(Q,ie):(s.lineTo(Q,l),s.lineTo(Q,ie),s.lineTo(e,ie)),o.updatePathMinMax(s.mozCurrentTransform,e,l),o.updatePathMinMax(s.mozCurrentTransform,Q,ie),s.closePath();break;case i.OPS.moveTo:e=r[f++],l=r[f++],s.moveTo(e,l),o.updatePathMinMax(s.mozCurrentTransform,e,l);break;case i.OPS.lineTo:e=r[f++],l=r[f++],s.lineTo(e,l),o.updatePathMinMax(s.mozCurrentTransform,e,l);break;case i.OPS.curveTo:u=e,x=l,e=r[f+4],l=r[f+5],s.bezierCurveTo(r[f],r[f+1],r[f+2],r[f+3],e,l),o.updateCurvePathMinMax(s.mozCurrentTransform,u,x,r[f],r[f+1],r[f+2],r[f+3],e,l),f+=6;break;case i.OPS.curveTo2:u=e,x=l,s.bezierCurveTo(e,l,r[f],r[f+1],r[f+2],r[f+3]),o.updateCurvePathMinMax(s.mozCurrentTransform,u,x,e,l,r[f],r[f+1],r[f+2],r[f+3]),e=r[f+2],l=r[f+3],f+=4;break;case i.OPS.curveTo3:u=e,x=l,e=r[f+2],l=r[f+3],s.bezierCurveTo(r[f],r[f+1],e,l,e,l),o.updateCurvePathMinMax(s.mozCurrentTransform,u,x,r[f],r[f+1],e,l,e,l),f+=4;break;case i.OPS.closePath:s.closePath()}o.setCurrentPoint(e,l)}closePath(){this.ctx.closePath()}stroke(a){a=!(typeof a<"u")||a;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof s&&s?.getPattern){const o=this.getSinglePixelWidth();r.save(),r.strokeStyle=s.getPattern(r,this,r.mozCurrentTransformInverse,I.PathType.STROKE),r.lineWidth=Math.max(o,this.current.lineWidth),r.stroke(),r.restore()}else{const o=this.getSinglePixelWidth();o<0&&-o>=this.current.lineWidth?(r.save(),r.resetTransform(),r.lineWidth=Math.floor(this._combinedScaleFactor),r.stroke(),r.restore()):(r.lineWidth=Math.max(o,this.current.lineWidth),r.stroke())}a&&this.consumePath(this.current.getClippedPathBoundingBox()),r.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(a){a=!(typeof a<"u")||a;const r=this.ctx,s=this.current.fillColor;let e=!1;this.current.patternFill&&(r.save(),r.fillStyle=s.getPattern(r,this,r.mozCurrentTransformInverse,I.PathType.FILL),e=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==l&&(this.pendingEOFill?(r.fill("evenodd"),this.pendingEOFill=!1):r.fill()),e&&r.restore(),a&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=H}eoClip(){this.pendingClip=G}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const a=this.pendingTextPaths,r=this.ctx;if(void 0!==a){r.save(),r.beginPath();for(let s=0;s<a.length;s++){const o=a[s];r.setTransform.apply(r,o.transform),r.translate(o.x,o.y),o.addToPath(r,o.fontSize)}r.restore(),r.clip(),r.beginPath(),delete this.pendingTextPaths}else r.beginPath()}setCharSpacing(a){this.current.charSpacing=a}setWordSpacing(a){this.current.wordSpacing=a}setHScale(a){this.current.textHScale=a/100}setLeading(a){this.current.leading=-a}setFont(a,r){const s=this.commonObjs.get(a),o=this.current;if(!s)throw new Error(`Can't find font for ${a}`);if(o.fontMatrix=s.fontMatrix||i.FONT_IDENTITY_MATRIX,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+a),r<0?(r=-r,o.fontDirection=-1):o.fontDirection=1,this.current.font=s,this.current.fontSize=r,s.isType3Font)return;let l="normal";s.black?l="900":s.bold&&(l="bold");const u=s.italic?"italic":"normal",x=`"${s.loadedName||"sans-serif"}", ${s.fallbackName}`;let b=r;r<16?b=16:r>100&&(b=100),this.current.fontSizeScale=r/b,this.ctx.font=`${u} ${l} ${b}px ${x}`}setTextRenderingMode(a){this.current.textRenderingMode=a}setTextRise(a){this.current.textRise=a}moveText(a,r){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=r}setLeadingMoveText(a,r){this.setLeading(-r),this.moveText(a,r)}setTextMatrix(a,r,s,o,e,l){this.current.textMatrix=[a,r,s,o,e,l],this.current.textMatrixScale=Math.hypot(a,r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(a,r,s,o,e){const l=this.ctx,u=this.current,x=u.font,b=u.textRenderingMode,f=u.fontSize/u.fontSizeScale,j=b&i.TextRenderingMode.FILL_STROKE_MASK,Y=!!(b&i.TextRenderingMode.ADD_TO_PATH_FLAG),X=u.patternFill&&!x.missingFile;let Q;(x.disableFontFace||Y||X)&&(Q=x.getPathGenerator(this.commonObjs,a)),x.disableFontFace||X?(l.save(),l.translate(r,s),l.beginPath(),Q(l,f),o&&l.setTransform.apply(l,o),(j===i.TextRenderingMode.FILL||j===i.TextRenderingMode.FILL_STROKE)&&l.fill(),(j===i.TextRenderingMode.STROKE||j===i.TextRenderingMode.FILL_STROKE)&&(e&&(l.resetTransform(),l.lineWidth=Math.floor(this._combinedScaleFactor)),l.stroke()),l.restore()):((j===i.TextRenderingMode.FILL||j===i.TextRenderingMode.FILL_STROKE)&&l.fillText(a,r,s),(j===i.TextRenderingMode.STROKE||j===i.TextRenderingMode.FILL_STROKE)&&(e?(l.save(),l.moveTo(r,s),l.resetTransform(),l.lineWidth=Math.floor(this._combinedScaleFactor),l.strokeText(a,0,0),l.restore()):l.strokeText(a,r,s))),Y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:l.mozCurrentTransform,x:r,y:s,fontSize:f,addToPath:Q})}get isFontSubpixelAAEnabled(){const{context:a}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);a.scale(1.5,1),a.fillText("I",0,10);const r=a.getImageData(0,0,10,10).data;let s=!1;for(let o=3;o<r.length;o+=4)if(r[o]>0&&r[o]<255){s=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",s)}showText(a){const r=this.current,s=r.font;if(s.isType3Font)return this.showType3Text(a);const o=r.fontSize;if(0===o)return;const e=this.ctx,l=r.fontSizeScale,u=r.charSpacing,x=r.wordSpacing,b=r.fontDirection,f=r.textHScale*b,j=a.length,Y=s.vertical,X=Y?1:-1,Q=s.defaultVMetrics,ie=o*r.fontMatrix[0],oe=r.textRenderingMode===i.TextRenderingMode.FILL&&!s.disableFontFace&&!r.patternFill;let he;if(e.save(),e.transform.apply(e,r.textMatrix),e.translate(r.x,r.y+r.textRise),e.scale(f,b>0?-1:1),r.patternFill){e.save();const _e=r.fillColor.getPattern(e,this,e.mozCurrentTransformInverse,I.PathType.FILL);he=e.mozCurrentTransform,e.restore(),e.fillStyle=_e}let de=r.lineWidth,ae=!1;const be=r.textMatrixScale;if(0===be||0===de){const _e=r.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(_e===i.TextRenderingMode.STROKE||_e===i.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,de=this.getSinglePixelWidth(),ae=de<0)}else de/=be;1!==l&&(e.scale(l,l),de/=l),e.lineWidth=de;let fe,ye=0;for(fe=0;fe<j;++fe){const _e=a[fe];if("number"==typeof _e){ye+=X*_e*o/1e3;continue}let Ee=!1;const ee=(_e.isSpace?x:0)+u,P=_e.fontChar,z=_e.accent;let Z,se,le,re=_e.width;if(Y){const ce=_e.vmetric||Q,ue=-(_e.vmetric?ce[1]:.5*re)*ie;re=ce?-ce[0]:re,Z=ue/l,se=(ye+ce[2]*ie)/l}else Z=ye/l,se=0;if(s.remeasure&&re>0){const ce=1e3*e.measureText(P).width/o*l;if(re<ce&&this.isFontSubpixelAAEnabled){const ue=re/ce;Ee=!0,e.save(),e.scale(ue,1),Z/=ue}else re!==ce&&(Z+=(re-ce)/2e3*o/l)}this.contentVisible&&(_e.isInFont||s.missingFile)&&(oe&&!z?e.fillText(P,Z,se):(this.paintChar(P,Z,se,he,ae),z&&this.paintChar(z.fontChar,Z+o*z.offset.x/l,se-o*z.offset.y/l,he,ae))),le=Y?re*ie-ee*b:re*ie+ee*b,ye+=le,Ee&&e.restore()}Y?r.y-=ye:r.x+=ye*f,e.restore(),this.compose()}showType3Text(a){const r=this.ctx,s=this.current,o=s.font,e=s.fontSize,l=s.fontDirection,u=o.vertical?1:-1,x=s.charSpacing,b=s.wordSpacing,f=s.textHScale*l,j=s.fontMatrix||i.FONT_IDENTITY_MATRIX,Y=a.length;let Q,ie,oe,he;if(s.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==e){for(this._cachedGetSinglePixelWidth=null,r.save(),r.transform.apply(r,s.textMatrix),r.translate(s.x,s.y),r.scale(f,l),Q=0;Q<Y;++Q){if(ie=a[Q],"number"==typeof ie){he=u*ie*e/1e3,this.ctx.translate(he,0),s.x+=he*f;continue}const de=(ie.isSpace?b:0)+x,ae=o.charProcOperatorList[ie.operatorListId];ae?(this.contentVisible&&(this.processingType3=ie,this.save(),r.scale(e,e),r.transform.apply(r,j),this.executeOperatorList(ae),this.restore()),oe=i.Util.applyTransform([ie.width,0],j)[0]*e+de,r.translate(oe,0),s.x+=oe*f):(0,i.warn)(`Type3 character "${ie.operatorListId}" is not available.`)}r.restore(),this.processingType3=null}}setCharWidth(a,r){}setCharWidthAndBounds(a,r,s,o,e,l){this.ctx.rect(s,o,e-s,l-o),this.clip(),this.endPath()}getColorN_Pattern(a){let r;if("TilingPattern"===a[0]){const s=a[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();r=new I.TilingPattern(a,s,this.ctx,{createCanvasGraphics:l=>new K(l,this.commonObjs,this.objs,this.canvasFactory)},o)}else r=this._getPattern(a[1],a[2]);return r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(a,r,s){const o=i.Util.makeHexColor(a,r,s);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(a,r,s){const o=i.Util.makeHexColor(a,r,s);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(a,r=null){let s;return this.cachedPatterns.has(a)?s=this.cachedPatterns.get(a):(s=(0,I.getShadingPattern)(this.objs.get(a)),this.cachedPatterns.set(a,s)),r&&(s.matrix=r),s}shadingFill(a){if(!this.contentVisible)return;const r=this.ctx;this.save();const s=this._getPattern(a);r.fillStyle=s.getPattern(r,this,r.mozCurrentTransformInverse,I.PathType.SHADING);const o=r.mozCurrentTransformInverse;if(o){const e=r.canvas,l=e.width,u=e.height,x=i.Util.applyTransform([0,0],o),b=i.Util.applyTransform([0,u],o),f=i.Util.applyTransform([l,0],o),j=i.Util.applyTransform([l,u],o),Y=Math.min(x[0],b[0],f[0],j[0]),X=Math.min(x[1],b[1],f[1],j[1]),Q=Math.max(x[0],b[0],f[0],j[0]),ie=Math.max(x[1],b[1],f[1],j[1]);this.ctx.fillRect(Y,X,Q-Y,ie-X)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(a,r){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,r)&&(this.ctx.rect(r[0],r[1],r[2]-r[0],r[3]-r[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,r[0],r[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,r[2],r[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(a){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;a.isolated||(0,i.info)("TODO: Support non-isolated groups."),a.knockout&&(0,i.warn)("Knockout groups not supported.");const s=r.mozCurrentTransform;if(a.matrix&&r.transform.apply(r,a.matrix),!a.bbox)throw new Error("Bounding box is required.");let o=i.Util.getAxialAlignedBoundingBox(a.bbox,r.mozCurrentTransform);o=i.Util.intersect(o,[0,0,r.canvas.width,r.canvas.height])||[0,0,0,0];const l=Math.floor(o[0]),u=Math.floor(o[1]);let x=Math.max(Math.ceil(o[2])-l,1),b=Math.max(Math.ceil(o[3])-u,1),f=1,j=1;x>R&&(f=x/R,x=R),b>R&&(j=b/R,b=R),this.current.startNewPathAndClipBox([0,0,x,b]);let Y="groupAt"+this.groupLevel;a.smask&&(Y+="_smask_"+this.smaskCounter++%2);const X=this.cachedCanvases.getCanvas(Y,x,b,!0),Q=X.context;Q.scale(1/f,1/j),Q.translate(-l,-u),Q.transform.apply(Q,s),a.smask?this.smaskStack.push({canvas:X.canvas,context:Q,offsetX:l,offsetY:u,scaleX:f,scaleY:j,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(l,u),r.scale(f,j),r.save()),t(r,Q),this.ctx=Q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(a){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,a.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,o);const e=i.Util.getAxialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],o);this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(e)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(a,r,s,o,e){if(this.save(),Array.isArray(r)&&4===r.length){const l=r[2]-r[0],u=r[3]-r[1];if(e&&this.annotationCanvasMap){(s=s.slice())[4]-=r[0],s[5]-=r[1],(r=r.slice())[0]=r[1]=0,r[2]=l,r[3]=u;const[x,b]=i.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:f}=this,j=Math.ceil(l*this.outputScaleX*f),Y=Math.ceil(u*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(j,Y);const{canvas:X,context:Q}=this.annotationCanvas;X.style.width=`calc(${l}px * var(--viewport-scale-factor))`,X.style.height=`calc(${u}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(a,X),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Q,this.ctx.setTransform(x,0,0,-b,0,u*b),m(this.ctx),p(this.ctx)}else p(this.ctx),this.ctx.rect(r[0],r[1],l,u),this.clip(),this.endPath()}this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,s),this.transform.apply(this,o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(a){if(!this.contentVisible)return;const r=this.ctx,s=a.width,o=a.height,e=this.processingType3;if(e&&void 0===e.compiled&&(e.compiled=s<=1e3&&o<=1e3?function M(y){const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=y.width,o=y.height,e=s+1;let l,u,x,b;const f=new Uint8Array(e*(o+1)),j=s+7&-8,Y=y.data,X=new Uint8Array(j*o);let Q=0;for(l=0,u=Y.length;l<u;l++){const ae=Y[l];let be=128;for(;be>0;)X[Q++]=ae&be?0:255,be>>=1}let ie=0;for(Q=0,0!==X[Q]&&(f[0]=1,++ie),x=1;x<s;x++)X[Q]!==X[Q+1]&&(f[x]=X[Q]?2:1,++ie),Q++;for(0!==X[Q]&&(f[x]=2,++ie),l=1;l<o;l++){Q=l*j,b=l*e,X[Q-j]!==X[Q]&&(f[b]=X[Q]?1:8,++ie);let ae=(X[Q]?4:0)+(X[Q-j]?8:0);for(x=1;x<s;x++)ae=(ae>>2)+(X[Q+1]?4:0)+(X[Q-j+1]?8:0),r[ae]&&(f[b+x]=r[ae],++ie),Q++;if(X[Q-j]!==X[Q]&&(f[b+x]=X[Q]?2:4,++ie),ie>1e3)return null}for(Q=j*(o-1),b=l*e,0!==X[Q]&&(f[b]=8,++ie),x=1;x<s;x++)X[Q]!==X[Q+1]&&(f[b+x]=X[Q]?4:8,++ie),Q++;if(0!==X[Q]&&(f[b+x]=4,++ie),ie>1e3)return null;const oe=new Int32Array([0,e,-1,0,-e,0,0,0,1]),he=[];for(l=0;ie&&l<=o;l++){let ae=l*e;const be=ae+s;for(;ae<be&&!f[ae];)ae++;if(ae===be)continue;const ye=[ae%e,l],fe=ae;let _e=f[ae];do{const Ee=oe[_e];do{ae+=Ee}while(!f[ae]);const ee=f[ae];5!==ee&&10!==ee?(_e=ee,f[ae]=0):(_e=ee&51*_e>>4,f[ae]&=_e>>2|_e<<2),ye.push(ae%e,ae/e|0),f[ae]||--ie}while(fe!==ae);he.push(ye),--l}return function(ae){ae.save(),ae.scale(1/s,-1/o),ae.translate(0,-o),ae.beginPath();for(let be=0,ye=he.length;be<ye;be++){const fe=he[be];ae.moveTo(fe[0],fe[1]);for(let _e=2,Ee=fe.length;_e<Ee;_e+=2)ae.lineTo(fe[_e],fe[_e+1])}ae.fill(),ae.beginPath(),ae.restore()}}({data:a.data,width:s,height:o}):null),e?.compiled)return void e.compiled(r);const l=this._createMaskCanvas(a),u=l.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(u,l.offsetX,l.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(a,r,s=0,o=0,e,l){if(!this.contentVisible)return;const u=this.ctx;u.save();const x=u.mozCurrentTransform;u.transform(r,s,o,e,0,0);const b=this._createMaskCanvas(a);u.setTransform(1,0,0,1,0,0);for(let f=0,j=l.length;f<j;f+=2){const Y=i.Util.transform(x,[r,s,o,e,l[f],l[f+1]]),[X,Q]=i.Util.applyTransform([0,0],Y);u.drawImage(b.canvas,X,Q)}u.restore(),this.compose()}paintImageMaskXObjectGroup(a){if(!this.contentVisible)return;const r=this.ctx,s=this.current.fillColor,o=this.current.patternFill;for(let e=0,l=a.length;e<l;e++){const u=a[e],x=u.width,b=u.height,f=this.cachedCanvases.getCanvas("maskCanvas",x,b),j=f.context;j.save(),n(j,u),j.globalCompositeOperation="source-in",j.fillStyle=o?s.getPattern(j,this,r.mozCurrentTransformInverse,I.PathType.FILL):s,j.fillRect(0,0,x,b),j.restore(),r.save(),r.transform.apply(r,u.transform),r.scale(1,-1),r.drawImage(f.canvas,0,0,x,b,0,-1,1,1),r.restore()}this.compose()}paintImageXObject(a){if(!this.contentVisible)return;const r=a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a);r?this.paintInlineImageXObject(r):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(a,r,s,o){if(!this.contentVisible)return;const e=a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a);if(!e)return void(0,i.warn)("Dependent image isn't ready yet");const l=e.width,u=e.height,x=[];for(let b=0,f=o.length;b<f;b+=2)x.push({transform:[r,0,0,s,o[b],o[b+1]],x:0,y:0,w:l,h:u});this.paintInlineImageXObjectGroup(e,x)}paintInlineImageXObject(a){if(!this.contentVisible)return;const r=a.width,s=a.height,o=this.ctx;let e;if(this.save(),o.scale(1/r,-1/s),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)e=a;else{const u=this.cachedCanvases.getCanvas("inlineImage",r,s);S(u.context,a,this.current.transferMaps),e=u.canvas}const l=this._scaleImage(e,o.mozCurrentTransformInverse);if(o.imageSmoothingEnabled=L(o.mozCurrentTransform,a.interpolate),o.drawImage(l.img,0,0,l.paintWidth,l.paintHeight,0,-s,r,s),this.imageLayer){const u=this.getCanvasPosition(0,-s);this.imageLayer.appendImage({imgData:a,left:u[0],top:u[1],width:r/o.mozCurrentTransformInverse[0],height:s/o.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(a,r){if(!this.contentVisible)return;const s=this.ctx,o=a.width,e=a.height,l=this.cachedCanvases.getCanvas("inlineImage",o,e);S(l.context,a,this.current.transferMaps);for(let x=0,b=r.length;x<b;x++){const f=r[x];if(s.save(),s.transform.apply(s,f.transform),s.scale(1,-1),s.drawImage(l.canvas,f.x,f.y,f.w,f.h,0,-1,1,1),this.imageLayer){const j=this.getCanvasPosition(f.x,f.y);this.imageLayer.appendImage({imgData:a,left:j[0],top:j[1],width:o,height:e})}s.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(a){}markPointProps(a,r){}beginMarkedContent(a){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(a,r){this.markedContentStack.push("OC"===a?{visible:this.optionalContentConfig.isVisible(r)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(a){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);const r=this.ctx;this.pendingClip&&(this.pendingClip===G?r.clip("evenodd"):r.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const a=this.ctx.mozCurrentTransform,r=Math.abs(a[0]*a[3]-a[2]*a[1]),s=a[0]**2+a[2]**2,o=a[1]**2+a[3]**2,e=Math.sqrt(Math.max(s,o))/r;this._cachedGetSinglePixelWidth=s!==o&&this._combinedScaleFactor*e>1?-this._combinedScaleFactor*e:r>Number.EPSILON?e:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(a,r){const s=this.ctx.mozCurrentTransform;return[s[0]*a+s[2]*r+s[4],s[1]*a+s[3]*r+s[5]]}isContentVisible(){for(let a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}c.CanvasGraphics=K;for(const y in i.OPS)void 0!==K.prototype[y]&&(K.prototype[i.OPS[y]]=K.prototype[y])},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TilingPattern=c.PathType=void 0,c.getShadingPattern=function V(_){switch(_[0]){case"RadialAxial":return new U(_);case"Mesh":return new B(_);case"Dummy":return new W}throw new Error(`Unknown IR type: ${_[0]}`)};var i=k(1);const I={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function E(_,m){if(!m||typeof Path2D>"u")return;const T=m[2]-m[0],M=m[3]-m[1],A=new Path2D;A.rect(m[0],m[1],T,M),_.clip(A)}c.PathType=I;class q{constructor(){this.constructor===q&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class U extends q{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let T;"axial"===this._type?T=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(T=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const M of this._colorStops)T.addColorStop(M[0],M[1]);return T}getPattern(m,T,M,A){let S;if(A===I.STROKE||A===I.FILL){const n=T.current.getClippedPathBoundingBox(A,m.mozCurrentTransform)||[0,0,0,0],t=Math.ceil(n[2]-n[0])||1,p=Math.ceil(n[3]-n[1])||1,w=T.cachedCanvases.getCanvas("pattern",t,p,!0),d=w.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-n[0],-n[1]),M=i.Util.transform(M,[1,0,0,1,n[0],n[1]]),d.transform.apply(d,T.baseTransform),this.matrix&&d.transform.apply(d,this.matrix),E(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),S=m.createPattern(w.canvas,"no-repeat");const v=new DOMMatrix(M);try{S.setTransform(v)}catch(g){(0,i.warn)(`RadialAxialShadingPattern.getPattern: "${g?.message}".`)}}else E(m,this._bbox),S=this._createGradient(m);return S}}function R(_,m,T,M,A,S,n,t){const p=m.coords,w=m.colors,d=_.data,v=4*_.width;let g;p[T+1]>p[M+1]&&(g=T,T=M,M=g,g=S,S=n,n=g),p[M+1]>p[A+1]&&(g=M,M=A,A=g,g=n,n=t,t=g),p[T+1]>p[M+1]&&(g=T,T=M,M=g,g=S,S=n,n=g);const h=(p[T]+m.offsetX)*m.scaleX,L=(p[T+1]+m.offsetY)*m.scaleY,F=(p[M]+m.offsetX)*m.scaleX,D=(p[M+1]+m.offsetY)*m.scaleY,H=(p[A]+m.offsetX)*m.scaleX,G=(p[A+1]+m.offsetY)*m.scaleY;if(L>=G)return;const K=w[S],y=w[S+1],a=w[S+2],r=w[n],s=w[n+1],o=w[n+2],e=w[t],l=w[t+1],u=w[t+2],x=Math.round(L),b=Math.round(G);let f,j,Y,X,Q,ie,oe,he;for(let de=x;de<=b;de++){if(de<D){let _e;_e=de<L?0:(L-de)/(L-D),f=h-(h-F)*_e,j=K-(K-r)*_e,Y=y-(y-s)*_e,X=a-(a-o)*_e}else{let _e;_e=de>G?1:D===G?0:(D-de)/(D-G),f=F-(F-H)*_e,j=r-(r-e)*_e,Y=s-(s-l)*_e,X=o-(o-u)*_e}let ae;ae=de<L?0:de>G?1:(L-de)/(L-G),Q=h-(h-H)*ae,ie=K-(K-e)*ae,oe=y-(y-l)*ae,he=a-(a-u)*ae;const be=Math.round(Math.min(f,Q)),ye=Math.round(Math.max(f,Q));let fe=v*de+4*be;for(let _e=be;_e<=ye;_e++)ae=(f-_e)/(f-Q),ae<0?ae=0:ae>1&&(ae=1),d[fe++]=j-(j-ie)*ae|0,d[fe++]=Y-(Y-oe)*ae|0,d[fe++]=X-(X-he)*ae|0,d[fe++]=255}}function C(_,m,T){const M=m.coords,A=m.colors;let S,n;switch(m.type){case"lattice":const t=m.verticesPerRow,p=Math.floor(M.length/t)-1,w=t-1;for(S=0;S<p;S++){let d=S*t;for(let v=0;v<w;v++,d++)R(_,T,M[d],M[d+1],M[d+t],A[d],A[d+1],A[d+t]),R(_,T,M[d+t+1],M[d+1],M[d+t],A[d+t+1],A[d+1],A[d+t])}break;case"triangles":for(S=0,n=M.length;S<n;S+=3)R(_,T,M[S],M[S+1],M[S+2],A[S],A[S+1],A[S+2]);break;default:throw new Error("illegal figure")}}class B extends q{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,T,M){const t=Math.floor(this._bounds[0]),p=Math.floor(this._bounds[1]),w=Math.ceil(this._bounds[2])-t,d=Math.ceil(this._bounds[3])-p,v=Math.min(Math.ceil(Math.abs(w*m[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*m[1]*1.1)),3e3),h=w/v,L=d/g,F={coords:this._coords,colors:this._colors,offsetX:-t,offsetY:-p,scaleX:1/h,scaleY:1/L},G=M.getCanvas("mesh",v+4,g+4,!1),K=G.context,y=K.createImageData(v,g);if(T){const r=y.data;for(let s=0,o=r.length;s<o;s+=4)r[s]=T[0],r[s+1]=T[1],r[s+2]=T[2],r[s+3]=255}for(const r of this._figures)C(y,r,F);return K.putImageData(y,2,2),{canvas:G.canvas,offsetX:t-2*h,offsetY:p-2*L,scaleX:h,scaleY:L}}getPattern(m,T,M,A){let S;if(E(m,this._bbox),A===I.SHADING)S=i.Util.singularValueDecompose2dScale(m.mozCurrentTransform);else if(S=i.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const t=i.Util.singularValueDecompose2dScale(this.matrix);S=[S[0]*t[0],S[1]*t[1]]}const n=this._createMeshCanvas(S,A===I.SHADING?null:this._background,T.cachedCanvases);return A!==I.SHADING&&(m.setTransform.apply(m,T.baseTransform),this.matrix&&m.transform.apply(m,this.matrix)),m.translate(n.offsetX,n.offsetY),m.scale(n.scaleX,n.scaleY),m.createPattern(n.canvas,"no-repeat")}}class W extends q{getPattern(){return"hotpink"}}class N{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(m,T,M,A,S){this.operatorList=m[2],this.matrix=m[3]||[1,0,0,1,0,0],this.bbox=m[4],this.xstep=m[5],this.ystep=m[6],this.paintType=m[7],this.tilingType=m[8],this.color=T,this.ctx=M,this.canvasGraphicsFactory=A,this.baseTransform=S}createPatternCanvas(m){const T=this.operatorList,M=this.bbox,A=this.xstep,S=this.ystep,n=this.paintType,p=this.color,w=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);const d=M[0],v=M[1],g=M[2],h=M[3],L=i.Util.singularValueDecompose2dScale(this.matrix),F=i.Util.singularValueDecompose2dScale(this.baseTransform),D=[L[0]*F[0],L[1]*F[1]],H=this.getSizeAndScale(A,this.ctx.canvas.width,D[0]),G=this.getSizeAndScale(S,this.ctx.canvas.height,D[1]),K=m.cachedCanvases.getCanvas("pattern",H.size,G.size,!0),y=K.context,a=w.createCanvasGraphics(y);a.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(a,n,p);let r=d,s=v,o=g,e=h;return d<0&&(r=0,o+=Math.abs(d)),v<0&&(s=0,e+=Math.abs(v)),y.translate(-H.scale*r,-G.scale*s),a.transform(H.scale,0,0,G.scale,0,0),y.save(),this.clipBbox(a,r,s,o,e),a.baseTransform=a.ctx.mozCurrentTransform.slice(),a.executeOperatorList(T),a.endDrawing(),{canvas:K.canvas,scaleX:H.scale,scaleY:G.scale,offsetX:r,offsetY:s}}getSizeAndScale(m,T,M){m=Math.abs(m);const A=Math.max(N.MAX_PATTERN_SIZE,T);let S=Math.ceil(m*M);return S>=A?S=A:M=S/m,{scale:M,size:S}}clipBbox(m,T,M,A,S){m.ctx.rect(T,M,A-T,S-M),m.clip(),m.endPath()}setFillAndStrokeStyleToContext(m,T,M){const A=m.ctx,S=m.current;switch(T){case 1:const n=this.ctx;A.fillStyle=n.fillStyle,A.strokeStyle=n.strokeStyle,S.fillColor=n.fillStyle,S.strokeColor=n.strokeStyle;break;case 2:const t=i.Util.makeHexColor(M[0],M[1],M[2]);A.fillStyle=t,A.strokeStyle=t,S.fillColor=t,S.strokeColor=t;break;default:throw new i.FormatError(`Unsupported paint type: ${T}`)}}getPattern(m,T,M,A){let S=M;A!==I.SHADING&&(S=i.Util.transform(S,T.baseTransform),this.matrix&&(S=i.Util.transform(S,this.matrix)));const n=this.createPatternCanvas(T);let t=new DOMMatrix(S);t=t.translate(n.offsetX,n.offsetY),t=t.scale(1/n.scaleX,1/n.scaleY);const p=m.createPattern(n.canvas,"repeat");try{p.setTransform(t)}catch(w){(0,i.warn)(`TilingPattern.getPattern: "${w?.message}".`)}return p}}c.TilingPattern=N},($,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GlobalWorkerOptions=void 0;const k=Object.create(null);c.GlobalWorkerOptions=k,k.workerPort=void 0===k.workerPort?null:k.workerPort,k.workerSrc=void 0===k.workerSrc?"":k.workerSrc},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.MessageHandler=void 0;var i=k(1);function q(R){switch(R instanceof Error||"object"==typeof R&&null!==R||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),R.name){case"AbortException":return new i.AbortException(R.message);case"MissingPDFException":return new i.MissingPDFException(R.message);case"PasswordException":return new i.PasswordException(R.message,R.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(R.message,R.status);case"UnknownErrorException":return new i.UnknownErrorException(R.message,R.details);default:return new i.UnknownErrorException(R.message,R.toString())}}c.MessageHandler=class U{constructor(C,B,W){this.sourceName=C,this.targetName=B,this.comObj=W,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=V=>{const O=V.data;if(O.targetName!==this.sourceName)return;if(O.stream)return void this._processStreamMessage(O);if(O.callback){const _=O.callbackId,m=this.callbackCapabilities[_];if(!m)throw new Error(`Cannot resolve callback ${_}`);if(delete this.callbackCapabilities[_],1===O.callback)m.resolve(O.data);else{if(2!==O.callback)throw new Error("Unexpected callback case");m.reject(q(O.reason))}return}const N=this.actionHandler[O.action];if(!N)throw new Error(`Unknown action from worker: ${O.action}`);if(O.callbackId){const _=this.sourceName,m=O.sourceName;new Promise(function(T){T(N(O.data))}).then(function(T){W.postMessage({sourceName:_,targetName:m,callback:1,callbackId:O.callbackId,data:T})},function(T){W.postMessage({sourceName:_,targetName:m,callback:2,callbackId:O.callbackId,reason:q(T)})})}else O.streamId?this._createStreamSink(O):N(O.data)},W.addEventListener("message",this._onComObjOnMessage)}on(C,B){const W=this.actionHandler;if(W[C])throw new Error(`There is already an actionName called "${C}"`);W[C]=B}send(C,B,W){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:C,data:B},W)}sendWithPromise(C,B,W){const V=this.callbackId++,O=(0,i.createPromiseCapability)();this.callbackCapabilities[V]=O;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:C,callbackId:V,data:B},W)}catch(N){O.reject(N)}return O.promise}sendWithStream(C,B,W,V){const O=this.streamId++,N=this.sourceName,_=this.targetName,m=this.comObj;return new ReadableStream({start:T=>{const M=(0,i.createPromiseCapability)();return this.streamControllers[O]={controller:T,startCall:M,pullCall:null,cancelCall:null,isClosed:!1},m.postMessage({sourceName:N,targetName:_,action:C,streamId:O,data:B,desiredSize:T.desiredSize},V),M.promise},pull:T=>{const M=(0,i.createPromiseCapability)();return this.streamControllers[O].pullCall=M,m.postMessage({sourceName:N,targetName:_,stream:6,streamId:O,desiredSize:T.desiredSize}),M.promise},cancel:T=>{(0,i.assert)(T instanceof Error,"cancel must have a valid reason");const M=(0,i.createPromiseCapability)();return this.streamControllers[O].cancelCall=M,this.streamControllers[O].isClosed=!0,m.postMessage({sourceName:N,targetName:_,stream:1,streamId:O,reason:q(T)}),M.promise}},W)}_createStreamSink(C){const B=C.streamId,W=this.sourceName,V=C.sourceName,O=this.comObj,N=this,_=this.actionHandler[C.action],m={enqueue(T,M=1,A){if(this.isCancelled)return;const S=this.desiredSize;this.desiredSize-=M,S>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),O.postMessage({sourceName:W,targetName:V,stream:4,streamId:B,chunk:T},A)},close(){this.isCancelled||(this.isCancelled=!0,O.postMessage({sourceName:W,targetName:V,stream:3,streamId:B}),delete N.streamSinks[B])},error(T){(0,i.assert)(T instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,O.postMessage({sourceName:W,targetName:V,stream:5,streamId:B,reason:q(T)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:C.desiredSize,ready:null};m.sinkCapability.resolve(),m.ready=m.sinkCapability.promise,this.streamSinks[B]=m,new Promise(function(T){T(_(C.data,m))}).then(function(){O.postMessage({sourceName:W,targetName:V,stream:8,streamId:B,success:!0})},function(T){O.postMessage({sourceName:W,targetName:V,stream:8,streamId:B,reason:q(T)})})}_processStreamMessage(C){const B=C.streamId,W=this.sourceName,V=C.sourceName,O=this.comObj,N=this.streamControllers[B],_=this.streamSinks[B];switch(C.stream){case 8:C.success?N.startCall.resolve():N.startCall.reject(q(C.reason));break;case 7:C.success?N.pullCall.resolve():N.pullCall.reject(q(C.reason));break;case 6:if(!_){O.postMessage({sourceName:W,targetName:V,stream:7,streamId:B,success:!0});break}_.desiredSize<=0&&C.desiredSize>0&&_.sinkCapability.resolve(),_.desiredSize=C.desiredSize,new Promise(function(m){m(_.onPull&&_.onPull())}).then(function(){O.postMessage({sourceName:W,targetName:V,stream:7,streamId:B,success:!0})},function(m){O.postMessage({sourceName:W,targetName:V,stream:7,streamId:B,reason:q(m)})});break;case 4:if((0,i.assert)(N,"enqueue should have stream controller"),N.isClosed)break;N.controller.enqueue(C.chunk);break;case 3:if((0,i.assert)(N,"close should have stream controller"),N.isClosed)break;N.isClosed=!0,N.controller.close(),this._deleteStreamController(N,B);break;case 5:(0,i.assert)(N,"error should have stream controller"),N.controller.error(q(C.reason)),this._deleteStreamController(N,B);break;case 2:C.success?N.cancelCall.resolve():N.cancelCall.reject(q(C.reason)),this._deleteStreamController(N,B);break;case 1:if(!_)break;new Promise(function(m){m(_.onCancel&&_.onCancel(q(C.reason)))}).then(function(){O.postMessage({sourceName:W,targetName:V,stream:2,streamId:B,success:!0})},function(m){O.postMessage({sourceName:W,targetName:V,stream:2,streamId:B,reason:q(m)})}),_.sinkCapability.reject(q(C.reason)),_.isCancelled=!0,delete this.streamSinks[B];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(C,B){var W=this;return _asyncToGenerator(function*(){yield Promise.allSettled([C.startCall&&C.startCall.promise,C.pullCall&&C.pullCall.promise,C.cancelCall&&C.cancelCall.promise]),delete W.streamControllers[B]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Metadata=void 0;var i=k(1),I=new WeakMap,E=new WeakMap;c.Metadata=class q{constructor({parsedData:R,rawData:C}){_classPrivateFieldInitSpec(this,I,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,E,{writable:!0,value:void 0}),_classPrivateFieldSet(this,I,R),_classPrivateFieldSet(this,E,C)}getRaw(){return _classPrivateFieldGet(this,E)}get(R){return _classPrivateFieldGet(this,I).get(R)??null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(this,I))}has(R){return _classPrivateFieldGet(this,I).has(R)}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OptionalContentConfig=void 0;var i=k(1);class I{constructor(U,R){this.visible=!0,this.name=U,this.intent=R}}c.OptionalContentConfig=class E{constructor(U){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==U){this.name=U.name,this.creator=U.creator,this._order=U.order;for(const R of U.groups)this._groups.set(R.id,new I(R.name,R.intent));if("OFF"===U.baseState)for(const R of this._groups)R.visible=!1;for(const R of U.on)this._groups.get(R).visible=!0;for(const R of U.off)this._groups.get(R).visible=!1}}_evaluateVisibilityExpression(U){const R=U.length;if(R<2)return!0;const C=U[0];for(let B=1;B<R;B++){const W=U[B];let V;if(Array.isArray(W))V=this._evaluateVisibilityExpression(W);else{if(!this._groups.has(W))return(0,i.warn)(`Optional content group not found: ${W}`),!0;V=this._groups.get(W).visible}switch(C){case"And":if(!V)return!1;break;case"Or":if(V)return!0;break;case"Not":return!V;default:return!0}}return"And"===C}isVisible(U){if(0===this._groups.size)return!0;if(!U)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===U.type)return this._groups.has(U.id)?this._groups.get(U.id).visible:((0,i.warn)(`Optional content group not found: ${U.id}`),!0);if("OCMD"===U.type){if(U.expression)return this._evaluateVisibilityExpression(U.expression);if(!U.policy||"AnyOn"===U.policy){for(const R of U.ids){if(!this._groups.has(R))return(0,i.warn)(`Optional content group not found: ${R}`),!0;if(this._groups.get(R).visible)return!0}return!1}if("AllOn"===U.policy){for(const R of U.ids){if(!this._groups.has(R))return(0,i.warn)(`Optional content group not found: ${R}`),!0;if(!this._groups.get(R).visible)return!1}return!0}if("AnyOff"===U.policy){for(const R of U.ids){if(!this._groups.has(R))return(0,i.warn)(`Optional content group not found: ${R}`),!0;if(!this._groups.get(R).visible)return!0}return!1}if("AllOff"===U.policy){for(const R of U.ids){if(!this._groups.has(R))return(0,i.warn)(`Optional content group not found: ${R}`),!0;if(this._groups.get(R).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${U.policy}.`),!0}return(0,i.warn)(`Unknown group type ${U.type}.`),!0}setVisibility(U,R=!0){this._groups.has(U)?this._groups.get(U).visible=!!R:(0,i.warn)(`Optional content group not found: ${U}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,i.objectFromMap)(this._groups):null}getGroup(U){return this._groups.get(U)||null}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFDataTransportStream=void 0;var i=k(1),I=k(5);c.PDFDataTransportStream=class E{constructor(C,B){(0,i.assert)(B,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=C.progressiveDone||!1,this._contentDispositionFilename=C.contentDispositionFilename||null;const W=C.initialData;if(W?.length>0){const V=new Uint8Array(W).buffer;this._queuedChunks.push(V)}this._pdfDataRangeTransport=B,this._isStreamingSupported=!C.disableStream,this._isRangeSupported=!C.disableRange,this._contentLength=C.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((V,O)=>{this._onReceiveData({begin:V,chunk:O})}),this._pdfDataRangeTransport.addProgressListener((V,O)=>{this._onProgress({loaded:V,total:O})}),this._pdfDataRangeTransport.addProgressiveReadListener(V=>{this._onReceiveData({chunk:V})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(C){const B=new Uint8Array(C.chunk).buffer;if(void 0===C.begin)this._fullRequestReader?this._fullRequestReader._enqueue(B):this._queuedChunks.push(B);else{const W=this._rangeReaders.some(function(V){return V._begin===C.begin&&(V._enqueue(B),!0)});(0,i.assert)(W,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(C){if(void 0===C.total){const B=this._rangeReaders[0];B?.onProgress&&B.onProgress({loaded:C.loaded})}else{const B=this._fullRequestReader;B?.onProgress&&B.onProgress({loaded:C.loaded,total:C.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(C){const B=this._rangeReaders.indexOf(C);B>=0&&this._rangeReaders.splice(B,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const C=this._queuedChunks;return this._queuedChunks=null,new q(this,C,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(C,B){if(B<=this._progressiveDataLength)return null;const W=new U(this,C,B);return this._pdfDataRangeTransport.requestDataRange(C,B),this._rangeReaders.push(W),W}cancelAllRequests(C){this._fullRequestReader&&this._fullRequestReader.cancel(C);for(const B of this._rangeReaders.slice(0))B.cancel(C);this._pdfDataRangeTransport.abort()}};class q{constructor(C,B,W=!1,V=null){this._stream=C,this._done=W||!1,this._filename=(0,I.isPdfFile)(V)?V:null,this._queuedChunks=B||[],this._loaded=0;for(const O of this._queuedChunks)this._loaded+=O.byteLength;this._requests=[],this._headersReady=Promise.resolve(),C._fullRequestReader=this,this.onProgress=null}_enqueue(C){this._done||(this._requests.length>0?this._requests.shift().resolve({value:C,done:!1}):this._queuedChunks.push(C),this._loaded+=C.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var C=this;return _asyncToGenerator(function*(){if(C._queuedChunks.length>0)return{value:C._queuedChunks.shift(),done:!1};if(C._done)return{value:void 0,done:!0};const B=(0,i.createPromiseCapability)();return C._requests.push(B),B.promise})()}cancel(C){this._done=!0;for(const B of this._requests)B.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class U{constructor(C,B,W){this._stream=C,this._begin=B,this._end=W,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(C){if(!this._done){if(0===this._requests.length)this._queuedChunk=C;else{this._requests.shift().resolve({value:C,done:!1});for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var C=this;return _asyncToGenerator(function*(){if(C._queuedChunk){const W=C._queuedChunk;return C._queuedChunk=null,{value:W,done:!1}}if(C._done)return{value:void 0,done:!0};const B=(0,i.createPromiseCapability)();return C._requests.push(B),B.promise})()}cancel(C){this._done=!0;for(const B of this._requests)B.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},($,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaText=void 0;class k{static textContent(I){const E=[],q={items:E,styles:Object.create(null)};return function U(R){if(!R)return;let C=null;const B=R.name;if("#text"===B)C=R.value;else{if(!k.shouldBuildText(B))return;R?.attributes?.textContent?C=R.attributes.textContent:R.value&&(C=R.value)}if(null!==C&&E.push({str:C}),R.children)for(const W of R.children)U(W)}(I),q}static shouldBuildText(I){return!("textarea"===I||"input"===I||"option"===I||"select"===I)}}c.XfaText=k},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationLayer=void 0;var i=k(1),I=k(5),E=k(9),q=k(19),U=k(20);const R=1e3,C=new WeakSet;function B(o){return{width:o[2]-o[0],height:o[3]-o[1]}}class W{static create(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new O(e);case i.AnnotationType.TEXT:return new N(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new m(e);case"Btn":return e.data.radioButton?new M(e):e.data.checkBox?new T(e):new A(e);case"Ch":return new S(e)}return new _(e);case i.AnnotationType.POPUP:return new n(e);case i.AnnotationType.FREETEXT:return new p(e);case i.AnnotationType.LINE:return new w(e);case i.AnnotationType.SQUARE:return new d(e);case i.AnnotationType.CIRCLE:return new v(e);case i.AnnotationType.POLYLINE:return new g(e);case i.AnnotationType.CARET:return new L(e);case i.AnnotationType.INK:return new F(e);case i.AnnotationType.POLYGON:return new h(e);case i.AnnotationType.HIGHLIGHT:return new D(e);case i.AnnotationType.UNDERLINE:return new H(e);case i.AnnotationType.SQUIGGLY:return new G(e);case i.AnnotationType.STRIKEOUT:return new K(e);case i.AnnotationType.STAMP:return new y(e);case i.AnnotationType.FILEATTACHMENT:return new a(e);default:return new V(e)}}}class V{constructor(e,{isRenderable:l=!1,ignoreBorder:u=!1,createQuadrilaterals:x=!1}={}){this.isRenderable=l,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,l&&(this.container=this._createContainer(u)),x&&(this.quadrilaterals=this._createQuadrilaterals(u))}_createContainer(e=!1){const l=this.data,u=this.page,x=this.viewport,b=document.createElement("section");let{width:f,height:j}=B(l.rect);b.setAttribute("data-annotation-id",l.id);const Y=i.Util.normalizeRect([l.rect[0],u.view[3]-l.rect[1]+u.view[1],l.rect[2],u.view[3]-l.rect[3]+u.view[1]]);if(l.hasOwnCanvas){const X=x.transform.slice(),[Q,ie]=i.Util.singularValueDecompose2dScale(X);f=Math.ceil(f*Q),j=Math.ceil(j*ie),Y[0]*=Q,Y[1]*=ie;for(let oe=0;oe<4;oe++)X[oe]=Math.sign(X[oe]);b.style.transform=`matrix(${X.join(",")})`}else b.style.transform=`matrix(${x.transform.join(",")})`;if(b.style.transformOrigin=`${-Y[0]}px ${-Y[1]}px`,!e&&l.borderStyle.width>0){b.style.borderWidth=`${l.borderStyle.width}px`,l.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(f-=2*l.borderStyle.width,j-=2*l.borderStyle.width);const X=l.borderStyle.horizontalCornerRadius,Q=l.borderStyle.verticalCornerRadius;switch((X>0||Q>0)&&(b.style.borderRadius=`${X}px / ${Q}px`),l.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:b.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:b.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:b.style.borderBottomStyle="solid"}l.borderColor||l.color?b.style.borderColor=i.Util.makeHexColor(0|l.color[0],0|l.color[1],0|l.color[2]):b.style.borderWidth=0}return b.style.left=`${Y[0]}px`,b.style.top=`${Y[1]}px`,l.hasOwnCanvas?b.style.width=b.style.height="auto":(b.style.width=`${f}px`,b.style.height=`${j}px`),b}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const l=[],u=this.data.rect;for(const x of this.data.quadPoints)this.data.rect=[x[2].x,x[2].y,x[1].x,x[1].y],l.push(this._createContainer(e));return this.data.rect=u,l}_createPopup(e,l){let u=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,u=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=u.style.height,e.style.width=u.style.width,u.appendChild(e));const b=new t({container:u,trigger:e,color:l.color,titleObj:l.titleObj,modificationDate:l.modificationDate,contentsObj:l.contentsObj,richText:l.richText,hideWrapper:!0}).render();b.style.left=u.style.width,u.appendChild(b)}_renderQuadrilaterals(e){for(const l of this.quadrilaterals)l.className=e;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,l=null){const u=[];if(this._fieldObjects){const x=this._fieldObjects[e];if(x)for(const{page:b,id:f,exportValues:j}of x){if(-1===b||f===l)continue;const Y="string"==typeof j?j:null,X=document.getElementById(f);!X||C.has(X)?u.push({id:f,exportValue:Y,domElement:X}):(0,i.warn)(`_getElementsByName - element not allowed: ${f}`)}return u}for(const x of document.getElementsByName(e)){const{id:b,exportValue:f}=x;b!==l&&(!C.has(x)||u.push({id:b,exportValue:f,domElement:x}))}return u}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class O extends V{constructor(e,l=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!l?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:l}=this,u=document.createElement("a");if(e.url)l.addLinkAttributes||(0,i.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),l.addLinkAttributes?.(u,e.url,e.newWindow);else if(e.action)this._bindNamedAction(u,e.action);else if(e.dest)this._bindLink(u,e.dest);else{let x=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(x=!0,this._bindJSAction(u,e)),e.resetForm?this._bindResetFormAction(u,e.resetForm):x||this._bindLink(u,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((x,b)=>{const f=0===b?u:u.cloneNode();return x.appendChild(f),x}):(this.container.className="linkAnnotation",this.container.appendChild(u),this.container)}_bindLink(e,l){e.href=this.linkService.getDestinationHash(l),e.onclick=()=>(l&&this.linkService.goToDestination(l),!1),(l||""===l)&&(e.className="internalLink")}_bindNamedAction(e,l){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(l),!1),e.className="internalLink"}_bindJSAction(e,l){e.href=this.linkService.getAnchorUrl("");const u=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const x of Object.keys(l.actions)){const b=u.get(x);!b||(e[b]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l.id,name:x}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,l){const u=e.onclick;if(u||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(u||(e.onclick=()=>!1));e.onclick=()=>{u&&u();const{fields:x,refs:b,include:f}=l,j=[];if(0!==x.length||0!==b.length){const Q=new Set(b);for(const ie of x){const oe=this._fieldObjects[ie]||[];for(const{id:he}of oe)Q.add(he)}for(const ie of Object.values(this._fieldObjects))for(const oe of ie)Q.has(oe.id)===f&&j.push(oe)}else for(const Q of Object.values(this._fieldObjects))j.push(...Q);const Y=this.annotationStorage,X=[];for(const Q of j){const{id:ie}=Q;switch(X.push(ie),Q.type){case"text":{const he=Q.defaultValue||"";Y.setValue(ie,{value:he,valueAsString:he});break}case"checkbox":case"radiobutton":Y.setValue(ie,{value:Q.defaultValue===Q.exportValues});break;case"combobox":case"listbox":Y.setValue(ie,{value:Q.defaultValue||""});break;default:continue}const oe=document.getElementById(ie);!oe||!C.has(oe)||oe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:X,name:"ResetForm"}}),!1}}}class N extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class _ extends V{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:l,isMac:u}=V.platform;return l&&e.ctrlKey||u&&e.metaKey}_setEventListener(e,l,u,x){l.includes("mouse")?e.addEventListener(l,b=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:x(b),shift:b.shiftKey,modifier:this._getKeyModifier(b)}})}):e.addEventListener(l,b=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:x(b)}})})}_setEventListeners(e,l,u){for(const[x,b]of l)("Action"===b||this.data.actions?.[b])&&this._setEventListener(e,x,b,u)}_setBackgroundColor(e){const l=this.data.backgroundColor||null;e.style.backgroundColor=null===l?"transparent":i.Util.makeHexColor(l[0],l[1],l[2])}_dispatchEventFromSandbox(e,l){const u=(b,f,j)=>{const Y=j.detail[b];j.target.style[f]=q.ColorConverters[`${Y[0]}_HTML`](Y.slice(1))},x={display:b=>{const f=b.detail.display%2==1;b.target.style.visibility=f?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:f,print:0===b.detail.display||3===b.detail.display})},print:b=>{this.annotationStorage.setValue(this.data.id,{print:b.detail.print})},hidden:b=>{b.target.style.visibility=b.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:b.detail.hidden})},focus:b=>{setTimeout(()=>b.target.focus({preventScroll:!1}),0)},userName:b=>{b.target.title=b.detail.userName},readonly:b=>{b.detail.readonly?b.target.setAttribute("readonly",""):b.target.removeAttribute("readonly")},required:b=>{b.detail.required?b.target.setAttribute("required",""):b.target.removeAttribute("required")},bgColor:b=>{u("bgColor","backgroundColor",b)},fillColor:b=>{u("fillColor","backgroundColor",b)},fgColor:b=>{u("fgColor","color",b)},textColor:b=>{u("textColor","color",b)},borderColor:b=>{u("borderColor","borderColor",b)},strokeColor:b=>{u("strokeColor","borderColor",b)}};for(const b of Object.keys(l.detail)){const f=e[b]||x[b];f&&f(l)}}}class m extends _{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,l,u,x){const b=this.annotationStorage;for(const f of this._getElementsByName(e.name,e.id))f.domElement&&(f.domElement[l]=u),b.setValue(f.id,{[x]:u})}render(){const e=this.annotationStorage,l=this.data.id;this.container.className="textWidgetAnnotation";let u=null;if(this.renderForms){const x=e.getValue(l,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),b=x.valueAsString||x.value||"",f={userValue:null,formattedValue:null};this.data.multiLine?(u=document.createElement("textarea"),u.textContent=b):(u=document.createElement("input"),u.type="text",u.setAttribute("value",b)),C.add(u),u.disabled=this.data.readOnly,u.name=this.data.fieldName,u.tabIndex=R,f.userValue=b,u.setAttribute("id",l),u.addEventListener("input",Y=>{e.setValue(l,{value:Y.target.value}),this.setPropertyOnSiblings(u,"value",Y.target.value,"value")}),u.addEventListener("resetform",Y=>{u.value=f.userValue=this.data.defaultFieldValue||"",delete f.formattedValue});let j=Y=>{f.formattedValue&&(Y.target.value=f.formattedValue),Y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){u.addEventListener("focus",X=>{f.userValue&&(X.target.value=f.userValue)}),u.addEventListener("updatefromsandbox",X=>{this._dispatchEventFromSandbox({value(ie){f.userValue=ie.detail.value||"",e.setValue(l,{value:f.userValue.toString()}),f.formattedValue||(ie.target.value=f.userValue)},valueAsString(ie){f.formattedValue=ie.detail.valueAsString||"",ie.target!==document.activeElement&&(ie.target.value=f.formattedValue),e.setValue(l,{formattedValue:f.formattedValue})},selRange(ie){const[oe,he]=ie.detail.selRange;oe>=0&&he<ie.target.value.length&&ie.target.setSelectionRange(oe,he)}},X)}),u.addEventListener("keydown",X=>{let Q=-1;"Escape"===X.key?Q=0:"Enter"===X.key?Q=2:"Tab"===X.key&&(Q=3),-1!==Q&&(f.userValue=X.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:X.target.value,willCommit:!0,commitKey:Q,selStart:X.target.selectionStart,selEnd:X.target.selectionEnd}}))});const Y=j;j=null,u.addEventListener("blur",X=>{f.userValue=X.target.value,this._mouseState.isDown&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:X.target.value,willCommit:!0,commitKey:1,selStart:X.target.selectionStart,selEnd:X.target.selectionEnd}}),Y(X)}),this.data.actions?.Keystroke&&u.addEventListener("beforeinput",X=>{f.formattedValue="";const{data:Q,target:ie}=X,{value:oe,selectionStart:he,selectionEnd:de}=ie;this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:oe,change:Q,willCommit:!1,selStart:he,selEnd:de}})}),this._setEventListeners(u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.value)}if(j&&u.addEventListener("blur",j),null!==this.data.maxLen&&(u.maxLength=this.data.maxLen),this.data.comb){const X=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;u.classList.add("comb"),u.style.letterSpacing=`calc(${X}px - 1ch)`}}else u=document.createElement("div"),u.textContent=this.data.fieldValue,u.style.verticalAlign="middle",u.style.display="table-cell";return this._setTextStyle(u),this._setBackgroundColor(u),this.container.appendChild(u),this.container}_setTextStyle(e){const{fontSize:u,fontColor:x}=this.data.defaultAppearanceData,b=e.style;u&&(b.fontSize=`${u}px`),b.color=i.Util.makeHexColor(x[0],x[1],x[2]),null!==this.data.textAlignment&&(b.textAlign=["left","center","right"][this.data.textAlignment])}}class T extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,l=this.data,u=l.id;let x=e.getValue(u,{value:l.exportValue===l.fieldValue}).value;"string"==typeof x&&(x="Off"!==x,e.setValue(u,{value:x})),this.container.className="buttonWidgetAnnotation checkBox";const b=document.createElement("input");return C.add(b),b.disabled=l.readOnly,b.type="checkbox",b.name=l.fieldName,x&&b.setAttribute("checked",!0),b.setAttribute("id",u),b.setAttribute("exportValue",l.exportValue),b.tabIndex=R,b.addEventListener("change",f=>{const{name:j,checked:Y}=f.target;for(const X of this._getElementsByName(j,u)){const Q=Y&&X.exportValue===l.exportValue;X.domElement&&(X.domElement.checked=Q),e.setValue(X.id,{value:Q})}e.setValue(u,{value:Y})}),b.addEventListener("resetform",f=>{f.target.checked=(l.defaultFieldValue||"Off")===l.exportValue}),this.enableScripting&&this.hasJSActions&&(b.addEventListener("updatefromsandbox",f=>{this._dispatchEventFromSandbox({value(Y){Y.target.checked="Off"!==Y.detail.value,e.setValue(u,{value:Y.target.checked})}},f)}),this._setEventListeners(b,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.checked)),this._setBackgroundColor(b),this.container.appendChild(b),this.container}}class M extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,l=this.data,u=l.id;let x=e.getValue(u,{value:l.fieldValue===l.buttonValue}).value;"string"==typeof x&&(x=x!==l.buttonValue,e.setValue(u,{value:x}));const b=document.createElement("input");if(C.add(b),b.disabled=l.readOnly,b.type="radio",b.name=l.fieldName,x&&b.setAttribute("checked",!0),b.setAttribute("id",u),b.tabIndex=R,b.addEventListener("change",f=>{const{name:j,checked:Y}=f.target;for(const X of this._getElementsByName(j,u))e.setValue(X.id,{value:!1});e.setValue(u,{value:Y})}),b.addEventListener("resetform",f=>{const j=l.defaultFieldValue;f.target.checked=null!=j&&j===l.buttonValue}),this.enableScripting&&this.hasJSActions){const f=l.buttonValue;b.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value:X=>{const Q=f===X.detail.value;for(const ie of this._getElementsByName(X.target.name)){const oe=Q&&ie.id===u;ie.domElement&&(ie.domElement.checked=oe),e.setValue(ie.id,{value:oe})}}},j)}),this._setEventListeners(b,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.checked)}return this._setBackgroundColor(b),this.container.appendChild(b),this.container}}class A extends O{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),e}}class S extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,l=this.data.id;e.getValue(l,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:u}=this.data.defaultAppearanceData;u||(u=9);const x=`calc(${u}px * var(--zoom-factor))`,b=document.createElement("select");C.add(b),b.disabled=this.data.readOnly,b.name=this.data.fieldName,b.setAttribute("id",l),b.tabIndex=R,b.style.fontSize=`${u}px`,this.data.combo||(b.size=this.data.options.length,this.data.multiSelect&&(b.multiple=!0)),b.addEventListener("resetform",Y=>{const X=this.data.defaultFieldValue;for(const Q of b.options)Q.selected=Q.value===X});for(const Y of this.data.options){const X=document.createElement("option");X.textContent=Y.displayValue,X.value=Y.exportValue,this.data.combo&&(X.style.fontSize=x),this.data.fieldValue.includes(Y.exportValue)&&X.setAttribute("selected",!0),b.appendChild(X)}const f=(Y,X)=>{const Q=X?"value":"textContent",ie=Y.target.options;return Y.target.multiple?Array.prototype.filter.call(ie,oe=>oe.selected).map(oe=>oe[Q]):-1===ie.selectedIndex?null:ie[ie.selectedIndex][Q]},j=Y=>Array.prototype.map.call(Y.target.options,Q=>({displayValue:Q.textContent,exportValue:Q.value}));return this.enableScripting&&this.hasJSActions?(b.addEventListener("updatefromsandbox",Y=>{this._dispatchEventFromSandbox({value(Q){const ie=Q.detail.value,oe=new Set(Array.isArray(ie)?ie:[ie]);for(const he of b.options)he.selected=oe.has(he.value);e.setValue(l,{value:f(Q,!0)})},multipleSelection(Q){b.multiple=!0},remove(Q){const ie=b.options,oe=Q.detail.remove;ie[oe].selected=!1,b.remove(oe),ie.length>0&&-1===Array.prototype.findIndex.call(ie,de=>de.selected)&&(ie[0].selected=!0),e.setValue(l,{value:f(Q,!0),items:j(Q)})},clear(Q){for(;0!==b.length;)b.remove(0);e.setValue(l,{value:null,items:[]})},insert(Q){const{index:ie,displayValue:oe,exportValue:he}=Q.detail.insert,de=document.createElement("option");de.textContent=oe,de.value=he,b.insertBefore(de,b.children[ie]),e.setValue(l,{value:f(Q,!0),items:j(Q)})},items(Q){const{items:ie}=Q.detail;for(;0!==b.length;)b.remove(0);for(const oe of ie){const{displayValue:he,exportValue:de}=oe,ae=document.createElement("option");ae.textContent=he,ae.value=de,b.appendChild(ae)}b.options.length>0&&(b.options[0].selected=!0),e.setValue(l,{value:f(Q,!0),items:j(Q)})},indices(Q){const ie=new Set(Q.detail.indices);for(const oe of Q.target.options)oe.selected=ie.has(oe.index);e.setValue(l,{value:f(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}},Y)}),b.addEventListener("input",Y=>{const X=f(Y,!0),Q=f(Y,!1);e.setValue(l,{value:X}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Q,changeEx:X,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(b,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Y=>Y.target.checked)):b.addEventListener("input",function(Y){e.setValue(l,{value:f(Y)})}),this._setBackgroundColor(b),this.container.appendChild(b),this.container}}class n extends V{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const u=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===u.length)return this.container;const x=new t({container:this.container,trigger:Array.from(u),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),b=this.page,f=i.Util.normalizeRect([this.data.parentRect[0],b.view[3]-this.data.parentRect[1]+b.view[1],this.data.parentRect[2],b.view[3]-this.data.parentRect[3]+b.view[1]]),j=f[0]+this.data.parentRect[2]-this.data.parentRect[0],Y=f[1];return this.container.style.transformOrigin=`${-j}px ${-Y}px`,this.container.style.left=`${j}px`,this.container.style.top=`${Y}px`,this.container.appendChild(x.render()),this.container}}class t{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const l=document.createElement("div");l.className="popupWrapper",this.hideElement=this.hideWrapper?l:this.container,this.hideElement.hidden=!0;const u=document.createElement("div");u.className="popup";const x=this.color;x&&(u.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-x[0])+x[0],0|.7*(255-x[1])+x[1],0|.7*(255-x[2])+x[2]));const b=document.createElement("h1");b.dir=this.titleObj.dir,b.textContent=this.titleObj.str,u.appendChild(b);const f=I.PDFDateString.toDateObject(this.modificationDate);if(f){const j=document.createElement("span");j.className="popupDate",j.textContent="{{date}}, {{time}}",j.dataset.l10nId="annotation_date_string",j.dataset.l10nArgs=JSON.stringify({date:f.toLocaleDateString(),time:f.toLocaleTimeString()}),u.appendChild(j)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const j=this._formatContents(this.contentsObj);u.appendChild(j)}else U.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:u}),u.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const j of this.trigger)j.addEventListener("click",this._toggle.bind(this)),j.addEventListener("mouseover",this._show.bind(this,!1)),j.addEventListener("mouseout",this._hide.bind(this,!1));return u.addEventListener("click",this._hide.bind(this,!0)),l.appendChild(u),l}_formatContents({str:e,dir:l}){const u=document.createElement("p");u.className="popupContent",u.dir=l;const x=e.split(/(?:\r\n?|\n)/);for(let b=0,f=x.length;b<f;++b)u.appendChild(document.createTextNode(x[b])),b<f-1&&u.appendChild(document.createElement("br"));return u}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class p extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class w extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:l,height:u}=B(e.rect),x=this.svgFactory.create(l,u),b=this.svgFactory.createElement("svg:line");return b.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),b.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),b.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),b.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),b.setAttribute("stroke-width",e.borderStyle.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),x.appendChild(b),this.container.append(x),this._createPopup(b,e),this.container}}class d extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:l,height:u}=B(e.rect),x=this.svgFactory.create(l,u),b=e.borderStyle.width,f=this.svgFactory.createElement("svg:rect");return f.setAttribute("x",b/2),f.setAttribute("y",b/2),f.setAttribute("width",l-b),f.setAttribute("height",u-b),f.setAttribute("stroke-width",b||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),x.appendChild(f),this.container.append(x),this._createPopup(f,e),this.container}}class v extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:l,height:u}=B(e.rect),x=this.svgFactory.create(l,u),b=e.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");return f.setAttribute("cx",l/2),f.setAttribute("cy",u/2),f.setAttribute("rx",l/2-b/2),f.setAttribute("ry",u/2-b/2),f.setAttribute("stroke-width",b||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),x.appendChild(f),this.container.append(x),this._createPopup(f,e),this.container}}class g extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:l,height:u}=B(e.rect),x=this.svgFactory.create(l,u);let b=[];for(const j of e.vertices)b.push(j.x-e.rect[0]+","+(e.rect[3]-j.y));b=b.join(" ");const f=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",b),f.setAttribute("stroke-width",e.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),x.appendChild(f),this.container.append(x),this._createPopup(f,e),this.container}}class h extends g{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class L extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class F extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:l,height:u}=B(e.rect),x=this.svgFactory.create(l,u);for(const b of e.inkLists){let f=[];for(const Y of b)f.push(`${Y.x-e.rect[0]},${e.rect[3]-Y.y}`);f=f.join(" ");const j=this.svgFactory.createElement(this.svgElementName);j.setAttribute("points",f),j.setAttribute("stroke-width",e.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),this._createPopup(j,e),x.appendChild(j)}return this.container.append(x),this.container}}class D extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class H extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class G extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class K extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class y extends V{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class a extends V{constructor(e){super(e,{isRenderable:!0});const{filename:l,content:u}=this.data.file;this.filename=(0,I.getFilenameFromUrl)(l),this.content=u,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,i.stringToPDFString)(l),filename:l,content:u})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class r{static render(e){const l=[],u=[];for(const b of e.annotations){if(!b)continue;const{width:f,height:j}=B(b.rect);if(!(f<=0||j<=0)){if(b.annotationType===i.AnnotationType.POPUP){u.push(b);continue}l.push(b)}}u.length&&l.push(...u);const x=e.div;for(const b of l){const f=W.create({data:b,layer:x,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new I.DOMSVGFactory,annotationStorage:e.annotationStorage||new E.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(f.isRenderable){const j=f.render();if(b.hidden&&(j.style.visibility="hidden"),Array.isArray(j))for(const Y of j)x.appendChild(Y);else f instanceof n?x.prepend(j):x.appendChild(j)}}_classStaticPrivateMethodGet(this,r,s).call(this,x,e.annotationCanvasMap)}static update(e){const{page:l,viewport:u,annotations:x,annotationCanvasMap:b,div:f}=e,j=u.transform,Y=`matrix(${j.join(",")})`;let X,Q;for(const ie of x){const oe=f.querySelectorAll(`[data-annotation-id="${ie.id}"]`);if(oe)for(const he of oe)if(ie.hasOwnCanvas){const de=i.Util.normalizeRect([ie.rect[0],l.view[3]-ie.rect[1]+l.view[1],ie.rect[2],l.view[3]-ie.rect[3]+l.view[1]]);if(!Q){X=Math.abs(j[0]||j[1]);const ye=j.slice();for(let fe=0;fe<4;fe++)ye[fe]=Math.sign(ye[fe]);Q=`matrix(${ye.join(",")})`}const ae=de[0]*X,be=de[1]*X;he.style.left=`${ae}px`,he.style.top=`${be}px`,he.style.transformOrigin=`${-ae}px ${-be}px`,he.style.transform=Q}else he.style.transform=Y}_classStaticPrivateMethodGet(this,r,s).call(this,f,b),f.hidden=!1}}function s(o,e){if(e){for(const[l,u]of e){const x=o.querySelector(`[data-annotation-id="${l}"]`);if(!x)continue;const{firstChild:b}=x;"CANVAS"===b.nodeName?x.replaceChild(u,b):x.insertBefore(u,b)}e.clear()}}c.AnnotationLayer=r},($,c)=>{function k(I){return Math.floor(255*Math.max(0,Math.min(1,I))).toString(16).padStart(2,"0")}Object.defineProperty(c,"__esModule",{value:!0}),c.ColorConverters=void 0,c.ColorConverters=class i{static CMYK_G([E,q,U,R]){return["G",1-Math.min(1,.3*E+.59*U+.11*q+R)]}static G_CMYK([E]){return["CMYK",0,0,0,1-E]}static G_RGB([E]){return["RGB",E,E,E]}static G_HTML([E]){const q=k(E);return`#${q}${q}${q}`}static RGB_G([E,q,U]){return["G",.3*E+.59*q+.11*U]}static RGB_HTML([E,q,U]){return`#${k(E)}${k(q)}${k(U)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([E,q,U,R]){return["RGB",1-Math.min(1,E+R),1-Math.min(1,U+R),1-Math.min(1,q+R)]}static CMYK_HTML(E){return this.RGB_HTML(this.CMYK_RGB(E))}static RGB_CMYK([E,q,U]){const R=1-E,C=1-q,B=1-U;return["CMYK",R,C,B,Math.min(R,C,B)]}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaLayer=void 0;var i=k(1),I=k(17);c.XfaLayer=class E{static setupStorage(U,R,C,B,W){const V=B.getValue(R,{value:null});switch(C.name){case"textarea":if(null!==V.value&&(U.textContent=V.value),"print"===W)break;U.addEventListener("input",O=>{B.setValue(R,{value:O.target.value})});break;case"input":if("radio"===C.attributes.type||"checkbox"===C.attributes.type){if(V.value===C.attributes.xfaOn?U.setAttribute("checked",!0):V.value===C.attributes.xfaOff&&U.removeAttribute("checked"),"print"===W)break;U.addEventListener("change",O=>{B.setValue(R,{value:O.target.getAttribute(O.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==V.value&&U.setAttribute("value",V.value),"print"===W)break;U.addEventListener("input",O=>{B.setValue(R,{value:O.target.value})})}break;case"select":if(null!==V.value)for(const O of C.children)O.attributes.value===V.value&&(O.attributes.selected=!0);U.addEventListener("input",O=>{const N=O.target.options;B.setValue(R,{value:-1===N.selectedIndex?"":N[N.selectedIndex].value})})}}static setAttributes({html:U,element:R,storage:C=null,intent:B,linkService:W}){const{attributes:V}=R,O=U instanceof HTMLAnchorElement;"radio"===V.type&&(V.name=`${V.name}-${B}`);for(const[N,_]of Object.entries(V))if(null!=_&&"dataId"!==N)if("style"!==N)if("textContent"===N)U.textContent=_;else if("class"===N)_.length&&U.setAttribute(N,_.join(" "));else{if(O&&("href"===N||"newWindow"===N))continue;U.setAttribute(N,_)}else Object.assign(U.style,_);O&&(W.addLinkAttributes||(0,i.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),W.addLinkAttributes?.(U,V.href,V.newWindow)),C&&V.dataId&&this.setupStorage(U,V.dataId,R,C)}static render(U){const R=U.annotationStorage,C=U.linkService,B=U.xfaHtml,W=U.intent||"display",V=document.createElement(B.name);B.attributes&&this.setAttributes({html:V,element:B,intent:W,linkService:C});const O=[[B,-1,V]],N=U.div;if(N.appendChild(V),U.viewport){const m=`matrix(${U.viewport.transform.join(",")})`;N.style.transform=m}"richText"!==W&&N.setAttribute("class","xfaLayer xfaFont");const _=[];for(;O.length>0;){const[m,T,M]=O[O.length-1];if(T+1===m.children.length){O.pop();continue}const A=m.children[++O[O.length-1][1]];if(null===A)continue;const{name:S}=A;if("#text"===S){const t=document.createTextNode(A.value);_.push(t),M.appendChild(t);continue}let n;if(n=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,S):document.createElement(S),M.appendChild(n),A.attributes&&this.setAttributes({html:n,element:A,storage:R,intent:W,linkService:C}),A.children&&A.children.length>0)O.push([A,-1,n]);else if(A.value){const t=document.createTextNode(A.value);I.XfaText.shouldBuildText(S)&&_.push(t),n.appendChild(t)}}for(const m of N.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:_}}static update(U){const R=`matrix(${U.viewport.transform.join(",")})`;U.div.style.transform=R,U.div.hidden=!1}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.renderTextLayer=function T(M){const A=new m({textContent:M.textContent,textContentStream:M.textContentStream,container:M.container,viewport:M.viewport,textDivs:M.textDivs,textContentItemsStr:M.textContentItemsStr,enhanceTextSelection:M.enhanceTextSelection});return A._render(M.timeout),A};var i=k(1);const E=30,U=new Map,R=/^\s+$/g;function B(M,A,S,n){const t=document.createElement("span"),p=M._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==A.str,hasEOL:A.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==A.str,hasEOL:A.hasEOL};M._textDivs.push(t);const w=i.Util.transform(M._viewport.transform,A.transform);let d=Math.atan2(w[1],w[0]);const v=S[A.fontName];v.vertical&&(d+=Math.PI/2);const g=Math.hypot(w[2],w[3]),h=g*function C(M,A){const S=U.get(M);if(S)return S;A.save(),A.font=`30px ${M}`;const n=A.measureText("");let t=n.fontBoundingBoxAscent,p=Math.abs(n.fontBoundingBoxDescent);if(t){A.restore();const d=t/(t+p);return U.set(M,d),d}A.strokeStyle="red",A.clearRect(0,0,E,E),A.strokeText("g",0,0);let w=A.getImageData(0,0,E,E).data;p=0;for(let d=w.length-1-3;d>=0;d-=4)if(w[d]>0){p=Math.ceil(d/4/E);break}A.clearRect(0,0,E,E),A.strokeText("A",0,E),w=A.getImageData(0,0,E,E).data,t=0;for(let d=0,v=w.length;d<v;d+=4)if(w[d]>0){t=E-Math.floor(d/4/E);break}if(A.restore(),t){const d=t/(t+p);return U.set(M,d),d}return U.set(M,.8),.8}(v.fontFamily,n);let L,F;0===d?(L=w[4],F=w[5]-h):(L=w[4]+h*Math.sin(d),F=w[5]-h*Math.cos(d)),t.style.left=`${L}px`,t.style.top=`${F}px`,t.style.fontSize=`${g}px`,t.style.fontFamily=v.fontFamily,t.setAttribute("role","presentation"),t.textContent=A.str,t.dir=A.dir,M._fontInspectorEnabled&&(t.dataset.fontName=A.fontName),0!==d&&(p.angle=d*(180/Math.PI));let D=!1;if(A.str.length>1||M._enhanceTextSelection&&R.test(A.str))D=!0;else if(" "!==A.str&&A.transform[0]!==A.transform[3]){const H=Math.abs(A.transform[0]),G=Math.abs(A.transform[3]);H!==G&&Math.max(H,G)/Math.min(H,G)>1.5&&(D=!0)}if(D&&(p.canvasWidth=v.vertical?A.height*M._viewport.scale:A.width*M._viewport.scale),M._textDivProperties.set(t,p),M._textContentStream&&M._layoutText(t),M._enhanceTextSelection&&p.hasText){let H=1,G=0;0!==d&&(H=Math.cos(d),G=Math.sin(d));const K=(v.vertical?A.height:A.width)*M._viewport.scale,y=g;let a,r;0!==d?(a=[H,G,-G,H,L,F],r=i.Util.getAxialAlignedBoundingBox([0,0,K,y],a)):r=[L,F,L+K,F+y],M._bounds.push({left:r[0],top:r[1],right:r[2],bottom:r[3],div:t,size:[K,y],m:a})}}function W(M){if(M._canceled)return;const A=M._textDivs,S=M._capability,n=A.length;if(n>1e5)return M._renderingDone=!0,void S.resolve();if(!M._textContentStream)for(let t=0;t<n;t++)M._layoutText(A[t]);M._renderingDone=!0,S.resolve()}function V(M,A,S){let n=0;for(let t=0;t<S;t++){const p=M[A++];p>0&&(n=n?Math.min(p,n):p)}return n}function _(M,A){A.sort(function(t,p){return t.x1-p.x1||t.index-p.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const t of A){let p=0;for(;p<n.length&&n[p].end<=t.y1;)p++;let w=n.length-1;for(;w>=0&&n[w].start>=t.y2;)w--;let d,v,g,h,L=-1/0;for(g=p;g<=w;g++){let H;d=n[g],v=d.boundary,H=v.x2>t.x1?v.index>t.index?v.x1New:t.x1:void 0===v.x2New?(v.x2+t.x1)/2:v.x2New,H>L&&(L=H)}for(t.x1New=L,g=p;g<=w;g++)d=n[g],v=d.boundary,void 0===v.x2New?v.x2>t.x1?v.index>t.index&&(v.x2New=v.x2):v.x2New=L:v.x2New>L&&(v.x2New=Math.max(L,v.x2));const F=[];let D=null;for(g=p;g<=w;g++){d=n[g],v=d.boundary;const H=v.x2>t.x2?v:t;D===H?F[F.length-1].end=d.end:(F.push({start:d.start,end:d.end,boundary:H}),D=H)}for(n[p].start<t.y1&&(F[0].start=t.y1,F.unshift({start:n[p].start,end:t.y1,boundary:n[p].boundary})),t.y2<n[w].end&&(F[F.length-1].end=t.y2,F.push({start:t.y2,end:n[w].end,boundary:n[w].boundary})),g=p;g<=w;g++){if(d=n[g],v=d.boundary,void 0!==v.x2New)continue;let H=!1;for(h=p-1;!H&&h>=0&&n[h].start>=v.y1;h--)H=n[h].boundary===v;for(h=w+1;!H&&h<n.length&&n[h].end<=v.y2;h++)H=n[h].boundary===v;for(h=0;!H&&h<F.length;h++)H=F[h].boundary===v;H||(v.x2New=L)}Array.prototype.splice.apply(n,[p,w-p+1].concat(F))}for(const t of n){const p=t.boundary;void 0===p.x2New&&(p.x2New=Math.max(M,p.x2))}}class m{constructor({textContent:A,textContentStream:S,container:n,viewport:t,textDivs:p,textContentItemsStr:w,enhanceTextSelection:d}){this._textContent=A,this._textContentStream=S,this._container=n,this._document=n.ownerDocument,this._viewport=t,this._textDivs=p||[],this._textContentItemsStr=w||[],this._enhanceTextSelection=!!d,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(A,S){for(let n=0,t=A.length;n<t;n++)if(void 0!==A[n].str)this._textContentItemsStr.push(A[n].str),B(this,A[n],S,this._layoutTextCtx);else if("beginMarkedContentProps"===A[n].type||"beginMarkedContent"===A[n].type){const p=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==A[n].id&&this._container.setAttribute("id",`${A[n].id}`),p.appendChild(this._container)}else"endMarkedContent"===A[n].type&&(this._container=this._container.parentNode)}_layoutText(A){const S=this._textDivProperties.get(A);let n="";if(0!==S.canvasWidth&&S.hasText){const{fontSize:t,fontFamily:p}=A.style;(t!==this._layoutTextLastFontSize||p!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${t} ${p}`,this._layoutTextLastFontSize=t,this._layoutTextLastFontFamily=p);const{width:w}=this._layoutTextCtx.measureText(A.textContent);if(w>0){const d=S.canvasWidth/w;this._enhanceTextSelection&&(S.scale=d),n=`scaleX(${d})`}}if(0!==S.angle&&(n=`rotate(${S.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(S.originalTransform=n),A.style.transform=n),S.hasText&&this._container.appendChild(A),S.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this._container.appendChild(t)}}_render(A=0){const S=(0,i.createPromiseCapability)();let n=Object.create(null);const t=this._document.createElement("canvas");if(t.height=t.width=E,t.mozOpaque=!0,this._layoutTextCtx=t.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),S.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const p=()=>{this._reader.read().then(({value:w,done:d})=>{d?S.resolve():(Object.assign(n,w.styles),this._processItems(w.items,n),p())},S.reject)};this._reader=this._textContentStream.getReader(),p()}}S.promise.then(()=>{n=null,A?this._renderTimer=setTimeout(()=>{W(this),this._renderTimer=null},A):W(this)},this._capability.reject)}expandTextDivs(A=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function O(M){const A=M._bounds,S=M._viewport,n=function N(M,A,S){const n=S.map(function(p,w){return{x1:p.left,y1:p.top,x2:p.right,y2:p.bottom,index:w,x1New:void 0,x2New:void 0}});_(M,n);const t=new Array(S.length);for(const p of n)t[p.index]={left:p.x1New,top:0,right:p.x2New,bottom:0};S.map(function(p,w){const d=t[w],v=n[w];v.x1=p.top,v.y1=M-d.right,v.x2=p.bottom,v.y2=M-d.left,v.index=w,v.x1New=void 0,v.x2New=void 0}),_(A,n);for(const p of n){const w=p.index;t[w].top=p.x1New,t[w].bottom=p.x2New}return t}(S.width,S.height,A);for(let t=0;t<n.length;t++){const p=A[t].div,w=M._textDivProperties.get(p);if(0===w.angle){w.paddingLeft=A[t].left-n[t].left,w.paddingTop=A[t].top-n[t].top,w.paddingRight=n[t].right-A[t].right,w.paddingBottom=n[t].bottom-A[t].bottom,M._textDivProperties.set(p,w);continue}const d=n[t],v=A[t],g=v.m,h=g[0],L=g[1],F=[[0,0],[0,v.size[1]],[v.size[0],0],v.size],D=new Float64Array(64);for(let G=0,K=F.length;G<K;G++){const y=i.Util.applyTransform(F[G],g);D[G+0]=h&&(d.left-y[0])/h,D[G+4]=L&&(d.top-y[1])/L,D[G+8]=h&&(d.right-y[0])/h,D[G+12]=L&&(d.bottom-y[1])/L,D[G+16]=L&&(d.left-y[0])/-L,D[G+20]=h&&(d.top-y[1])/h,D[G+24]=L&&(d.right-y[0])/-L,D[G+28]=h&&(d.bottom-y[1])/h,D[G+32]=h&&(d.left-y[0])/-h,D[G+36]=L&&(d.top-y[1])/-L,D[G+40]=h&&(d.right-y[0])/-h,D[G+44]=L&&(d.bottom-y[1])/-L,D[G+48]=L&&(d.left-y[0])/L,D[G+52]=h&&(d.top-y[1])/-h,D[G+56]=L&&(d.right-y[0])/L,D[G+60]=h&&(d.bottom-y[1])/-h}const H=1+Math.min(Math.abs(h),Math.abs(L));w.paddingLeft=V(D,32,16)/H,w.paddingTop=V(D,48,16)/H,w.paddingRight=V(D,0,16)/H,w.paddingBottom=V(D,16,16)/H,M._textDivProperties.set(p,w)}}(this),this._bounds=null);const S=[],n=[];for(let t=0,p=this._textDivs.length;t<p;t++){const w=this._textDivs[t],d=this._textDivProperties.get(w);!d.hasText||(A?(S.length=0,n.length=0,d.originalTransform&&S.push(d.originalTransform),d.paddingTop>0?(n.push(`${d.paddingTop}px`),S.push(`translateY(${-d.paddingTop}px)`)):n.push(0),n.push(d.paddingRight>0?d.paddingRight/d.scale+"px":0),n.push(d.paddingBottom>0?`${d.paddingBottom}px`:0),d.paddingLeft>0?(n.push(d.paddingLeft/d.scale+"px"),S.push(`translateX(${-d.paddingLeft/d.scale}px)`)):n.push(0),w.style.padding=n.join(" "),S.length&&(w.style.transform=S.join(" "))):(w.style.padding=null,w.style.transform=d.originalTransform))}}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SVGGraphics=void 0;var i=k(1),I=k(5),E=k(3);let q=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};c.SVGGraphics=q;{let _=function(n){let t=[];const p=[];for(const w of n)"save"!==w.fn?"restore"===w.fn?t=p.pop():t.push(w):(t.push({fnId:92,fn:"group",items:[]}),p.push(t),t=t[t.length-1].items);return t},m=function(n){if(Number.isInteger(n))return n.toString();const t=n.toFixed(10);let p=t.length-1;if("0"!==t[p])return t;do{p--}while("0"===t[p]);return t.substring(0,"."===t[p]?p:p+1)},T=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${m(n[0])} ${m(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const t=180*Math.acos(n[0])/Math.PI;return`rotate(${m(t)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${m(n[4])} ${m(n[5])})`;return`matrix(${m(n[0])} ${m(n[1])} ${m(n[2])} ${m(n[3])} ${m(n[4])} ${m(n[5])})`};const U={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},R="http://www.w3.org/XML/1998/namespace",C="http://www.w3.org/1999/xlink",B=["butt","round","square"],W=["miter","round","bevel"],V=function(n,t="",p=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!p)return URL.createObjectURL(new Blob([n],{type:t}));const w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let d=`data:${t};base64,`;for(let v=0,g=n.length;v<g;v+=3){const h=255&n[v],L=255&n[v+1],F=255&n[v+2];d+=w[h>>2]+w[(3&h)<<4|L>>4]+w[v+1<g?(15&L)<<2|F>>6:64]+w[v+2<g?63&F:64]}return d},O=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),p=new Int32Array(256);for(let F=0;F<256;F++){let D=F;for(let H=0;H<8;H++)D=1&D?3988292384^D>>1&2147483647:D>>1&2147483647;p[F]=D}function d(F,D,H,G){let K=G;const y=D.length;H[K]=y>>24&255,H[K+1]=y>>16&255,H[K+2]=y>>8&255,H[K+3]=255&y,K+=4,H[K]=255&F.charCodeAt(0),H[K+1]=255&F.charCodeAt(1),H[K+2]=255&F.charCodeAt(2),H[K+3]=255&F.charCodeAt(3),K+=4,H.set(D,K),K+=D.length;const a=function w(F,D,H){let G=-1;for(let K=D;K<H;K++)G=G>>>8^p[255&(G^F[K])];return-1^G}(H,G+4,K);H[K]=a>>24&255,H[K+1]=a>>16&255,H[K+2]=a>>8&255,H[K+3]=255&a}function h(F){let D=F.length;const H=65535,G=Math.ceil(D/H),K=new Uint8Array(2+D+5*G+4);let y=0;K[y++]=120,K[y++]=156;let a=0;for(;D>H;)K[y++]=0,K[y++]=255,K[y++]=255,K[y++]=0,K[y++]=0,K.set(F.subarray(a,a+H),y),y+=H,a+=H,D-=H;K[y++]=1,K[y++]=255&D,K[y++]=D>>8&255,K[y++]=255&~D,K[y++]=(65535&~D)>>8&255,K.set(F.subarray(a),y),y+=F.length-a;const r=function v(F,D,H){let G=1,K=0;for(let y=D;y<H;++y)G=(G+(255&F[y]))%65521,K=(K+G)%65521;return K<<16|G}(F,0,F.length);return K[y++]=r>>24&255,K[y++]=r>>16&255,K[y++]=r>>8&255,K[y++]=255&r,K}return function(D,H,G){return function L(F,D,H,G){const K=F.width,y=F.height;let a,r,s;const o=F.data;switch(D){case i.ImageKind.GRAYSCALE_1BPP:r=0,a=1,s=K+7>>3;break;case i.ImageKind.RGB_24BPP:r=2,a=8,s=3*K;break;case i.ImageKind.RGBA_32BPP:r=6,a=8,s=4*K;break;default:throw new Error("invalid format")}const e=new Uint8Array((1+s)*y);let l=0,u=0;for(let X=0;X<y;++X)e[l++]=0,e.set(o.subarray(u,u+s),l),u+=s,l+=s;if(D===i.ImageKind.GRAYSCALE_1BPP&&G){l=0;for(let X=0;X<y;X++){l++;for(let Q=0;Q<s;Q++)e[l++]^=255}}const x=new Uint8Array([K>>24&255,K>>16&255,K>>8&255,255&K,y>>24&255,y>>16&255,y>>8&255,255&y,a,r,0,0,0]),b=function g(F){if(!E.isNodeJS)return h(F);try{let D;D=parseInt(process.versions.node)>=8?F:Buffer.from(F);const H=__webpack_require__(2258).deflateSync(D,{level:9});return H instanceof Uint8Array?H:new Uint8Array(H)}catch(D){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+D)}return h(F)}(e),j=new Uint8Array(n.length+36+x.length+b.length);let Y=0;return j.set(n,Y),Y+=n.length,d("IHDR",x,j,Y),Y+=12+x.length,d("IDATA",b,j,Y),Y+=12+b.length,d("IEND",new Uint8Array(0),j,Y),V(j,"image/png",H)}(D,void 0===D.kind?i.ImageKind.GRAYSCALE_1BPP:D.kind,H,G)}}();class N{constructor(){this.fontSizeScale=1,this.fontWeight=U.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=U.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(t,p){this.x=t,this.y=p}}let M=0,A=0,S=0;c.SVGGraphics=q=class{constructor(n,t,p=!1){this.svgFactory=new I.DOMSVGFactory,this.current=new N,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!p,this._operatorIdMapping=[];for(const w in i.OPS)this._operatorIdMapping[i.OPS[w]]=w}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const t=n.fnArray,p=n.argsArray;for(let w=0,d=t.length;w<d;w++)if(t[w]===i.OPS.dependency)for(const v of p[w]){const g=v.startsWith("g_")?this.commonObjs:this.objs,h=new Promise(L=>{g.get(v,L)});this.current.dependencies.push(h)}return Promise.all(this.current.dependencies)}transform(n,t,p,w,d,v){this.transformMatrix=i.Util.transform(this.transformMatrix,[n,t,p,w,d,v]),this.tgrp=null}getSVG(n,t){this.viewport=t;const p=this._initialize(t);return this.loadDependencies(n).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),p))}convertOpList(n){const t=this._operatorIdMapping,p=n.argsArray,w=n.fnArray,d=[];for(let v=0,g=w.length;v<g;v++){const h=w[v];d.push({fnId:h,fn:t[h],args:p[v]})}return _(d)}executeOpTree(n){for(const t of n){const p=t.fn,d=t.args;switch(0|t.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(d);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(d[0],d[1]);break;case i.OPS.setFont:this.setFont(d);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(d[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(d[0],d[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(d[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(d[0]);break;case i.OPS.setHScale:this.setHScale(d[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(d[0],d[1],d[2],d[3],d[4],d[5]);break;case i.OPS.setTextRise:this.setTextRise(d[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(d[0]);break;case i.OPS.setLineWidth:this.setLineWidth(d[0]);break;case i.OPS.setLineJoin:this.setLineJoin(d[0]);break;case i.OPS.setLineCap:this.setLineCap(d[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(d[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(d[0],d[1],d[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(d[0],d[1],d[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(d);break;case i.OPS.setFillColorN:this.setFillColorN(d);break;case i.OPS.shadingFill:this.shadingFill(d[0]);break;case i.OPS.setDash:this.setDash(d[0],d[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(d[0]);break;case i.OPS.setFlatness:this.setFlatness(d[0]);break;case i.OPS.setGState:this.setGState(d[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(d[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(d[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(d[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(d[0],d[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(d[0],d[1],d[2],d[3],d[4],d[5]);break;case i.OPS.constructPath:this.constructPath(d[0],d[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)(`Unimplemented operator ${p}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,t,p,w,d,v){const g=this.current;g.textMatrix=g.lineMatrix=[n,t,p,w,d,v],g.textMatrixScale=Math.hypot(n,t),g.x=g.lineX=0,g.y=g.lineY=0,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${m(g.fontSize)}px`),g.tspan.setAttributeNS(null,"y",m(-g.y)),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtElement.appendChild(g.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=i.IDENTITY_MATRIX,n.lineMatrix=i.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,t){const p=this.current;p.x=p.lineX+=n,p.y=p.lineY+=t,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${m(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",m(-p.y))}showText(n){const t=this.current,p=t.font,w=t.fontSize;if(0===w)return;const d=t.fontSizeScale,v=t.charSpacing,g=t.wordSpacing,h=t.fontDirection,L=t.textHScale*h,F=p.vertical,D=F?1:-1,H=p.defaultVMetrics,G=w*t.fontMatrix[0];let K=0;for(const r of n){if(null===r){K+=h*g;continue}if("number"==typeof r){K+=D*r*w/1e3;continue}const s=(r.isSpace?g:0)+v,o=r.fontChar;let e,l,x,u=r.width;if(F){let b;const f=r.vmetric||H;b=r.vmetric?f[1]:.5*u,b=-b*G,u=f?-f[0]:u,e=b/d,l=(K+f[2]*G)/d}else e=K/d,l=0;(r.isInFont||p.missingFile)&&(t.xcoords.push(t.x+e),F&&t.ycoords.push(-t.y+l),t.tspan.textContent+=o),x=F?u*G-s*h:u*G+s*h,K+=x}t.tspan.setAttributeNS(null,"x",t.xcoords.map(m).join(" ")),t.tspan.setAttributeNS(null,"y",F?t.ycoords.map(m).join(" "):m(-t.y)),F?t.y-=K:t.x+=K*L,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${m(t.fontSize)}px`),t.fontStyle!==U.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==U.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const y=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;y===i.TextRenderingMode.FILL||y===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==U.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.tspan.setAttributeNS(null,"fill",t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(y===i.TextRenderingMode.STROKE||y===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(t.tspan,1/(t.textMatrixScale||1));let a=t.textMatrix;0!==t.textRise&&(a=a.slice(),a[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${T(a)} scale(${m(L)}, -1)`),t.txtElement.setAttributeNS(R,"xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}setLeadingMoveText(n,t){this.setLeading(-t),this.moveText(n,t)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const t=V(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${t}); }\n`}setFont(n){const t=this.current,p=this.commonObjs.get(n[0]);let w=n[1];t.font=p,this.embedFonts&&!p.missingFile&&!this.embeddedFonts[p.loadedName]&&(this.addFontStyle(p),this.embeddedFonts[p.loadedName]=p),t.fontMatrix=p.fontMatrix||i.FONT_IDENTITY_MATRIX;let d="normal";p.black?d="900":p.bold&&(d="bold");const v=p.italic?"italic":"normal";w<0?(w=-w,t.fontDirection=-1):t.fontDirection=1,t.fontSize=w,t.fontFamily=p.loadedName,t.fontWeight=d,t.fontStyle=v,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",m(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=B[n]}setLineJoin(n){this.current.lineJoin=W[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,t,p){this.current.strokeColor=i.Util.makeHexColor(n,t,p)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,t,p){this.current.fillColor=i.Util.makeHexColor(n,t,p),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const t=this.viewport.width,p=this.viewport.height,w=i.Util.inverseTransform(this.transformMatrix),d=i.Util.applyTransform([0,0],w),v=i.Util.applyTransform([0,p],w),g=i.Util.applyTransform([t,0],w),h=i.Util.applyTransform([t,p],w),L=Math.min(d[0],v[0],g[0],h[0]),F=Math.min(d[1],v[1],g[1],h[1]),D=Math.max(d[0],v[0],g[0],h[0]),H=Math.max(d[1],v[1],g[1],h[1]),G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x",L),G.setAttributeNS(null,"y",F),G.setAttributeNS(null,"width",D-L),G.setAttributeNS(null,"height",H-F),G.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&G.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(G)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const t=n[1],p=n[2],w=n[3]||i.IDENTITY_MATRIX,[d,v,g,h]=n[4],L=n[5],F=n[6],D=n[7],H="shading"+S++,[G,K,y,a]=i.Util.normalizeRect([...i.Util.applyTransform([d,v],w),...i.Util.applyTransform([g,h],w)]),[r,s]=i.Util.singularValueDecompose2dScale(w),o=L*r,e=F*s,l=this.svgFactory.createElement("svg:pattern");l.setAttributeNS(null,"id",H),l.setAttributeNS(null,"patternUnits","userSpaceOnUse"),l.setAttributeNS(null,"width",o),l.setAttributeNS(null,"height",e),l.setAttributeNS(null,"x",`${G}`),l.setAttributeNS(null,"y",`${K}`);const u=this.svg,x=this.transformMatrix,b=this.current.fillColor,f=this.current.strokeColor,j=this.svgFactory.create(y-G,a-K);if(this.svg=j,this.transformMatrix=w,2===D){const Y=i.Util.makeHexColor(...t);this.current.fillColor=Y,this.current.strokeColor=Y}return this.executeOpTree(this.convertOpList(p)),this.svg=u,this.transformMatrix=x,this.current.fillColor=b,this.current.strokeColor=f,l.appendChild(j.childNodes[0]),this.defs.appendChild(l),`url(#${H})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const t="shading"+S++,p=n[3];let w;switch(n[1]){case"axial":const d=n[4],v=n[5];w=this.svgFactory.createElement("svg:linearGradient"),w.setAttributeNS(null,"id",t),w.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),w.setAttributeNS(null,"x1",d[0]),w.setAttributeNS(null,"y1",d[1]),w.setAttributeNS(null,"x2",v[0]),w.setAttributeNS(null,"y2",v[1]);break;case"radial":const g=n[4],h=n[5],L=n[6],F=n[7];w=this.svgFactory.createElement("svg:radialGradient"),w.setAttributeNS(null,"id",t),w.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),w.setAttributeNS(null,"cx",h[0]),w.setAttributeNS(null,"cy",h[1]),w.setAttributeNS(null,"r",F),w.setAttributeNS(null,"fx",g[0]),w.setAttributeNS(null,"fy",g[1]),w.setAttributeNS(null,"fr",L);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const d of p){const v=this.svgFactory.createElement("svg:stop");v.setAttributeNS(null,"offset",d[0]),v.setAttributeNS(null,"stop-color",d[1]),w.appendChild(v)}return this.defs.appendChild(w),`url(#${t})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,t){this.current.dashArray=n,this.current.dashPhase=t}constructPath(n,t){const p=this.current;let w=p.x,d=p.y,v=[],g=0;for(const h of n)switch(0|h){case i.OPS.rectangle:w=t[g++],d=t[g++];const D=w+t[g++],H=d+t[g++];v.push("M",m(w),m(d),"L",m(D),m(d),"L",m(D),m(H),"L",m(w),m(H),"Z");break;case i.OPS.moveTo:w=t[g++],d=t[g++],v.push("M",m(w),m(d));break;case i.OPS.lineTo:w=t[g++],d=t[g++],v.push("L",m(w),m(d));break;case i.OPS.curveTo:w=t[g+4],d=t[g+5],v.push("C",m(t[g]),m(t[g+1]),m(t[g+2]),m(t[g+3]),m(w),m(d)),g+=6;break;case i.OPS.curveTo2:v.push("C",m(w),m(d),m(t[g]),m(t[g+1]),m(t[g+2]),m(t[g+3])),w=t[g+2],d=t[g+3],g+=4;break;case i.OPS.curveTo3:w=t[g+2],d=t[g+3],v.push("C",m(t[g]),m(t[g+1]),m(w),m(d),m(w),m(d)),g+=4;break;case i.OPS.closePath:v.push("Z")}v=v.join(" "),p.path&&n.length>0&&n[0]!==i.OPS.rectangle&&n[0]!==i.OPS.moveTo?v=p.path.getAttributeNS(null,"d")+v:(p.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(p.path)),p.path.setAttributeNS(null,"d",v),p.path.setAttributeNS(null,"fill","none"),p.element=p.path,p.setCurrentPoint(w,d)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const t="clippath"+M++,p=this.svgFactory.createElement("svg:clipPath");p.setAttributeNS(null,"id",t),p.setAttributeNS(null,"transform",T(this.transformMatrix));const w=n.element.cloneNode(!0);if(w.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,p.appendChild(w),this.defs.appendChild(p),n.activeClipUrl){n.clipGroup=null;for(const d of this.extraStack)d.clipGroup=null;p.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const t=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",t)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[t,p]of n)switch(t){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p);break;case"CA":this.setStrokeAlpha(p);break;case"ca":this.setFillAlpha(p);break;default:(0,i.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,t=1){const p=this.current;let w=p.dashArray;1!==t&&w.length>0&&(w=w.map(function(d){return t*d})),n.setAttributeNS(null,"stroke",p.strokeColor),n.setAttributeNS(null,"stroke-opacity",p.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",m(p.miterLimit)),n.setAttributeNS(null,"stroke-linecap",p.lineCap),n.setAttributeNS(null,"stroke-linejoin",p.lineJoin),n.setAttributeNS(null,"stroke-width",m(t*p.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",w.map(m).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",m(t*p.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const t=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);t?this.paintInlineImageXObject(t):(0,i.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,t){const p=n.width,w=n.height,d=O(n,this.forceDataSchema,!!t),v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x","0"),v.setAttributeNS(null,"y","0"),v.setAttributeNS(null,"width",m(p)),v.setAttributeNS(null,"height",m(w)),this.current.element=v,this.clip("nonzero");const g=this.svgFactory.createElement("svg:image");g.setAttributeNS(C,"xlink:href",d),g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y",m(-w)),g.setAttributeNS(null,"width",m(p)+"px"),g.setAttributeNS(null,"height",m(w)+"px"),g.setAttributeNS(null,"transform",`scale(${m(1/p)} ${m(-1/w)})`),t?t.appendChild(g):this._ensureTransformGroup().appendChild(g)}paintImageMaskXObject(n){const t=this.current,p=n.width,w=n.height,d=t.fillColor;t.maskId="mask"+A++;const v=this.svgFactory.createElement("svg:mask");v.setAttributeNS(null,"id",t.maskId);const g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width",m(p)),g.setAttributeNS(null,"height",m(w)),g.setAttributeNS(null,"fill",d),g.setAttributeNS(null,"mask",`url(#${t.maskId})`),this.defs.appendChild(v),this._ensureTransformGroup().appendChild(g),this.paintInlineImageXObject(n,v)}paintFormXObjectBegin(n,t){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),t){const p=t[2]-t[0],w=t[3]-t[1],d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",t[0]),d.setAttributeNS(null,"y",t[1]),d.setAttributeNS(null,"width",m(p)),d.setAttributeNS(null,"height",m(w)),this.current.element=d,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const t=this.svgFactory.create(n.width,n.height),p=this.svgFactory.createElement("svg:defs");t.appendChild(p),this.defs=p;const w=this.svgFactory.createElement("svg:g");return w.setAttributeNS(null,"transform",T(n.transform)),t.appendChild(w),this.svg=w,t}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",T(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFNodeStream=void 0;var i=k(1),I=k(24);const E=__webpack_require__(172),q=__webpack_require__(2001),U=__webpack_require__(3779),R=__webpack_require__(6558),C=/^file:\/\/\/[a-zA-Z]:\//;c.PDFNodeStream=class W{constructor(S){this.source=S,this.url=function B(A){const S=R.parse(A);return"file:"===S.protocol||S.host?S:/^[a-z]:[/\\]/i.test(A)?R.parse(`file:///${A}`):(S.host||(S.protocol="file:"),S)}(S.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new T(this):new _(this),this._fullRequestReader}getRangeReader(S,n){if(n<=this._progressiveDataLength)return null;const t=this.isFsUrl?new M(this,S,n):new m(this,S,n);return this._rangeRequestReaders.push(t),t}cancelAllRequests(S){this._fullRequestReader&&this._fullRequestReader.cancel(S);for(const n of this._rangeRequestReaders.slice(0))n.cancel(S)}};class V{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=S.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){if(yield S._readCapability.promise,S._done)return{value:void 0,done:!0};if(S._storedError)throw S._storedError;const n=S._readableStream.read();return null===n?(S._readCapability=(0,i.createPromiseCapability)(),S.read()):(S._loaded+=n.length,S.onProgress&&S.onProgress({loaded:S._loaded,total:S._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(S){this._readableStream?this._readableStream.destroy(S):this._error(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class O{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!S.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){if(yield S._readCapability.promise,S._done)return{value:void 0,done:!0};if(S._storedError)throw S._storedError;const n=S._readableStream.read();return null===n?(S._readCapability=(0,i.createPromiseCapability)(),S.read()):(S._loaded+=n.length,S.onProgress&&S.onProgress({loaded:S._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(S){this._readableStream?this._readableStream.destroy(S):this._error(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function N(A,S){return{protocol:A.protocol,auth:A.auth,host:A.hostname,port:A.port,path:A.path,method:"GET",headers:S}}class _ extends V{constructor(S){super(S);const n=t=>{if(404===t.statusCode){const v=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=v,void this._headersCapability.reject(v)}this._headersCapability.resolve(),this._setReadableStream(t);const p=v=>this._readableStream.headers[v.toLowerCase()],{allowRangeRequests:w,suggestedLength:d}=(0,I.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:S.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=w,this._contentLength=d||this._contentLength,this._filename=(0,I.extractFilenameFromHeader)(p)};this._request=null,this._request="http:"===this._url.protocol?q.request(N(this._url,S.httpHeaders),n):U.request(N(this._url,S.httpHeaders),n),this._request.on("error",t=>{this._storedError=t,this._headersCapability.reject(t)}),this._request.end()}}class m extends O{constructor(S,n,t){super(S),this._httpHeaders={};for(const w in S.httpHeaders){const d=S.httpHeaders[w];typeof d>"u"||(this._httpHeaders[w]=d)}this._httpHeaders.Range=`bytes=${n}-${t-1}`;const p=w=>{if(404!==w.statusCode)this._setReadableStream(w);else{const d=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=d}};this._request=null,this._request="http:"===this._url.protocol?q.request(N(this._url,this._httpHeaders),p):U.request(N(this._url,this._httpHeaders),p),this._request.on("error",w=>{this._storedError=w}),this._request.end()}}class T extends V{constructor(S){super(S);let n=decodeURIComponent(this._url.path);C.test(this._url.href)&&(n=n.replace(/^\//,"")),E.lstat(n,(t,p)=>{if(t)return"ENOENT"===t.code&&(t=new i.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=p.size,this._setReadableStream(E.createReadStream(n)),this._headersCapability.resolve()})}}class M extends O{constructor(S,n,t){super(S);let p=decodeURIComponent(this._url.path);C.test(this._url.href)&&(p=p.replace(/^\//,"")),this._setReadableStream(E.createReadStream(p,{start:n,end:t-1}))}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createResponseStatusError=function R(B,W){return 404===B||0===B&&W.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+W+'".'):new i.UnexpectedResponseException(`Unexpected server response (${B}) while retrieving PDF "${W}".`,B)},c.extractFilenameFromHeader=function U(B){const W=B("Content-Disposition");if(W){let V=(0,I.getFilenameFromContentDispositionHeader)(W);if(V.includes("%"))try{V=decodeURIComponent(V)}catch{}if((0,E.isPdfFile)(V))return V}return null},c.validateRangeRequestCapabilities=function q({getResponseHeader:B,isHttp:W,rangeChunkSize:V,disableRange:O}){(0,i.assert)(V>0,"Range chunk size must be larger than zero");const N={allowRangeRequests:!1,suggestedLength:void 0},_=parseInt(B("Content-Length"),10);return!Number.isInteger(_)||(N.suggestedLength=_,_<=2*V)||O||!W||"bytes"!==B("Accept-Ranges")||"identity"!==(B("Content-Encoding")||"identity")||(N.allowRangeRequests=!0),N},c.validateResponseStatus=function C(B){return 200===B||206===B};var i=k(1),I=k(25),E=k(5)},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getFilenameFromContentDispositionHeader=function I(E){let q=!0,U=R("filename\\*","i").exec(E);if(U){U=U[1];let _=V(U);return _=unescape(_),_=O(_),_=N(_),B(_)}if(U=function W(_){const m=[];let T;const M=R("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(T=M.exec(_));){let[,S,n,t]=T;if(S=parseInt(S,10),S in m){if(0===S)break}else m[S]=[n,t]}const A=[];for(let S=0;S<m.length&&S in m;++S){let[n,t]=m[S];t=V(t),n&&(t=unescape(t),0===S&&(t=O(t))),A.push(t)}return A.join("")}(E),U)return B(N(U));if(U=R("filename","i").exec(E),U){U=U[1];let _=V(U);return _=N(_),B(_)}function R(_,m){return new RegExp("(?:^|;)\\s*"+_+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function C(_,m){if(_){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const T=new TextDecoder(_,{fatal:!0}),M=(0,i.stringToBytes)(m);m=T.decode(M),q=!1}catch{}}return m}function B(_){return q&&/[\x80-\xff]/.test(_)&&(_=C("utf-8",_),q&&(_=C("iso-8859-1",_))),_}function V(_){if(_.startsWith('"')){const m=_.slice(1).split('\\"');for(let T=0;T<m.length;++T){const M=m[T].indexOf('"');-1!==M&&(m[T]=m[T].slice(0,M),m.length=T+1),m[T]=m[T].replace(/\\(.)/g,"$1")}_=m.join('"')}return _}function O(_){const m=_.indexOf("'");return-1===m?_:C(_.slice(0,m),_.slice(m+1).replace(/^[^']*'/,""))}function N(_){return!_.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(_)?_:_.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,T,M,A){if("q"===M||"Q"===M)return C(T,A=(A=A.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(S,n){return String.fromCharCode(parseInt(n,16))}));try{A=atob(A)}catch{}return C(T,A)})}return""};var i=k(1)},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFNetworkStream=void 0;var i=k(1),I=k(24);class R{constructor(O,N={}){this.url=O,this.isHttp=/^https?:/i.test(O),this.httpHeaders=this.isHttp&&N.httpHeaders||Object.create(null),this.withCredentials=N.withCredentials||!1,this.getXhr=N.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(O,N,_){const m={begin:O,end:N};for(const T in _)m[T]=_[T];return this.request(m)}requestFull(O){return this.request(O)}request(O){const N=this.getXhr(),_=this.currXhrId++,m=this.pendingRequests[_]={xhr:N};N.open("GET",this.url),N.withCredentials=this.withCredentials;for(const T in this.httpHeaders){const M=this.httpHeaders[T];typeof M>"u"||N.setRequestHeader(T,M)}return this.isHttp&&"begin"in O&&"end"in O?(N.setRequestHeader("Range",`bytes=${O.begin}-${O.end-1}`),m.expectedStatus=206):m.expectedStatus=200,N.responseType="arraybuffer",O.onError&&(N.onerror=function(T){O.onError(N.status)}),N.onreadystatechange=this.onStateChange.bind(this,_),N.onprogress=this.onProgress.bind(this,_),m.onHeadersReceived=O.onHeadersReceived,m.onDone=O.onDone,m.onError=O.onError,m.onProgress=O.onProgress,N.send(null),_}onProgress(O,N){const _=this.pendingRequests[O];!_||_.onProgress?.(N)}onStateChange(O,N){const _=this.pendingRequests[O];if(!_)return;const m=_.xhr;if(m.readyState>=2&&_.onHeadersReceived&&(_.onHeadersReceived(),delete _.onHeadersReceived),4!==m.readyState||!(O in this.pendingRequests))return;if(delete this.pendingRequests[O],0===m.status&&this.isHttp)return void _.onError?.(m.status);const T=m.status||200;if((200!==T||206!==_.expectedStatus)&&T!==_.expectedStatus)return void _.onError?.(m.status);const A=function U(V){const O=V.response;return"string"!=typeof O?O:(0,i.stringToBytes)(O).buffer}(m);if(206===T){const S=m.getResponseHeader("Content-Range"),n=/bytes (\d+)-(\d+)\/(\d+)/.exec(S);_.onDone({begin:parseInt(n[1],10),chunk:A})}else A?_.onDone({begin:0,chunk:A}):_.onError?.(m.status)}getRequestXhr(O){return this.pendingRequests[O].xhr}isPendingRequest(O){return O in this.pendingRequests}abortRequest(O){const N=this.pendingRequests[O].xhr;delete this.pendingRequests[O],N.abort()}}c.PDFNetworkStream=class C{constructor(O){this._source=O,this._manager=new R(O.url,{httpHeaders:O.httpHeaders,withCredentials:O.withCredentials}),this._rangeChunkSize=O.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(O){const N=this._rangeRequestReaders.indexOf(O);N>=0&&this._rangeRequestReaders.splice(N,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new B(this._manager,this._source),this._fullRequestReader}getRangeReader(O,N){const _=new W(this._manager,O,N);return _.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(_),_}cancelAllRequests(O){this._fullRequestReader?.cancel(O);for(const N of this._rangeRequestReaders.slice(0))N.cancel(O)}};class B{constructor(O,N){this._manager=O;const _={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=N.url,this._fullRequestId=O.requestFull(_),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=N.disableRange||!1,this._contentLength=N.length,this._rangeChunkSize=N.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const O=this._fullRequestId,N=this._manager.getRequestXhr(O),_=M=>N.getResponseHeader(M),{allowRangeRequests:m,suggestedLength:T}=(0,I.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});m&&(this._isRangeSupported=!0),this._contentLength=T||this._contentLength,this._filename=(0,I.extractFilenameFromHeader)(_),this._isRangeSupported&&this._manager.abortRequest(O),this._headersReceivedCapability.resolve()}_onDone(O){if(O&&(this._requests.length>0?this._requests.shift().resolve({value:O.chunk,done:!1}):this._cachedChunks.push(O.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(O){this._storedError=(0,I.createResponseStatusError)(O,this._url),this._headersReceivedCapability.reject(this._storedError);for(const N of this._requests)N.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(O){this.onProgress?.({loaded:O.loaded,total:O.lengthComputable?O.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var O=this;return _asyncToGenerator(function*(){if(O._storedError)throw O._storedError;if(O._cachedChunks.length>0)return{value:O._cachedChunks.shift(),done:!1};if(O._done)return{value:void 0,done:!0};const N=(0,i.createPromiseCapability)();return O._requests.push(N),N.promise})()}cancel(O){this._done=!0,this._headersReceivedCapability.reject(O);for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class W{constructor(O,N,_){this._manager=O;const m={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=O.url,this._requestId=O.requestRange(N,_,m),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(O){const N=O.chunk;this._requests.length>0?this._requests.shift().resolve({value:N,done:!1}):this._queuedChunk=N,this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(O){this._storedError=(0,I.createResponseStatusError)(O,this._url);for(const N of this._requests)N.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(O){this.isStreamingSupported||this.onProgress?.({loaded:O.loaded})}get isStreamingSupported(){return!1}read(){var O=this;return _asyncToGenerator(function*(){if(O._storedError)throw O._storedError;if(null!==O._queuedChunk){const _=O._queuedChunk;return O._queuedChunk=null,{value:_,done:!1}}if(O._done)return{value:void 0,done:!0};const N=(0,i.createPromiseCapability)();return O._requests.push(N),N.promise})()}cancel(O){this._done=!0;for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},($,c,k)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFFetchStream=void 0;var i=k(1),I=k(24);function E(B,W,V){return{method:"GET",headers:B,signal:V?.signal,mode:"cors",credentials:W?"include":"same-origin",redirect:"follow"}}function q(B){const W=new Headers;for(const V in B){const O=B[V];typeof O>"u"||W.append(V,O)}return W}c.PDFFetchStream=class U{constructor(W){this.source=W,this.isHttp=/^https?:/i.test(W.url),this.httpHeaders=this.isHttp&&W.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new R(this),this._fullRequestReader}getRangeReader(W,V){if(V<=this._progressiveDataLength)return null;const O=new C(this,W,V);return this._rangeRequestReaders.push(O),O}cancelAllRequests(W){this._fullRequestReader&&this._fullRequestReader.cancel(W);for(const V of this._rangeRequestReaders.slice(0))V.cancel(W)}};class R{constructor(W){this._stream=W,this._reader=null,this._loaded=0,this._filename=null;const V=W.source;this._withCredentials=V.withCredentials||!1,this._contentLength=V.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=V.disableRange||!1,this._rangeChunkSize=V.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!V.disableStream,this._isRangeSupported=!V.disableRange,this._headers=q(this._stream.httpHeaders);const O=V.url;fetch(O,E(this._headers,this._withCredentials,this._abortController)).then(N=>{if(!(0,I.validateResponseStatus)(N.status))throw(0,I.createResponseStatusError)(N.status,O);this._reader=N.body.getReader(),this._headersCapability.resolve();const _=M=>N.headers.get(M),{allowRangeRequests:m,suggestedLength:T}=(0,I.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=T||this._contentLength,this._filename=(0,I.extractFilenameFromHeader)(_),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var W=this;return _asyncToGenerator(function*(){yield W._headersCapability.promise;const{value:V,done:O}=yield W._reader.read();return O?{value:V,done:O}:(W._loaded+=V.byteLength,W.onProgress&&W.onProgress({loaded:W._loaded,total:W._contentLength}),{value:new Uint8Array(V).buffer,done:!1})})()}cancel(W){this._reader&&this._reader.cancel(W),this._abortController&&this._abortController.abort()}}class C{constructor(W,V,O){this._stream=W,this._reader=null,this._loaded=0;const N=W.source;this._withCredentials=N.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!N.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=q(this._stream.httpHeaders),this._headers.append("Range",`bytes=${V}-${O-1}`);const _=N.url;fetch(_,E(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,I.validateResponseStatus)(m.status))throw(0,I.createResponseStatusError)(m.status,_);this._readCapability.resolve(),this._reader=m.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var W=this;return _asyncToGenerator(function*(){yield W._readCapability.promise;const{value:V,done:O}=yield W._reader.read();return O?{value:V,done:O}:(W._loaded+=V.byteLength,W.onProgress&&W.onProgress({loaded:W._loaded}),{value:new Uint8Array(V).buffer,done:!1})})()}cancel(W){this._reader&&this._reader.cancel(W),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__($){var c=__webpack_module_cache__[$];if(void 0!==c)return c.exports;var k=__webpack_module_cache__[$]={exports:{}};return __webpack_modules__[$](k,k.exports,__w_pdfjs_require__),k.exports}var __webpack_exports__={};return(()=>{var $=__webpack_exports__;Object.defineProperty($,"__esModule",{value:!0}),Object.defineProperty($,"AnnotationLayer",{enumerable:!0,get:function(){return I.AnnotationLayer}}),Object.defineProperty($,"AnnotationMode",{enumerable:!0,get:function(){return c.AnnotationMode}}),Object.defineProperty($,"CMapCompressionType",{enumerable:!0,get:function(){return c.CMapCompressionType}}),Object.defineProperty($,"GlobalWorkerOptions",{enumerable:!0,get:function(){return E.GlobalWorkerOptions}}),Object.defineProperty($,"InvalidPDFException",{enumerable:!0,get:function(){return c.InvalidPDFException}}),Object.defineProperty($,"LoopbackPort",{enumerable:!0,get:function(){return k.LoopbackPort}}),Object.defineProperty($,"MissingPDFException",{enumerable:!0,get:function(){return c.MissingPDFException}}),Object.defineProperty($,"OPS",{enumerable:!0,get:function(){return c.OPS}}),Object.defineProperty($,"PDFDataRangeTransport",{enumerable:!0,get:function(){return k.PDFDataRangeTransport}}),Object.defineProperty($,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty($,"PDFWorker",{enumerable:!0,get:function(){return k.PDFWorker}}),Object.defineProperty($,"PasswordResponses",{enumerable:!0,get:function(){return c.PasswordResponses}}),Object.defineProperty($,"PermissionFlag",{enumerable:!0,get:function(){return c.PermissionFlag}}),Object.defineProperty($,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty($,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty($,"SVGGraphics",{enumerable:!0,get:function(){return R.SVGGraphics}}),Object.defineProperty($,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return c.UNSUPPORTED_FEATURES}}),Object.defineProperty($,"UnexpectedResponseException",{enumerable:!0,get:function(){return c.UnexpectedResponseException}}),Object.defineProperty($,"Util",{enumerable:!0,get:function(){return c.Util}}),Object.defineProperty($,"VerbosityLevel",{enumerable:!0,get:function(){return c.VerbosityLevel}}),Object.defineProperty($,"XfaLayer",{enumerable:!0,get:function(){return C.XfaLayer}}),Object.defineProperty($,"build",{enumerable:!0,get:function(){return k.build}}),Object.defineProperty($,"createPromiseCapability",{enumerable:!0,get:function(){return c.createPromiseCapability}}),Object.defineProperty($,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return c.createValidAbsoluteUrl}}),Object.defineProperty($,"getDocument",{enumerable:!0,get:function(){return k.getDocument}}),Object.defineProperty($,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty($,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty($,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty($,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty($,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty($,"renderTextLayer",{enumerable:!0,get:function(){return U.renderTextLayer}}),Object.defineProperty($,"shadow",{enumerable:!0,get:function(){return c.shadow}}),Object.defineProperty($,"version",{enumerable:!0,get:function(){return k.version}});var c=__w_pdfjs_require__(1),k=__w_pdfjs_require__(4),i=__w_pdfjs_require__(5),I=__w_pdfjs_require__(18),E=__w_pdfjs_require__(12),q=__w_pdfjs_require__(3),U=__w_pdfjs_require__(21),R=__w_pdfjs_require__(22),C=__w_pdfjs_require__(20);if(q.isNodeJS){const{PDFNodeStream:V}=__w_pdfjs_require__(23);(0,k.setPDFNetworkStreamFactory)(O=>new V(O))}else{const{PDFNetworkStream:V}=__w_pdfjs_require__(26),{PDFFetchStream:O}=__w_pdfjs_require__(27);(0,k.setPDFNetworkStreamFactory)(N=>(0,i.isValidFetchUrl)(N.url)?new O(N):new V(N))}})(),__webpack_exports__})()},module.exports=k()},2813:function($,c,k){var i=k(5962).default,I=k(3448).default,E=k(3606).default,q=k(9393).default,U=k(4877).default,R=k(1226).default,C=k(8926).default;$.exports=(()=>{"use strict";var B=[,(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DefaultXfaLayerFactory=_.DefaultTextLayerFactory=_.DefaultStructTreeLayerFactory=_.DefaultAnnotationLayerFactory=void 0;var T=m(2),M=m(4),A=m(5),S=m(7),n=m(8),t=m(9);_.DefaultAnnotationLayerFactory=class p{createAnnotationLayerBuilder(h,L,F=null,D="",H=!0,G=M.NullL10n,K=!1,y=null,a=null,r=null,s=null){return new T.AnnotationLayerBuilder({pageDiv:h,pdfPage:L,imageResourcesPath:D,renderForms:H,linkService:new A.SimpleLinkService,l10n:G,annotationStorage:F,enableScripting:K,hasJSActionsPromise:y,fieldObjectsPromise:r,mouseState:a,annotationCanvasMap:s})}};_.DefaultStructTreeLayerFactory=class w{createStructTreeLayerBuilder(h){return new S.StructTreeLayerBuilder({pdfPage:h})}};_.DefaultTextLayerFactory=class d{createTextLayerBuilder(h,L,F,D=!1,H,G){return new n.TextLayerBuilder({textLayerDiv:h,pageIndex:L,viewport:F,enhanceTextSelection:D,eventBus:H,highlighter:G})}};_.DefaultXfaLayerFactory=class v{createXfaLayerBuilder(h,L,F=null,D=null){return new t.XfaLayerBuilder({pageDiv:h,pdfPage:L,annotationStorage:F,linkService:new A.SimpleLinkService,xfaHtml:D})}}},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationLayerBuilder=void 0;var T=m(3),M=m(4);_.AnnotationLayerBuilder=class A{constructor({pageDiv:n,pdfPage:t,linkService:p,downloadManager:w,annotationStorage:d=null,imageResourcesPath:v="",renderForms:g=!0,l10n:h=M.NullL10n,enableScripting:L=!1,hasJSActionsPromise:F=null,fieldObjectsPromise:D=null,mouseState:H=null,annotationCanvasMap:G=null}){this.pageDiv=n,this.pdfPage=t,this.linkService=p,this.downloadManager=w,this.imageResourcesPath=v,this.renderForms=g,this.l10n=h,this.annotationStorage=d,this.enableScripting=L,this._hasJSActionsPromise=F,this._fieldObjectsPromise=D,this._mouseState=H,this._annotationCanvasMap=G,this.div=null,this._cancelled=!1}render(n,t="display"){var p=this;return C(function*(){const[w,d=!1,v=null]=yield Promise.all([p.pdfPage.getAnnotations({intent:t}),p._hasJSActionsPromise,p._fieldObjectsPromise]);if(p._cancelled||0===w.length)return;const g={viewport:n.clone({dontFlip:!0}),div:p.div,annotations:w,page:p.pdfPage,imageResourcesPath:p.imageResourcesPath,renderForms:p.renderForms,linkService:p.linkService,downloadManager:p.downloadManager,annotationStorage:p.annotationStorage,enableScripting:p.enableScripting,hasJSActions:d,fieldObjects:v,mouseState:p._mouseState,annotationCanvasMap:p._annotationCanvasMap};p.div?T.AnnotationLayer.update(g):(p.div=document.createElement("div"),p.div.className="annotationLayer",p.pageDiv.appendChild(p.div),g.div=p.div,T.AnnotationLayer.render(g),p.l10n.translate(p.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},N=>{let _;_=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:k(6036),N.exports=_},(N,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NullL10n=void 0,_.fixupLangCode=function A(t){return M[t?.toLowerCase()]||t},_.getL10nFallback=T;const m={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function T(t,p){switch(t){case"find_match_count":t=`find_match_count[${1===p.total?"one":"other"}]`;break;case"find_match_count_limit":t=`find_match_count_limit[${1===p.limit?"one":"other"}]`}return m[t]||""}const M={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};_.NullL10n={getLanguage:()=>C(function*(){return"en-us"})(),getDirection:()=>C(function*(){return"ltr"})(),get:(t,p=null,w=T(t,p))=>C(function*(){return function S(t,p){return p?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(w,d)=>d in p?p[d]:"{{"+d+"}}"):t}(w,p)})(),translate:t=>C(function*(){})()}},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.SimpleLinkService=_.PDFLinkService=_.LinkTarget=void 0;var T=m(6);const A={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function S(g,{url:h,target:L,rel:F,enabled:D=!0}={}){if(!h||"string"!=typeof h)throw new Error('A valid "url" parameter must provided.');const H=(0,T.removeNullCharacters)(h);D?g.href=g.title=H:(g.href="",g.title=`Disabled: ${H}`,g.onclick=()=>!1);let G="";switch(L){case A.NONE:break;case A.SELF:G="_self";break;case A.BLANK:G="_blank";break;case A.PARENT:G="_parent";break;case A.TOP:G="_top"}g.target=G,g.rel="string"==typeof F?F:"noopener noreferrer nofollow"}_.LinkTarget=A;var n=new WeakMap,t=new WeakSet;class p{constructor({eventBus:h,externalLinkTarget:L=null,externalLinkRel:F=null,ignoreDestinationZoom:D=!1}={}){I(this,t),E(this,n,{writable:!0,value:new Map}),this.eventBus=h,this.externalLinkTarget=L,this.externalLinkRel=F,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=D,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(h,L=null){this.baseUrl=L,this.pdfDocument=h,R(this,n).clear()}setViewer(h){this.pdfViewer=h}setHistory(h){this.pdfHistory=h}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(h){this.pdfViewer.currentPageNumber=h}get rotation(){return this.pdfViewer.pagesRotation}set rotation(h){this.pdfViewer.pagesRotation=h}goToDestination(h){var L=this;return C(function*(){if(!L.pdfDocument)return;let F,D;"string"==typeof h?(F=h,D=yield L.pdfDocument.getDestination(h)):(F=null,D=yield h),Array.isArray(D)?U(L,t,w).call(L,h,F,D):console.error(`PDFLinkService.goToDestination: "${D}" is not a valid destination array, for dest="${h}".`)})()}goToPage(h){if(!this.pdfDocument)return;const L="string"==typeof h&&this.pdfViewer.pageLabelToPageNumber(h)||0|h;Number.isInteger(L)&&L>0&&L<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(L)),this.pdfViewer.scrollPageIntoView({pageNumber:L})):console.error(`PDFLinkService.goToPage: "${h}" is not a valid page.`)}addLinkAttributes(h,L,F=!1){S(h,{url:L,target:F?A.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(h){if("string"==typeof h){if(h.length>0)return this.getAnchorUrl("#"+escape(h))}else if(Array.isArray(h)){const L=JSON.stringify(h);if(L.length>0)return this.getAnchorUrl("#"+escape(L))}return this.getAnchorUrl("")}getAnchorUrl(h){return(this.baseUrl||"")+h}setHash(h){if(!this.pdfDocument)return;let L,F;if(h.includes("=")){const D=(0,T.parseQueryString)(h);if(D.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:D.get("search").replace(/"/g,""),phraseSearch:"true"===D.get("phrase")}),D.has("page")&&(L=0|D.get("page")||1),D.has("zoom")){const H=D.get("zoom").split(","),G=H[0],K=parseFloat(G);G.includes("Fit")?"Fit"===G||"FitB"===G?F=[null,{name:G}]:"FitH"===G||"FitBH"===G||"FitV"===G||"FitBV"===G?F=[null,{name:G},H.length>1?0|H[1]:null]:"FitR"===G?5!==H.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):F=[null,{name:G},0|H[1],0|H[2],0|H[3],0|H[4]]:console.error(`PDFLinkService.setHash: "${G}" is not a valid zoom value.`):F=[null,{name:"XYZ"},H.length>1?0|H[1]:null,H.length>2?0|H[2]:null,K?K/100:G]}F?this.pdfViewer.scrollPageIntoView({pageNumber:L||this.page,destArray:F,allowNegativeOffset:!0}):L&&(this.page=L),D.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:D.get("pagemode")}),D.has("nameddest")&&this.goToDestination(D.get("nameddest"))}else{F=unescape(h);try{F=JSON.parse(F),Array.isArray(F)||(F=F.toString())}catch{}if("string"==typeof F||q(p,p,d).call(p,F))return void this.goToDestination(F);console.error(`PDFLinkService.setHash: "${unescape(h)}" is not a valid destination.`)}}executeNamedAction(h){switch(h){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:h})}cachePageRef(h,L){if(!L)return;const F=0===L.gen?`${L.num}R`:`${L.num}R${L.gen}`;R(this,n).set(F,h)}_cachedPageNumber(h){if(!h)return null;const L=0===h.gen?`${h.num}R`:`${h.num}R${h.gen}`;return R(this,n).get(L)||null}isPageVisible(h){return this.pdfViewer.isPageVisible(h)}isPageCached(h){return this.pdfViewer.isPageCached(h)}}function w(g,h=null,L){const F=L[0];let D;if("object"==typeof F&&null!==F){if(D=this._cachedPageNumber(F),!D)return void this.pdfDocument.getPageIndex(F).then(H=>{this.cachePageRef(H+1,F),U(this,t,w).call(this,g,h,L)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page reference, for dest="${g}".`)})}else{if(!Number.isInteger(F))return void console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid destination reference, for dest="${g}".`);D=F+1}!D||D<1||D>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${D}" is not a valid page number, for dest="${g}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:h,explicitDest:L,pageNumber:D})),this.pdfViewer.scrollPageIntoView({pageNumber:D,destArray:L,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function d(g){if(!Array.isArray(g))return!1;const h=g.length;if(h<2)return!1;const L=g[0];if(!("object"==typeof L&&Number.isInteger(L.num)&&Number.isInteger(L.gen)||Number.isInteger(L)&&L>=0))return!1;const F=g[1];if("object"!=typeof F||"string"!=typeof F.name)return!1;let D=!0;switch(F.name){case"XYZ":if(5!==h)return!1;break;case"Fit":case"FitB":return 2===h;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==h)return!1;break;case"FitR":if(6!==h)return!1;D=!1;break;default:return!1}for(let H=2;H<h;H++){const G=g[H];if(!("number"==typeof G||D&&null===G))return!1}return!0}_.PDFLinkService=p;_.SimpleLinkService=class v{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(h){}get rotation(){return 0}set rotation(h){}goToDestination(h){return C(function*(){})()}goToPage(h){}addLinkAttributes(h,L,F=!1){S(h,{url:L,enabled:this.externalLinkEnabled})}getDestinationHash(h){return"#"}getAnchorUrl(h){return"#"}setHash(h){}executeNamedAction(h){}cachePageRef(h,L){}isPageVisible(h){return!0}isPageCached(h){return!0}}},(N,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.animationStarted=_.VERTICAL_PADDING=_.UNKNOWN_SCALE=_.TextLayerMode=_.SpreadMode=_.SidebarView=_.ScrollMode=_.SCROLLBAR_PADDING=_.RenderingStates=_.RendererType=_.ProgressBar=_.PresentationModeState=_.OutputScale=_.MIN_SCALE=_.MAX_SCALE=_.MAX_AUTO_SCALE=_.DEFAULT_SCALE_VALUE=_.DEFAULT_SCALE_DELTA=_.DEFAULT_SCALE=_.AutoPrintRegExp=void 0,_.apiPageLayoutToViewerModes=function _e(ee){let P=D.VERTICAL,z=H.NONE;switch(ee){case"SinglePage":P=D.PAGE;break;case"OneColumn":break;case"TwoPageLeft":P=D.PAGE;case"TwoColumnLeft":z=H.ODD;break;case"TwoPageRight":P=D.PAGE;case"TwoColumnRight":z=H.EVEN}return{scrollMode:P,spreadMode:z}},_.apiPageModeToSidebarView=function Ee(ee){switch(ee){case"UseNone":return h.NONE;case"UseThumbs":return h.THUMBS;case"UseOutlines":return h.OUTLINE;case"UseAttachments":return h.ATTACHMENTS;case"UseOC":return h.LAYERS}return h.NONE},_.approximateFraction=function u(ee){if(Math.floor(ee)===ee)return[ee,1];const P=1/ee;if(P>8)return[1,8];if(Math.floor(P)===P)return[1,P];const Z=ee>1?P:ee;let ue,se=0,re=1,le=1,ce=1;for(;;){const Ae=se+le,we=re+ce;if(we>8)break;Z<=Ae/we?(le=Ae,ce=we):(se=Ae,re=we)}return ue=Z-se/re<le/ce-Z?Z===ee?[se,re]:[re,se]:Z===ee?[le,ce]:[ce,le],ue},_.backtrackBeforeAllVisibleElements=f,_.binarySearchFirstItem=l,_.getActiveOrFocusedElement=function fe(){let ee=document,P=ee.activeElement||ee.querySelector(":focus");for(;P?.shadowRoot;)ee=P.shadowRoot,P=ee.activeElement||ee.querySelector(":focus");return P},_.getPageSizeInches=function b({view:ee,userUnit:P,rotate:z}){const[Z,se,re,le]=ee,ce=z%180!=0,ue=(re-Z)/72*P,Ae=(le-se)/72*P;return{width:ce?Ae:ue,height:ce?ue:Ae}},_.getVisibleElements=function j({scrollEl:ee,views:P,sortByVisibility:z=!1,horizontal:Z=!1,rtl:se=!1}){const re=ee.scrollTop,le=re+ee.clientHeight,ce=ee.scrollLeft,ue=ce+ee.clientWidth;const ne=[],J=new Set,te=P.length;let pe=l(P,Z?function we(Se){const Pe=Se.div,Ce=Pe.offsetLeft+Pe.clientLeft;return se?Ce<ue:Ce+Pe.clientWidth>ce}:function Ae(Se){const Pe=Se.div;return Pe.offsetTop+Pe.clientTop+Pe.clientHeight>re});pe>0&&pe<te&&!Z&&(pe=f(pe,P,re));let ge=Z?ue:-1;for(let Se=pe;Se<te;Se++){const Pe=P[Se],Ce=Pe.div,xe=Ce.offsetLeft+Ce.clientLeft,Le=Ce.offsetTop+Ce.clientTop,ke=Ce.clientWidth,Fe=Ce.clientHeight,Te=xe+ke,Re=Le+Fe;if(-1===ge)Re>=le&&(ge=Re);else if((Z?xe:Le)>ge)break;if(Re<=re||Le>=le||Te<=ce||xe>=ue)continue;const Ie=Math.max(0,re-Le)+Math.max(0,Re-le),Oe=(ke-(Math.max(0,ce-xe)+Math.max(0,Te-ue)))/ke;ne.push({id:Pe.id,x:xe,y:Le,view:Pe,percent:(Fe-Ie)/Fe*Oe*100|0,widthPercent:100*Oe|0}),J.add(Pe.id)}const ve=ne[0],me=ne[ne.length-1];return z&&ne.sort(function(Se,Pe){const Ce=Se.percent-Pe.percent;return Math.abs(Ce)>.001?-Ce:Se.id-Pe.id}),{first:ve,last:me,views:ne,ids:J}},_.isPortraitOrientation=function de(ee){return ee.width<=ee.height},_.isValidRotation=function ie(ee){return Number.isInteger(ee)&&ee%90==0},_.isValidScrollMode=function oe(ee){return Number.isInteger(ee)&&Object.values(D).includes(ee)&&ee!==D.UNKNOWN},_.isValidSpreadMode=function he(ee){return Number.isInteger(ee)&&Object.values(H).includes(ee)&&ee!==H.UNKNOWN},_.noContextMenuHandler=function Y(ee){ee.preventDefault()},_.normalizeWheelEventDelta=function Q(ee){let P=X(ee);return 0===ee.deltaMode?P/=900:1===ee.deltaMode&&(P/=30),P},_.normalizeWheelEventDirection=X,_.parseQueryString=function r(ee){const P=new Map;for(const[z,Z]of new URLSearchParams(ee))P.set(z.toLowerCase(),Z);return P},_.removeNullCharacters=function e(ee,P=!1){return"string"!=typeof ee?(console.error("The argument must be a string."),ee):(P&&(ee=ee.replace(o," ")),ee.replace(s,""))},_.roundToDivide=function x(ee,P){const z=ee%P;return 0===z?ee:Math.round(ee-z+P)},_.scrollIntoView=function y(ee,P,z=!1){let Z=ee.offsetParent;if(!Z)return void console.error("offsetParent is not set -- cannot scroll");let se=ee.offsetTop+ee.clientTop,re=ee.offsetLeft+ee.clientLeft;for(;Z.clientHeight===Z.scrollHeight&&Z.clientWidth===Z.scrollWidth||z&&(Z.classList.contains("markedContent")||"hidden"===getComputedStyle(Z).overflow);)if(se+=Z.offsetTop,re+=Z.offsetLeft,Z=Z.offsetParent,!Z)return;P&&(void 0!==P.top&&(se+=P.top),void 0!==P.left&&(re+=P.left,Z.scrollLeft=re)),Z.scrollTop=se},_.watchScroll=function a(ee,P){const z=function(re){se||(se=window.requestAnimationFrame(function(){se=null;const ce=ee.scrollLeft,ue=Z.lastX;ce!==ue&&(Z.right=ce>ue),Z.lastX=ce;const Ae=ee.scrollTop,we=Z.lastY;Ae!==we&&(Z.down=Ae>we),Z.lastY=Ae,P(Z)}))},Z={right:!0,down:!0,lastX:ee.scrollLeft,lastY:ee.scrollTop,_eventHandler:z};let se=null;return ee.addEventListener("scroll",z,!0),Z},_.DEFAULT_SCALE_VALUE="auto",_.DEFAULT_SCALE=1,_.DEFAULT_SCALE_DELTA=1.1,_.MIN_SCALE=.1,_.MAX_SCALE=10,_.UNKNOWN_SCALE=0,_.MAX_AUTO_SCALE=1.25,_.SCROLLBAR_PADDING=40,_.VERTICAL_PADDING=5;_.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},_.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const h={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};_.SidebarView=h,_.RendererType={CANVAS:"canvas",SVG:"svg"},_.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const D={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};_.ScrollMode=D;const H={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};_.SpreadMode=H,_.AutoPrintRegExp=/\bprint\s*\(/;_.OutputScale=class K{constructor(){const P=window.devicePixelRatio||1;this.sx=P,this.sy=P}get scaled(){return 1!==this.sx||1!==this.sy}};const s=/\x00/g,o=/[\x01-\x1F]/g;function l(ee,P,z=0){let Z=z,se=ee.length-1;if(se<0||!P(ee[se]))return ee.length;if(P(ee[Z]))return Z;for(;Z<se;){const re=Z+se>>1;P(ee[re])?se=re:Z=re+1}return Z}function f(ee,P,z){if(ee<2)return ee;let Z=P[ee].div,se=Z.offsetTop+Z.clientTop;se>=z&&(Z=P[ee-1].div,se=Z.offsetTop+Z.clientTop);for(let re=ee-2;re>=0&&(Z=P[re].div,!(Z.offsetTop+Z.clientTop+Z.clientHeight<=se));--re)ee=re;return ee}function X(ee){let P=Math.hypot(ee.deltaX,ee.deltaY);const z=Math.atan2(ee.deltaY,ee.deltaX);return-.25*Math.PI<z&&z<.75*Math.PI&&(P=-P),P}const ae=new Promise(function(ee){window.requestAnimationFrame(ee)});_.animationStarted=ae;_.ProgressBar=class ye{constructor(P,{height:z,width:Z,units:se}={}){this.visible=!0,this.div=document.querySelector(P+" .progress"),this.bar=this.div.parentNode,this.height=z||100,this.width=Z||100,this.units=se||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(P){this._indeterminate=isNaN(P),this._percent=function be(ee,P,z){return Math.min(Math.max(ee,P),z)}(P,0,100),this._updateBar()}setWidth(P){if(!P)return;const Z=P.parentNode.offsetWidth-P.offsetWidth;Z>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${Z}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(N,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.StructTreeLayerBuilder=void 0;const m={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},T=/^H(\d+)$/;_.StructTreeLayerBuilder=class M{constructor({pdfPage:S}){this.pdfPage=S}render(S){return this._walk(S)}_setAttributes(S,n){void 0!==S.alt&&n.setAttribute("aria-label",S.alt),void 0!==S.id&&n.setAttribute("aria-owns",S.id),void 0!==S.lang&&n.setAttribute("lang",S.lang)}_walk(S){if(!S)return null;const n=document.createElement("span");if("role"in S){const{role:t}=S,p=t.match(T);p?(n.setAttribute("role","heading"),n.setAttribute("aria-level",p[1])):m[t]&&n.setAttribute("role",m[t])}if(this._setAttributes(S,n),S.children)if(1===S.children.length&&"id"in S.children[0])this._setAttributes(S.children[0],n);else for(const t of S.children)n.appendChild(this._walk(t));return n}}},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextLayerBuilder=void 0;var T=m(3);_.TextLayerBuilder=class A{constructor({textLayerDiv:n,eventBus:t,pageIndex:p,viewport:w,highlighter:d=null,enhanceTextSelection:v=!1}){this.textLayerDiv=n,this.eventBus=t,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=p+1,this.viewport=w,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=d,this.enhanceTextSelection=v,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const n=document.createElement("div");n.className="endOfContent",this.textLayerDiv.appendChild(n)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(n=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const t=document.createDocumentFragment();this.textLayerRenderTask=(0,T.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:t,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(t),this._finishRendering(),this.highlighter?.enable()},function(p){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(n){this.cancel(),this.textContentStream=n}setTextContent(n){this.cancel(),this.textContent=n}_bindMouse(){const n=this.textLayerDiv;let t=null;n.addEventListener("mousedown",p=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(t&&(clearTimeout(t),t=null));const w=n.querySelector(".endOfContent");if(!w)return;let d=p.target!==n;if(d=d&&"none"!==window.getComputedStyle(w).getPropertyValue("-moz-user-select"),d){const v=n.getBoundingClientRect(),g=Math.max(0,(p.pageY-v.top)/v.height);w.style.top=(100*g).toFixed(2)+"%"}w.classList.add("active")}),n.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(t=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),t=null},300));const p=n.querySelector(".endOfContent");!p||(p.style.top="",p.classList.remove("active"))})}}},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaLayerBuilder=void 0;var T=m(3);_.XfaLayerBuilder=class M{constructor({pageDiv:S,pdfPage:n,annotationStorage:t=null,linkService:p,xfaHtml:w=null}){this.pageDiv=S,this.pdfPage=n,this.annotationStorage=t,this.linkService=p,this.xfaHtml=w,this.div=null,this._cancelled=!1}render(S,n="display"){if("print"===n){const t={viewport:S.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},p=document.createElement("div");this.pageDiv.appendChild(p),t.div=p;const w=T.XfaLayer.render(t);return Promise.resolve(w)}return this.pdfPage.getXfa().then(t=>{if(this._cancelled||!t)return{textDivs:[]};const p={viewport:S.clone({dontFlip:!0}),div:this.div,xfaHtml:t,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n};return this.div?T.XfaLayer.update(p):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),p.div=this.div,T.XfaLayer.render(p))}).catch(t=>{console.error(t)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFViewer=_.PDFSinglePageViewer=void 0;var T=m(6),M=m(11);_.PDFViewer=class A extends M.BaseViewer{};_.PDFSinglePageViewer=class S extends M.BaseViewer{_resetView(){super._resetView(),this._scrollMode=T.ScrollMode.PAGE,this._spreadMode=T.SpreadMode.NONE}set scrollMode(t){}_updateScrollMode(){}set spreadMode(t){}_updateSpreadMode(){}}},(N,_,m)=>{let T;Object.defineProperty(_,"__esModule",{value:!0}),_.PagesCountLimit=_.PDFPageViewBuffer=_.BaseViewer=void 0;var M=m(3),A=m(6),S=m(2),n=m(4),t=m(12),p=m(14),w=m(5),d=m(7),v=m(15),g=m(8),h=m(9);const F="enablePermissions",D={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};_.PagesCountLimit=D;var H=new WeakMap,G=new WeakMap,K=new WeakSet;T=Symbol.iterator;class y{constructor(P){I(this,K),E(this,H,{writable:!0,value:new Set}),E(this,G,{writable:!0,value:0}),i(this,G,P)}push(P){const z=R(this,H);z.has(P)&&z.delete(P),z.add(P),z.size>R(this,G)&&U(this,K,a).call(this)}resize(P,z=null){i(this,G,P);const Z=R(this,H);if(z){const se=Z.size;let re=1;for(const le of Z)if(z.has(le.id)&&(Z.delete(le),Z.add(le)),++re>se)break}for(;Z.size>R(this,G);)U(this,K,a).call(this)}has(P){return R(this,H).has(P)}[T](){return R(this,H).keys()}}function a(){const ee=R(this,H).keys().next().value;ee?.destroy(),R(this,H).delete(ee)}_.PDFPageViewBuffer=y;var r=new WeakMap,s=new WeakMap,o=new WeakMap,e=new WeakMap,l=new WeakMap,u=new WeakMap,x=new WeakMap,b=new WeakSet,f=new WeakSet,j=new WeakSet,Y=new WeakSet,X=new WeakSet,Q=new WeakSet,ie=new WeakSet;class oe{constructor(P){if(I(this,ie),I(this,Q),I(this,X),I(this,Y),I(this,j),I(this,f),I(this,b),E(this,r,{writable:!0,value:null}),E(this,s,{writable:!0,value:M.AnnotationMode.ENABLE_FORMS}),E(this,o,{writable:!0,value:null}),E(this,e,{writable:!0,value:!1}),E(this,l,{writable:!0,value:0}),E(this,u,{writable:!0,value:null}),E(this,x,{writable:!0,value:null}),this.constructor===oe)throw new Error("Cannot initialize BaseViewer.");const z="2.13.216";if(M.version!==z)throw new Error(`The API version "${M.version}" does not match the Viewer version "${z}".`);if(this.container=P.container,this.viewer=P.viewer||P.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=P.eventBus,this.linkService=P.linkService||new w.SimpleLinkService,this.downloadManager=P.downloadManager||null,this.findController=P.findController||null,this._scriptingManager=P.scriptingManager||null,this.removePageBorders=P.removePageBorders||!1,this.textLayerMode=P.textLayerMode??A.TextLayerMode.ENABLE,i(this,s,P.annotationMode??M.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=P.imageResourcesPath||"",this.enablePrintAutoRotate=P.enablePrintAutoRotate||!1,this.renderer=P.renderer||A.RendererType.CANVAS,this.useOnlyCssZoom=P.useOnlyCssZoom||!1,this.maxCanvasPixels=P.maxCanvasPixels,this.l10n=P.l10n||n.NullL10n,i(this,e,P.enablePermissions||!1),this.defaultRenderingQueue=!P.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new p.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=P.renderingQueue,this._doc=document.documentElement,this.scroll=(0,A.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=A.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(P){return this._pages[P]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(P){return P?.pdfPage})}get renderForms(){return R(this,s)===M.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(P){if(!Number.isInteger(P))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(P,!0)||console.error(`currentPageNumber: "${P}" is not a valid page.`)}_setCurrentPageNumber(P,z=!1){if(this._currentPageNumber===P)return z&&this._resetCurrentPageView(),!0;if(!(0<P&&P<=this.pagesCount))return!1;const Z=this._currentPageNumber;return this._currentPageNumber=P,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:P,pageLabel:this._pageLabels?.[P-1]??null,previous:Z}),z&&this._resetCurrentPageView(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(P){if(!this.pdfDocument)return;let z=0|P;if(this._pageLabels){const Z=this._pageLabels.indexOf(P);Z>=0&&(z=Z+1)}this._setCurrentPageNumber(z,!0)||console.error(`currentPageLabel: "${P}" is not a valid page.`)}get currentScale(){return this._currentScale!==A.UNKNOWN_SCALE?this._currentScale:A.DEFAULT_SCALE}set currentScale(P){if(isNaN(P))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(P,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(P){!this.pdfDocument||this._setScale(P,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(P){if(!(0,A.isValidRotation)(P))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((P%=360)<0&&(P+=360),this._pagesRotation===P))return;this._pagesRotation=P;const z=this._currentPageNumber,Z={rotation:P};for(const se of this._pages)se.update(Z);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:P,pageNumber:z}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(P){var z=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=P,!P)return;const Z=P.isPureXfa,se=P.numPages,re=P.getPage(1),le=P.getOptionalContentConfig(),ce=R(this,e)?P.getPermissions():Promise.resolve();if(se>D.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ue=this._scrollMode=A.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ue})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:se})},()=>{}),this._onBeforeDraw=ue=>{const Ae=this._pages[ue.pageNumber-1];!Ae||R(this,r).push(Ae)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ue=>{ue.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ue.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,R(this,x)&&(document.removeEventListener("visibilitychange",R(this,x)),i(this,x,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([re,ce]).then(([ue,Ae])=>{if(P!==this.pdfDocument)return;this._firstPageCapability.resolve(ue),this._optionalContentConfigPromise=le,U(this,b,he).call(this,Ae);const we=this._scrollMode===A.ScrollMode.PAGE?null:this.viewer,ne=this.currentScale,J=ue.getViewport({scale:ne*M.PixelsPerInch.PDF_TO_CSS_UNITS}),te=this.textLayerMode===A.TextLayerMode.DISABLE||Z?null:this,pe=R(this,s)!==M.AnnotationMode.DISABLE?this:null,ge=Z?this:null;for(let me=1;me<=se;++me){const Se=new t.PDFPageView({container:we,eventBus:this.eventBus,id:me,scale:ne,defaultViewport:J.clone(),optionalContentConfigPromise:le,renderingQueue:this.renderingQueue,textLayerFactory:te,textLayerMode:this.textLayerMode,annotationLayerFactory:pe,annotationMode:R(this,s),xfaLayerFactory:ge,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(Se)}const ve=this._pages[0];ve&&(ve.setPdfPage(ue),this.linkService.cachePageRef(1,ue.ref)),this._scrollMode===A.ScrollMode.PAGE?U(this,j,ae).call(this):this._spreadMode!==A.SpreadMode.NONE&&this._updateSpreadMode(),U(this,f,de).call(this).then(C(function*(){if(z.findController&&z.findController.setDocument(P),z._scriptingManager&&z._scriptingManager.setDocument(P),P.loadingParams.disableAutoFetch||se>D.FORCE_LAZY_PAGE_INIT)return void z._pagesCapability.resolve();let me=se-1;if(me<=0)z._pagesCapability.resolve();else for(let Se=2;Se<=se;++Se){const Pe=P.getPage(Se).then(Ce=>{const xe=z._pages[Se-1];xe.pdfPage||xe.setPdfPage(Ce),z.linkService.cachePageRef(Se,Ce.ref),0==--me&&z._pagesCapability.resolve()},Ce=>{console.error(`Unable to get page ${Se} to initialize viewer`,Ce),0==--me&&z._pagesCapability.resolve()});Se%D.PAUSE_EAGER_PAGE_INIT==0&&(yield Pe)}})),this.eventBus.dispatch("pagesinit",{source:this}),P.getMetadata().then(({info:me})=>{P===this.pdfDocument&&me.Language&&(this.viewer.lang=me.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ue=>{console.error("Unable to initialize viewer",ue),this._pagesCapability.reject(ue)})}setPageLabels(P){if(this.pdfDocument){P?Array.isArray(P)&&this.pdfDocument.numPages===P.length?this._pageLabels=P:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let z=0,Z=this._pages.length;z<Z;z++)this._pages[z].setPageLabel(this._pageLabels?.[z]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=A.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,i(this,r,new y(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,M.createPromiseCapability)(),this._onePageRenderedCapability=(0,M.createPromiseCapability)(),this._pagesCapability=(0,M.createPromiseCapability)(),this._scrollMode=A.ScrollMode.VERTICAL,this._previousScrollMode=A.ScrollMode.UNKNOWN,this._spreadMode=A.SpreadMode.NONE,i(this,u,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),R(this,x)&&(document.removeEventListener("visibilitychange",R(this,x)),i(this,x,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(F),null!==R(this,o)&&(i(this,s,R(this,o)),i(this,o,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:P,pageSpot:z=null,pageNumber:Z=null}){if(this._scrollMode===A.ScrollMode.PAGE&&(Z&&this._setCurrentPageNumber(Z),U(this,j,ae).call(this),this.update()),!z&&!this.isInPresentationMode){const se=P.offsetLeft+P.clientLeft,re=se+P.clientWidth,{scrollLeft:le,clientWidth:ce}=this.container;(this._scrollMode===A.ScrollMode.HORIZONTAL||se<le||re>le+ce)&&(z={left:0,top:0})}(0,A.scrollIntoView)(P,z)}_setScaleUpdatePages(P,z,Z=!1,se=!1){if(this._currentScaleValue=z.toString(),U(this,Y,be).call(this,P))return void(se&&this.eventBus.dispatch("scalechanging",{source:this,scale:P,presetValue:z}));this._doc.style.setProperty("--zoom-factor",P),this._doc.style.setProperty("--viewport-scale-factor",P*M.PixelsPerInch.PDF_TO_CSS_UNITS);const re={scale:P};for(const le of this._pages)le.update(re);if(this._currentScale=P,!Z){let ce,le=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(le=this._location.pageNumber,ce=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:le,destArray:ce,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:P,presetValue:se?z:void 0}),this.defaultRenderingQueue&&this.update(),i(this,l,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL?2:1}_setScale(P,z=!1){let Z=parseFloat(P);if(Z>0)this._setScaleUpdatePages(Z,P,z,!1);else{const se=this._pages[this._currentPageNumber-1];if(!se)return;let re=A.SCROLLBAR_PADDING,le=A.VERTICAL_PADDING;this.isInPresentationMode?re=le=4:this.removePageBorders&&(re=le=0),this._scrollMode===A.ScrollMode.HORIZONTAL&&([re,le]=[le,re]);const ce=(this.container.clientWidth-re)/se.width*se.scale/this._pageWidthScaleFactor,ue=(this.container.clientHeight-le)/se.height*se.scale;switch(P){case"page-actual":Z=1;break;case"page-width":Z=ce;break;case"page-height":Z=ue;break;case"page-fit":Z=Math.min(ce,ue);break;case"auto":const Ae=(0,A.isPortraitOrientation)(se)?ce:Math.min(ue,ce);Z=Math.min(A.MAX_AUTO_SCALE,Ae);break;default:return void console.error(`_setScale: "${P}" is an unknown zoom value.`)}this._setScaleUpdatePages(Z,P,z,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(P){if(!this._pageLabels)return null;const z=this._pageLabels.indexOf(P);return z<0?null:z+1}scrollPageIntoView({pageNumber:P,destArray:z=null,allowNegativeOffset:Z=!1,ignoreDestinationZoom:se=!1}){if(!this.pdfDocument)return;const re=Number.isInteger(P)&&this._pages[P-1];if(!re)return void console.error(`scrollPageIntoView: "${P}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!z)return void this._setCurrentPageNumber(P,!0);let we,ne,le=0,ce=0,ue=0,Ae=0;const J=re.rotation%180!=0,te=(J?re.height:re.width)/re.scale/M.PixelsPerInch.PDF_TO_CSS_UNITS,pe=(J?re.width:re.height)/re.scale/M.PixelsPerInch.PDF_TO_CSS_UNITS;let ge=0;switch(z[1].name){case"XYZ":le=z[2],ce=z[3],ge=z[4],le=null!==le?le:0,ce=null!==ce?ce:pe;break;case"Fit":case"FitB":ge="page-fit";break;case"FitH":case"FitBH":ce=z[2],ge="page-width",null===ce&&this._location?(le=this._location.left,ce=this._location.top):("number"!=typeof ce||ce<0)&&(ce=pe);break;case"FitV":case"FitBV":le=z[2],ue=te,Ae=pe,ge="page-height";break;case"FitR":le=z[2],ce=z[3],ue=z[4]-le,Ae=z[5]-ce,we=(this.container.clientWidth-(this.removePageBorders?0:A.SCROLLBAR_PADDING))/ue/M.PixelsPerInch.PDF_TO_CSS_UNITS,ne=(this.container.clientHeight-(this.removePageBorders?0:A.VERTICAL_PADDING))/Ae/M.PixelsPerInch.PDF_TO_CSS_UNITS,ge=Math.min(Math.abs(we),Math.abs(ne));break;default:return void console.error(`scrollPageIntoView: "${z[1].name}" is not a valid destination type.`)}if(se||(ge&&ge!==this._currentScale?this.currentScaleValue=ge:this._currentScale===A.UNKNOWN_SCALE&&(this.currentScaleValue=A.DEFAULT_SCALE_VALUE)),"page-fit"===ge&&!z[4])return void this._scrollIntoView({pageDiv:re.div,pageNumber:P});const ve=[re.viewport.convertToViewportPoint(le,ce),re.viewport.convertToViewportPoint(le+ue,ce+Ae)];let me=Math.min(ve[0][0],ve[1][0]),Se=Math.min(ve[0][1],ve[1][1]);Z||(me=Math.max(me,0),Se=Math.max(Se,0)),this._scrollIntoView({pageDiv:re.div,pageSpot:{left:me,top:Se},pageNumber:P})}_updateLocation(P){const z=this._currentScale,Z=this._currentScaleValue,se=parseFloat(Z)===z?Math.round(1e4*z)/100:Z,re=P.id;let le="#page="+re;le+="&zoom="+se;const ue=this.container,Ae=this._pages[re-1].getPagePoint(ue.scrollLeft-P.x,ue.scrollTop-P.y),we=Math.round(Ae[0]),ne=Math.round(Ae[1]);le+=","+we+","+ne,this._location={pageNumber:re,scale:se,top:ne,left:we,rotation:this._pagesRotation,pdfOpenParams:le}}update(){const P=this._getVisiblePages(),z=P.views,Z=z.length;if(0===Z)return;const se=Math.max(10,2*Z+1);if(R(this,r).resize(se,P.ids),this.renderingQueue.renderHighestPriority(P),!this.isInPresentationMode){const re=this._spreadMode===A.SpreadMode.NONE&&(this._scrollMode===A.ScrollMode.PAGE||this._scrollMode===A.ScrollMode.VERTICAL);let le=this._currentPageNumber,ce=!1;for(const ue of z){if(ue.percent<100)break;if(ue.id===le&&re){ce=!0;break}}ce||(le=z[0].id),this._setCurrentPageNumber(le)}this._updateLocation(P.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(P){return this.container.contains(P)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===A.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===A.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const P=this._pages[this._currentPageNumber-1],z=P.div,Z={id:P.id,x:z.offsetLeft+z.clientLeft,y:z.offsetTop+z.clientTop,view:P};return{first:Z,last:Z,views:[Z],ids:new Set([P.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const P=this._scrollMode===A.ScrollMode.PAGE?R(this,u).pages:this._pages,z=this._scrollMode===A.ScrollMode.HORIZONTAL;return(0,A.getVisibleElements)({scrollEl:this.container,views:P,sortByVisibility:!0,horizontal:z,rtl:z&&this._isContainerRtl})}isPageVisible(P){return!!this.pdfDocument&&(Number.isInteger(P)&&P>0&&P<=this.pagesCount?this._getVisiblePages().ids.has(P):(console.error(`isPageVisible: "${P}" is not a valid page.`),!1))}isPageCached(P){if(!this.pdfDocument)return!1;if(!(Number.isInteger(P)&&P>0&&P<=this.pagesCount))return console.error(`isPageCached: "${P}" is not a valid page.`),!1;const z=this._pages[P-1];return R(this,r).has(z)}cleanup(){for(let P=0,z=this._pages.length;P<z;P++)this._pages[P]&&this._pages[P].renderingState!==A.RenderingStates.FINISHED&&this._pages[P].reset()}_cancelRendering(){for(let P=0,z=this._pages.length;P<z;P++)this._pages[P]&&this._pages[P].cancelRendering()}forceRendering(P){const z=P||this._getVisiblePages(),Z=U(this,Q,_e).call(this,z),re=this.renderingQueue.getHighestPriority(z,this._pages,Z,this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL);return U(this,ie,Ee).call(this,z.ids),!!re&&(U(this,X,ye).call(this,re).then(()=>{this.renderingQueue.renderView(re)}),!0)}createTextLayerBuilder(P,z,Z,se=!1,re,le){return new g.TextLayerBuilder({textLayerDiv:P,eventBus:re,pageIndex:z,viewport:Z,enhanceTextSelection:!this.isInPresentationMode&&se,highlighter:le})}createTextHighlighter(P,z){return new v.TextHighlighter({eventBus:z,pageIndex:P,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(P,z,Z=null,se="",re=!0,le=n.NullL10n,ce=null,ue=null,Ae=null,we=null,ne=null){return new S.AnnotationLayerBuilder({pageDiv:P,pdfPage:z,annotationStorage:Z||this.pdfDocument?.annotationStorage,imageResourcesPath:se,renderForms:re,linkService:this.linkService,downloadManager:this.downloadManager,l10n:le,enableScripting:ce??this.enableScripting,hasJSActionsPromise:ue||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:we||this.pdfDocument?.getFieldObjects(),mouseState:Ae||this._scriptingManager?.mouseState,annotationCanvasMap:ne})}createXfaLayerBuilder(P,z,Z=null){return new h.XfaLayerBuilder({pageDiv:P,pdfPage:z,annotationStorage:Z||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(P){return new d.StructTreeLayerBuilder({pdfPage:P})}get hasEqualPageSizes(){const P=this._pages[0];for(let z=1,Z=this._pages.length;z<Z;++z){const se=this._pages[z];if(se.width!==P.width||se.height!==P.height)return!1}return!0}getPagesOverview(){return this._pages.map(P=>{const z=P.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,A.isPortraitOrientation)(z)?{width:z.width,height:z.height,rotation:z.rotation}:{width:z.height,height:z.width,rotation:(z.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(P){if(!(P instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${P}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=P;const z={optionalContentConfigPromise:P};for(const Z of this._pages)Z.update(z);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:P})}get scrollMode(){return this._scrollMode}set scrollMode(P){if(this._scrollMode!==P){if(!(0,A.isValidScrollMode)(P))throw new Error(`Invalid scroll mode: ${P}`);this.pagesCount>D.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=P,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:P}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(P=null){const z=this._scrollMode,Z=this.viewer;Z.classList.toggle("scrollHorizontal",z===A.ScrollMode.HORIZONTAL),Z.classList.toggle("scrollWrapped",z===A.ScrollMode.WRAPPED),this.pdfDocument&&P&&(z===A.ScrollMode.PAGE?U(this,j,ae).call(this):this._previousScrollMode===A.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(P,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(P){if(this._spreadMode!==P){if(!(0,A.isValidSpreadMode)(P))throw new Error(`Invalid spread mode: ${P}`);this._spreadMode=P,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:P}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(P=null){if(!this.pdfDocument)return;const z=this.viewer,Z=this._pages;if(this._scrollMode===A.ScrollMode.PAGE)U(this,j,ae).call(this);else if(z.textContent="",this._spreadMode===A.SpreadMode.NONE)for(let se=0,re=Z.length;se<re;++se)z.appendChild(Z[se].div);else{const se=this._spreadMode-1;let re=null;for(let le=0,ce=Z.length;le<ce;++le)null===re?(re=document.createElement("div"),re.className="spread",z.appendChild(re)):le%2===se&&(re=re.cloneNode(!1),z.appendChild(re)),re.appendChild(Z[le].div)}!P||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(P,!0),this.update())}_getPageAdvance(P,z=!1){switch(this._scrollMode){case A.ScrollMode.WRAPPED:{const{views:Z}=this._getVisiblePages(),se=new Map;for(const{id:re,y:le,percent:ce,widthPercent:ue}of Z){if(0===ce||ue<100)continue;let Ae=se.get(le);Ae||se.set(le,Ae||(Ae=[])),Ae.push(re)}for(const re of se.values()){const le=re.indexOf(P);if(-1===le)continue;const ce=re.length;if(1===ce)break;if(z)for(let ue=le-1,Ae=0;ue>=Ae;ue--){const ne=re[ue+1]-1;if(re[ue]<ne)return P-ne}else for(let ue=le+1,Ae=ce;ue<Ae;ue++){const ne=re[ue-1]+1;if(re[ue]>ne)return ne-P}if(z){const ue=re[0];if(ue<P)return P-ue+1}else{const ue=re[ce-1];if(ue>P)return ue-P+1}break}break}case A.ScrollMode.HORIZONTAL:break;case A.ScrollMode.PAGE:case A.ScrollMode.VERTICAL:{if(this._spreadMode===A.SpreadMode.NONE)break;const Z=this._spreadMode-1;if(z&&P%2!==Z)break;if(!z&&P%2===Z)break;const{views:se}=this._getVisiblePages(),re=z?P-1:P+1;for(const{id:le,percent:ce,widthPercent:ue}of se)if(le===re){if(ce>0&&100===ue)return 2;break}break}}return 1}nextPage(){const P=this._currentPageNumber,z=this.pagesCount;if(P>=z)return!1;const Z=this._getPageAdvance(P,!1)||1;return this.currentPageNumber=Math.min(P+Z,z),!0}previousPage(){const P=this._currentPageNumber;if(P<=1)return!1;const z=this._getPageAdvance(P,!0)||1;return this.currentPageNumber=Math.max(P-z,1),!0}increaseScale(P=1){let z=this._currentScale;do{z=(z*A.DEFAULT_SCALE_DELTA).toFixed(2),z=Math.ceil(10*z)/10,z=Math.min(A.MAX_SCALE,z)}while(--P>0&&z<A.MAX_SCALE);this.currentScaleValue=z}decreaseScale(P=1){let z=this._currentScale;do{z=(z/A.DEFAULT_SCALE_DELTA).toFixed(2),z=Math.floor(10*z)/10,z=Math.max(A.MIN_SCALE,z)}while(--P>0&&z>A.MIN_SCALE);this.currentScaleValue=z}}function he(ee){!ee||(ee.includes(M.PermissionFlag.COPY)||this.viewer.classList.add(F),!ee.includes(M.PermissionFlag.MODIFY_ANNOTATIONS)&&!ee.includes(M.PermissionFlag.FILL_INTERACTIVE_FORMS)&&R(this,s)===M.AnnotationMode.ENABLE_FORMS&&(i(this,o,R(this,s)),i(this,s,M.AnnotationMode.ENABLE)))}function de(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ee=new Promise(P=>{i(this,x,()=>{"hidden"===document.visibilityState&&(P(),document.removeEventListener("visibilitychange",R(this,x)),i(this,x,null))}),document.addEventListener("visibilitychange",R(this,x))});return Promise.race([this._onePageRenderedCapability.promise,ee])}function ae(){if(this._scrollMode!==A.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ee=this._currentPageNumber,P=R(this,u),z=this.viewer;if(z.textContent="",P.pages.length=0,this._spreadMode===A.SpreadMode.NONE){const Z=this._pages[ee-1];if(this.isInPresentationMode){const se=document.createElement("div");se.className="spread";const re=document.createElement("div");re.className="dummyPage",re.style.height=`${this.container.clientHeight}px`,se.appendChild(re),se.appendChild(Z.div),z.appendChild(se)}else z.appendChild(Z.div);P.pages.push(Z)}else{const Z=new Set,se=this._spreadMode-1;ee%2!==se?(Z.add(ee-1),Z.add(ee)):(Z.add(ee-2),Z.add(ee-1));let re=null;for(const le of Z){const ce=this._pages[le];!ce||(null===re?(re=document.createElement("div"),re.className="spread",z.appendChild(re)):le%2===se&&(re=re.cloneNode(!1),z.appendChild(re)),re.appendChild(ce.div),P.pages.push(ce))}}P.scrollDown=ee>=P.previousPageNumber,P.previousPageNumber=ee}function be(ee){return(!this.isInPresentationMode||this.container.clientHeight===R(this,l))&&(ee===this._currentScale||Math.abs(ee-this._currentScale)<1e-15)}function ye(ee){return fe.apply(this,arguments)}function fe(){return(fe=C(function*(ee){if(ee.pdfPage)return ee.pdfPage;try{const P=yield this.pdfDocument.getPage(ee.id);return ee.pdfPage||ee.setPdfPage(P),this.linkService._cachedPageNumber?.(P.ref)||this.linkService.cachePageRef(ee.id,P.ref),P}catch(P){return console.error("Unable to get page for page view",P),null}})).apply(this,arguments)}function _e(ee){if(1===ee.first?.id)return!0;if(ee.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case A.ScrollMode.PAGE:return R(this,u).scrollDown;case A.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Ee(ee){for(const P of ee)this._pages[P-1]?.toggleLoadingIconSpinner(!0);for(const P of R(this,r))ee.has(P.id)||P.toggleLoadingIconSpinner(!1)}_.BaseViewer=oe},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFPageView=void 0;var T=m(3),M=m(6),A=m(13),S=m(4);const n=A.compatibilityParams.maxCanvasPixels||16777216;var t=new WeakMap;_.PDFPageView=class p{constructor(d){E(this,t,{writable:!0,value:T.AnnotationMode.ENABLE_FORMS});const v=d.container,g=d.defaultViewport;this.id=d.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=d.scale||M.DEFAULT_SCALE,this.viewport=g,this.pdfPageRotate=g.rotation,this._optionalContentConfigPromise=d.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=d.textLayerMode??M.TextLayerMode.ENABLE,i(this,t,d.annotationMode??T.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=d.imageResourcesPath||"",this.useOnlyCssZoom=d.useOnlyCssZoom||!1,this.maxCanvasPixels=d.maxCanvasPixels||n,this.eventBus=d.eventBus,this.renderingQueue=d.renderingQueue,this.textLayerFactory=d.textLayerFactory,this.annotationLayerFactory=d.annotationLayerFactory,this.xfaLayerFactory=d.xfaLayerFactory,this.textHighlighter=d.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=d.structTreeLayerFactory,this.renderer=d.renderer||M.RendererType.CANVAS,this.l10n=d.l10n||S.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=M.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const h=document.createElement("div");h.className="page",h.style.width=Math.floor(this.viewport.width)+"px",h.style.height=Math.floor(this.viewport.height)+"px",h.setAttribute("data-page-number",this.id),h.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(L=>{h.setAttribute("aria-label",L)}),this.div=h,v?.appendChild(h)}setPdfPage(d){this.pdfPage=d,this.pdfPageRotate=d.rotate,this.viewport=d.getViewport({scale:this.scale*T.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var d=this;return C(function*(){let v=null;try{yield d.annotationLayer.render(d.viewport,"display")}catch(g){v=g}finally{d.eventBus.dispatch("annotationlayerrendered",{source:d,pageNumber:d.id,error:v})}})()}_renderXfaLayer(){var d=this;return C(function*(){let v=null;try{const g=yield d.xfaLayer.render(d.viewport,"display");d.textHighlighter&&d._buildXfaTextContentItems(g.textDivs)}catch(g){v=g}finally{d.eventBus.dispatch("xfalayerrendered",{source:d,pageNumber:d.id,error:v})}})()}_buildXfaTextContentItems(d){var v=this;return C(function*(){const g=yield v.pdfPage.getTextContent(),h=[];for(const L of g.items)h.push(L.str);v.textHighlighter.setTextMapping(d,h),v.textHighlighter.enable()})()}_resetZoomLayer(d=!1){if(!this.zoomLayer)return;const v=this.zoomLayer.firstChild;this.paintedViewportMap.delete(v),v.width=0,v.height=0,d&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:d=!1,keepAnnotationLayer:v=!1,keepXfaLayer:g=!1}={}){this.cancelRendering({keepAnnotationLayer:v,keepXfaLayer:g}),this.renderingState=M.RenderingStates.INITIAL;const h=this.div;h.style.width=Math.floor(this.viewport.width)+"px",h.style.height=Math.floor(this.viewport.height)+"px";const L=h.childNodes,F=d&&this.zoomLayer||null,D=v&&this.annotationLayer?.div||null,H=g&&this.xfaLayer?.div||null;for(let G=L.length-1;G>=0;G--){const K=L[G];switch(K){case F:case D:case H:continue}K.remove()}h.removeAttribute("data-loaded"),D&&this.annotationLayer.hide(),H&&this.xfaLayer.hide(),F||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(G=>{this.loadingIconDiv?.setAttribute("aria-label",G)}),h.appendChild(this.loadingIconDiv)}update({scale:d=0,rotation:v=null,optionalContentConfigPromise:g=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=d||this.scale,"number"==typeof v&&(this.rotation=v),g instanceof Promise&&(this._optionalContentConfigPromise=g);const L=this.scale*T.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:L,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:D}=document.documentElement;D.setProperty("--zoom-factor",this.scale),D.setProperty("--viewport-scale-factor",L)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let F=!1;if(this.canvas&&this.maxCanvasPixels>0){const D=this.outputScale;(Math.floor(this.viewport.width)*D.sx|0)*(Math.floor(this.viewport.height)*D.sy|0)>this.maxCanvasPixels&&(F=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&F)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:d=!1,keepXfaLayer:v=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!d||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!v||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:d,redrawAnnotationLayer:v=!1,redrawXfaLayer:g=!1}){const h=this.viewport.width,L=this.viewport.height,F=this.div;d.style.width=d.parentNode.style.width=F.style.width=Math.floor(h)+"px",d.style.height=d.parentNode.style.height=F.style.height=Math.floor(L)+"px";const D=this.viewport.rotation-this.paintedViewportMap.get(d).rotation,H=Math.abs(D);let G=1,K=1;if((90===H||270===H)&&(G=L/h,K=h/L),d.style.transform=`rotate(${D}deg) scale(${G}, ${K})`,this.textLayer){const y=this.textLayer.viewport,r=Math.abs(this.viewport.rotation-y.rotation);let s=h/y.width;(90===r||270===r)&&(s=h/y.height);const o=this.textLayer.textLayerDiv;let e,l;switch(r){case 0:e=l=0;break;case 90:e=0,l="-"+o.style.height;break;case 180:e="-"+o.style.width,l="-"+o.style.height;break;case 270:e="-"+o.style.width,l=0;break;default:console.error("Bad rotation value.")}o.style.transform=`rotate(${r}deg) scale(${s}) translate(${e}, ${l})`,o.style.transformOrigin="0% 0%"}v&&this.annotationLayer&&this._renderAnnotationLayer(),g&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(d,v){return this.viewport.convertToPdfPoint(d,v)}toggleLoadingIconSpinner(d=!1){this.loadingIconDiv?.classList.toggle("notVisible",!d)}draw(){var d=this;this.renderingState!==M.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:v,pdfPage:g}=this;if(!g)return this.renderingState=M.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=M.RenderingStates.RUNNING;const h=document.createElement("div");h.style.width=v.style.width,h.style.height=v.style.height,h.classList.add("canvasWrapper"),this.annotationLayer?.div?v.insertBefore(h,this.annotationLayer.div):v.appendChild(h);let L=null;if(this.textLayerMode!==M.TextLayerMode.DISABLE&&this.textLayerFactory){const K=document.createElement("div");K.className="textLayer",K.style.width=h.style.width,K.style.height=h.style.height,this.annotationLayer?.div?v.insertBefore(K,this.annotationLayer.div):v.appendChild(K),L=this.textLayerFactory.createTextLayerBuilder(K,this.id-1,this.viewport,this.textLayerMode===M.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=L,R(this,t)!==T.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(v,g,null,this.imageResourcesPath,R(this,t)===T.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&v.appendChild(this.xfaLayer.div);let F=null;this.renderingQueue&&(F=K=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=M.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=M.RenderingStates.RUNNING,K()});K()});const D=function(){var K=C(function*(y=null){if(H===d.paintTask&&(d.paintTask=null),y instanceof T.RenderingCancelledException)d._renderError=null;else if(d._renderError=y,d.renderingState=M.RenderingStates.FINISHED,d.loadingIconDiv&&(d.loadingIconDiv.remove(),delete d.loadingIconDiv),d._resetZoomLayer(!0),d.eventBus.dispatch("pagerendered",{source:d,pageNumber:d.id,cssTransform:!1,timestamp:performance.now(),error:d._renderError}),y)throw y});return function(){return K.apply(this,arguments)}}(),H=this.renderer===M.RendererType.SVG?this.paintOnSvg(h):this.paintOnCanvas(h);H.onRenderContinue=F,this.paintTask=H;const G=H.promise.then(()=>D(null).then(()=>{if(L){const K=g.streamTextContent({includeMarkedContent:!0});L.setTextContentStream(K),L.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(K){return D(K)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(v,g,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=K=>{K.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(y=>{if(!y||!this.canvas)return;const a=this.structTreeLayer.render(y);a.classList.add("structTree"),this.canvas.appendChild(a)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(g)),v.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),G}paintOnCanvas(d){const v=(0,T.createPromiseCapability)(),g={promise:v.promise,onRenderContinue(o){o()},cancel(){s.cancel()}},h=this.viewport,L=document.createElement("canvas");L.hidden=!0;let F=!0;const D=function(){F&&(L.hidden=!1,F=!1)};d.appendChild(L),this.canvas=L,L.mozOpaque=!0;const H=L.getContext("2d",{alpha:!1}),G=this.outputScale=new M.OutputScale;if(this.useOnlyCssZoom){const o=h.clone({scale:T.PixelsPerInch.PDF_TO_CSS_UNITS});G.sx*=o.width/h.width,G.sy*=o.height/h.height}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(h.width*h.height));G.sx>e||G.sy>e?(G.sx=e,G.sy=e,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const K=(0,M.approximateFraction)(G.sx),y=(0,M.approximateFraction)(G.sy);L.width=(0,M.roundToDivide)(h.width*G.sx,K[0]),L.height=(0,M.roundToDivide)(h.height*G.sy,y[0]),L.style.width=(0,M.roundToDivide)(h.width,K[1])+"px",L.style.height=(0,M.roundToDivide)(h.height,y[1])+"px",this.paintedViewportMap.set(L,h);const r={canvasContext:H,transform:G.scaled?[G.sx,0,0,G.sy,0,0]:null,viewport:this.viewport,annotationMode:R(this,t),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},s=this.pdfPage.render(r);return s.onContinue=function(o){D(),g.onRenderContinue?g.onRenderContinue(o):o()},s.promise.then(function(){D(),v.resolve()},function(o){D(),v.reject(o)}),g}paintOnSvg(d){let v=!1;const g=()=>{if(v)throw new T.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},h=this.pdfPage,L=this.viewport.clone({scale:T.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:h.getOperatorList({annotationMode:R(this,t)}).then(D=>(g(),new T.SVGGraphics(h.commonObjs,h.objs).getSVG(D,L).then(G=>{g(),this.svg=G,this.paintedViewportMap.set(G,L),G.style.width=d.style.width,G.style.height=d.style.height,this.renderingState=M.RenderingStates.FINISHED,d.appendChild(G)}))),onRenderContinue(D){D()},cancel(){v=!0}}}setPageLabel(d){this.pageLabel="string"==typeof d?d:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(N,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.compatibilityParams=_.OptionKind=_.AppOptions=void 0;const m=Object.create(null);_.compatibilityParams=m;{const n=navigator.userAgent||"",t=navigator.platform||"",p=navigator.maxTouchPoints||1,w=/Android/.test(n);(/\b(iPad|iPhone|iPod)(?=;)/.test(n)||"MacIntel"===t&&p>1||w)&&(m.maxCanvasPixels=5242880)}const T={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};_.OptionKind=T;const M={annotationMode:{value:2,kind:T.VIEWER+T.PREFERENCE},cursorToolOnLoad:{value:0,kind:T.VIEWER+T.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:T.VIEWER},defaultZoomValue:{value:"",kind:T.VIEWER+T.PREFERENCE},disableHistory:{value:!1,kind:T.VIEWER},disablePageLabels:{value:!1,kind:T.VIEWER+T.PREFERENCE},enablePermissions:{value:!1,kind:T.VIEWER+T.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:T.VIEWER+T.PREFERENCE},enableScripting:{value:!0,kind:T.VIEWER+T.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:T.VIEWER},externalLinkTarget:{value:0,kind:T.VIEWER+T.PREFERENCE},historyUpdateUrl:{value:!1,kind:T.VIEWER+T.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:T.VIEWER+T.PREFERENCE},imageResourcesPath:{value:"./images/",kind:T.VIEWER},maxCanvasPixels:{value:16777216,compatibility:m.maxCanvasPixels,kind:T.VIEWER},pdfBugEnabled:{value:!1,kind:T.VIEWER+T.PREFERENCE},printResolution:{value:150,kind:T.VIEWER},renderer:{value:"canvas",kind:T.VIEWER},sidebarViewOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},scrollModeOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},spreadModeOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},textLayerMode:{value:1,kind:T.VIEWER+T.PREFERENCE},useOnlyCssZoom:{value:!1,kind:T.VIEWER+T.PREFERENCE},viewerCssTheme:{value:0,kind:T.VIEWER+T.PREFERENCE},viewOnLoad:{value:0,kind:T.VIEWER+T.PREFERENCE},cMapPacked:{value:!0,kind:T.API},cMapUrl:{value:"../web/cmaps/",kind:T.API},disableAutoFetch:{value:!1,kind:T.API+T.PREFERENCE},disableFontFace:{value:!1,kind:T.API+T.PREFERENCE},disableRange:{value:!1,kind:T.API+T.PREFERENCE},disableStream:{value:!1,kind:T.API+T.PREFERENCE},docBaseUrl:{value:"",kind:T.API},enableXfa:{value:!0,kind:T.API+T.PREFERENCE},fontExtraProperties:{value:!1,kind:T.API},isEvalSupported:{value:!0,kind:T.API},maxImageSize:{value:-1,kind:T.API},pdfBug:{value:!1,kind:T.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:T.API},verbosity:{value:1,kind:T.API},workerPort:{value:null,kind:T.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:T.WORKER}};M.disablePreferences={value:!1,kind:T.VIEWER},M.locale={value:navigator.language||"en-US",kind:T.VIEWER},M.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:T.VIEWER},M.renderer.kind+=T.PREFERENCE;const A=Object.create(null);_.AppOptions=class S{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(t){const p=A[t];if(void 0!==p)return p;const w=M[t];return void 0!==w?w.compatibility??w.value:void 0}static getAll(t=null){const p=Object.create(null);for(const w in M){const d=M[w];if(t){if(0==(t&d.kind))continue;if(t===T.PREFERENCE){const g=d.value,h=typeof g;if("boolean"===h||"string"===h||"number"===h&&Number.isInteger(g)){p[w]=g;continue}throw new Error(`Invalid type for preference: ${w}`)}}const v=A[w];p[w]=void 0!==v?v:d.compatibility??d.value}return p}static set(t,p){A[t]=p}static setAll(t){for(const p in t)A[p]=t[p]}static remove(t){delete A[t]}static _hasUserOptions(){return Object.keys(A).length>0}}},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFRenderingQueue=void 0;var T=m(3),M=m(6);_.PDFRenderingQueue=class S{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(t){this.pdfViewer=t}setThumbnailViewer(t){this.pdfThumbnailViewer=t}isHighestPriority(t){return this.highestPriorityPage===t.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(t)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(t,p,w,d=!1){const v=t.views,g=v.length;if(0===g)return null;for(let H=0;H<g;H++){const G=v[H].view;if(!this.isViewFinished(G))return G}const h=t.first.id,L=t.last.id;if(L-h+1>g){const H=t.ids;for(let G=1,K=L-h;G<K;G++){const y=w?h+G:L-G;if(H.has(y))continue;const a=p[y-1];if(!this.isViewFinished(a))return a}}let F=w?L:h-2,D=p[F];return D&&!this.isViewFinished(D)||d&&(F+=w?1:-1,D=p[F],D&&!this.isViewFinished(D))?D:null}isViewFinished(t){return t.renderingState===M.RenderingStates.FINISHED}renderView(t){switch(t.renderingState){case M.RenderingStates.FINISHED:return!1;case M.RenderingStates.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case M.RenderingStates.RUNNING:this.highestPriorityPage=t.renderingId;break;case M.RenderingStates.INITIAL:this.highestPriorityPage=t.renderingId,t.draw().finally(()=>{this.renderHighestPriority()}).catch(p=>{p instanceof T.RenderingCancelledException||console.error(`renderView: "${p}"`)})}return!0}}},(N,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextHighlighter=void 0;_.TextHighlighter=class m{constructor({findController:M,eventBus:A,pageIndex:S}){this.findController=M,this.matches=[],this.eventBus=A,this.pageIdx=S,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(M,A){this.textDivs=M,this.textContentItemsStr=A}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=M=>{(M.pageIndex===this.pageIdx||-1===M.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(M,A){if(!M)return[];const{textContentItemsStr:S}=this;let n=0,t=0;const p=S.length-1,w=[];for(let d=0,v=M.length;d<v;d++){let g=M[d];for(;n!==p&&g>=t+S[n].length;)t+=S[n].length,n++;n===S.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:n,offset:g-t}};for(g+=A[d];n!==p&&g>t+S[n].length;)t+=S[n].length,n++;h.end={divIdx:n,offset:g-t},w.push(h)}return w}_renderMatches(M){if(0===M.length)return;const{findController:A,pageIdx:S}=this,{textContentItemsStr:n,textDivs:t}=this,p=S===A.selected.pageIdx,w=A.selected.matchIdx;let v=null;const g_offset=void 0;function h(H,G){const K=H.divIdx;return t[K].textContent="",L(K,0,H.offset,G)}function L(H,G,K,y){let a=t[H];if(a.nodeType===Node.TEXT_NODE){const o=document.createElement("span");a.parentNode.insertBefore(o,a),o.appendChild(a),t[H]=o,a=o}const r=n[H].substring(G,K),s=document.createTextNode(r);if(y){const o=document.createElement("span");return o.className=`${y} appended`,o.appendChild(s),a.appendChild(o),y.includes("selected")?o.offsetLeft:0}return a.appendChild(s),0}let F=w,D=F+1;if(A.state.highlightAll)F=0,D=M.length;else if(!p)return;for(let H=F;H<D;H++){const G=M[H],K=G.begin,y=G.end,a=p&&H===w,r=a?" selected":"";let s=0;if(v&&K.divIdx===v.divIdx?L(v.divIdx,v.offset,K.offset):(null!==v&&L(v.divIdx,v.offset,g_offset),h(K)),K.divIdx===y.divIdx)s=L(K.divIdx,K.offset,y.offset,"highlight"+r);else{s=L(K.divIdx,K.offset,g_offset,"highlight begin"+r);for(let o=K.divIdx+1,e=y.divIdx;o<e;o++)t[o].className="highlight middle"+r;h(y,"highlight end"+r)}v=y,a&&A.scrollMatchIntoView({element:t[K.divIdx],selectedLeft:s,pageIndex:S,matchIndex:w})}v&&L(v.divIdx,v.offset,g_offset)}_updateMatches(){if(!this.enabled)return;const{findController:M,matches:A,pageIdx:S}=this,{textContentItemsStr:n,textDivs:t}=this;let p=-1;for(let v=0,g=A.length;v<g;v++){const h=A[v];for(let F=Math.max(p,h.begin.divIdx),D=h.end.divIdx;F<=D;F++){const H=t[F];H.textContent=n[F],H.className=""}p=h.end.divIdx+1}M?.highlightMatches&&(this.matches=this._convertMatches(M.pageMatches[S]||null,M.pageMatchesLength[S]||null),this._renderMatches(this.matches))}}},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DownloadManager=void 0;var T=m(3);function M(S,n){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=S,t.target="_parent","download"in t&&(t.download=n),(document.body||document.documentElement).appendChild(t),t.click(),t.remove()}_.DownloadManager=class A{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(n,t){(0,T.createValidAbsoluteUrl)(n,"http://example.com")?M(n+"#pdfjs.action=download",t):console.error(`downloadUrl - not a valid URL: ${n}`)}downloadData(n,t,p){M(URL.createObjectURL(new Blob([n],{type:p})),t)}openOrDownloadData(n,t,p){const w=(0,T.isPdfFile)(p),d=w?"application/pdf":"";if(w){let g,v=this._openBlobUrls.get(n);v||(v=URL.createObjectURL(new Blob([t],{type:d})),this._openBlobUrls.set(n,v)),g="?file="+encodeURIComponent(v+"#"+p);try{return window.open(g),!0}catch(h){console.error(`openOrDownloadData: ${h}`),URL.revokeObjectURL(v),this._openBlobUrls.delete(n)}}return this.downloadData(t,p,d),!1}download(n,t,p,w="download"){M(URL.createObjectURL(n),p)}}},(N,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WaitOnType=_.EventBus=_.AutomationEventBus=void 0,_.waitOnEventOrTimeout=function T({target:S,name:n,delay:t=0}){return new Promise(function(p,w){if("object"!=typeof S||!n||"string"!=typeof n||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function d(L){S instanceof M?S._off(n,v):S.removeEventListener(n,v),h&&clearTimeout(h),p(L)}const v=d.bind(null,m.EVENT);S instanceof M?S._on(n,v):S.addEventListener(n,v);const g=d.bind(null,m.TIMEOUT),h=setTimeout(g,t)})};const m={EVENT:"event",TIMEOUT:"timeout"};_.WaitOnType=m;class M{constructor(){this._listeners=Object.create(null)}on(n,t,p=null){this._on(n,t,{external:!0,once:p?.once})}off(n,t,p=null){this._off(n,t,{external:!0,once:p?.once})}dispatch(n,t){const p=this._listeners[n];if(!p||0===p.length)return;let w;for(const{listener:d,external:v,once:g}of p.slice(0))g&&this._off(n,d),v?(w||(w=[])).push(d):d(t);if(w){for(const d of w)d(t);w=null}}_on(n,t,p=null){var d;((d=this._listeners)[n]||(d[n]=[])).push({listener:t,external:!0===p?.external,once:!0===p?.once})}_off(n,t,p=null){const w=this._listeners[n];if(w)for(let d=0,v=w.length;d<v;d++)if(w[d].listener===t)return void w.splice(d,1)}}_.EventBus=M;_.AutomationEventBus=class A extends M{dispatch(n,t){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GenericL10n=void 0,m(19);var T=m(4);const M=document.webL10n;_.GenericL10n=class A{constructor(n){this._lang=n,this._ready=new Promise((t,p)=>{M.setLanguage((0,T.fixupLangCode)(n),()=>{t(M)})})}getLanguage(){var n=this;return C(function*(){return(yield n._ready).getLanguage()})()}getDirection(){var n=this;return C(function*(){return(yield n._ready).getDirection()})()}get(n,t=null,p=(0,T.getL10nFallback)(n,t)){var w=this;return C(function*(){return(yield w._ready).get(n,t,p)})()}translate(n){var t=this;return C(function*(){return(yield t._ready).translate(n)})()}}},()=>{document.webL10n=function(N,_,m){var T={},M="",A="textContent",S="",n={},t="loading";function h(o,e,l){e=e||function(b){},l=l||function(){};var u=new XMLHttpRequest;u.open("GET",o,true),u.overrideMimeType&&u.overrideMimeType("text/plain; charset=utf-8"),u.onreadystatechange=function(){4==u.readyState&&(200==u.status||0===u.status?e(u.responseText):l())},u.onerror=l,u.ontimeout=l;try{u.send(null)}catch{l()}}function L(o,e,l,u){var x=o.replace(/[^\/]*$/,"")||"./";function b(j){return j.lastIndexOf("\\")<0?j:j.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}h(o,function(j){M+=j,function f(j,Y){var X={},Q=/^\s*|\s*$/,ie=/^\s*#|^\s*$/,oe=/^\s*\[(.*)\]\s*$/,he=/^\s*@import\s+url\((.*)\)\s*$/i,de=/^([^=\s]*)\s*=\s*(.+)$/;function ae(ye,fe,_e){var Ee=ye.replace(Q,"").split(/[\r\n]+/),ee="*",P=e.split("-",1)[0],z=!1,Z="";!function se(){for(;;){if(!Ee.length)return void _e();var re=Ee.shift();if(!ie.test(re)){if(fe){if(Z=oe.exec(re)){ee=Z[1].toLowerCase(),z="*"!==ee&&ee!==e&&ee!==P;continue}if(z)continue;if(Z=he.exec(re))return void be(x+Z[1],se)}var le=re.match(de);le&&3==le.length&&(X[le[1]]=b(le[2]))}}}()}function be(ye,fe){h(ye,function(_e){ae(_e,!1,fe)},function(){console.warn(ye+" not found."),fe()})}ae(j,!0,function(){Y(X)})}(j,function(Y){for(var X in Y){var Q,ie,oe=X.lastIndexOf(".");oe>0?(Q=X.substring(0,oe),ie=X.substring(oe+1)):(Q=X,ie=A),T[Q]||(T[Q]={}),T[Q][ie]=Y[X]}l&&l()})},u)}function F(o,e){o&&(o=o.toLowerCase()),e=e||function(){},function D(){T={},M="",S=""}(),S=o;var l=function w(){return _.querySelectorAll('link[type="application/l10n"]')}(),u=l.length;if(0!==u){var j,Y=0;j=function(){++Y>=u&&(e(),t="complete")};for(var Q=0;Q<u;Q++)new X(l[Q]).load(o,j)}else{var x=function d(){var o=_.querySelector('script[type="application/l10n"]');return o?JSON.parse(o.innerHTML):null}();if(x&&x.locales&&x.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(T=x.locales[o])){var b=x.default_locale.toLowerCase();for(var f in x.locales){if((f=f.toLowerCase())===o){T=x.locales[o];break}f===b&&(T=x.locales[b])}}e()}else console.log("no resource to load, early way out");t="complete"}function X(oe){var he=oe.href;this.load=function(de,ae){L(he,de,ae,function(){console.warn(he+" not found."),console.warn('"'+de+'" resource not found'),S="",ae()})}}}function G(o,e,l){var u=T[o];if(!u){if(console.warn("#"+o+" is undefined."),!l)return null;u=l}var x={};for(var b in u){var f=u[b];f=y(f=K(f,e,o,b),e,o),x[b]=f}return x}function K(o,e,l,u){var b=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(o);if(!b||!b.length)return o;var Y,f=b[1],j=b[2];return e&&j in e?Y=e[j]:j in T&&(Y=T[j]),f in n&&(o=(0,n[f])(o,Y,l,u)),o}function y(o,e,l){return o.replace(/\{\{\s*(.+?)\s*\}\}/g,function(x,b){return e&&b in e?e[b]:b in T?T[b]:(console.log("argument {{"+b+"}} for #"+l+" is undefined."),x)})}function a(o){var e=function g(o){if(!o)return{};var e=o.getAttribute("data-l10n-id"),l=o.getAttribute("data-l10n-args"),u={};if(l)try{u=JSON.parse(l)}catch{console.warn("could not parse arguments for #"+e)}return{id:e,args:u}}(o);if(e.id){var l=G(e.id,e.args);if(!l)return void console.warn("#"+e.id+" is undefined.");if(l[A]){if(0===function r(o){if(o.children)return o.children.length;if(typeof o.childElementCount<"u")return o.childElementCount;for(var e=0,l=0;l<o.childNodes.length;l++)e+=1===o.nodeType?1:0;return e}(o))o[A]=l[A];else{for(var u=o.childNodes,x=!1,b=0,f=u.length;b<f;b++)3===u[b].nodeType&&/\S/.test(u[b].nodeValue)&&(x?u[b].nodeValue="":(u[b].nodeValue=l[A],x=!0));if(!x){var j=_.createTextNode(l[A]);o.insertBefore(j,o.firstChild)}}delete l[A]}for(var Y in l)o[Y]=l[Y]}}return n.plural=function(o,e,l,u){var x=parseFloat(e);if(isNaN(x)||u!=A)return o;n._pluralRules||(n._pluralRules=function H(o){function l(f,j){return-1!==j.indexOf(f)}function u(f,j,Y){return j<=f&&f<=Y}var x={0:function(f){return"other"},1:function(f){return u(f%100,3,10)?"few":0===f?"zero":u(f%100,11,99)?"many":2==f?"two":1==f?"one":"other"},2:function(f){return 0!==f&&f%10==0?"many":2==f?"two":1==f?"one":"other"},3:function(f){return 1==f?"one":"other"},4:function(f){return u(f,0,1)?"one":"other"},5:function(f){return u(f,0,2)&&2!=f?"one":"other"},6:function(f){return 0===f?"zero":f%10==1&&f%100!=11?"one":"other"},7:function(f){return 2==f?"two":1==f?"one":"other"},8:function(f){return u(f,3,6)?"few":u(f,7,10)?"many":2==f?"two":1==f?"one":"other"},9:function(f){return 0===f||1!=f&&u(f%100,1,19)?"few":1==f?"one":"other"},10:function(f){return u(f%10,2,9)&&!u(f%100,11,19)?"few":f%10!=1||u(f%100,11,19)?"other":"one"},11:function(f){return u(f%10,2,4)&&!u(f%100,12,14)?"few":f%10==0||u(f%10,5,9)||u(f%100,11,14)?"many":f%10==1&&f%100!=11?"one":"other"},12:function(f){return u(f,2,4)?"few":1==f?"one":"other"},13:function(f){return u(f%10,2,4)&&!u(f%100,12,14)?"few":1!=f&&u(f%10,0,1)||u(f%10,5,9)||u(f%100,12,14)?"many":1==f?"one":"other"},14:function(f){return u(f%100,3,4)?"few":f%100==2?"two":f%100==1?"one":"other"},15:function(f){return 0===f||u(f%100,2,10)?"few":u(f%100,11,19)?"many":1==f?"one":"other"},16:function(f){return f%10==1&&11!=f?"one":"other"},17:function(f){return 3==f?"few":0===f?"zero":6==f?"many":2==f?"two":1==f?"one":"other"},18:function(f){return 0===f?"zero":u(f,0,2)&&0!==f&&2!=f?"one":"other"},19:function(f){return u(f,2,10)?"few":u(f,0,1)?"one":"other"},20:function(f){return!u(f%10,3,4)&&f%10!=9||u(f%100,10,19)||u(f%100,70,79)||u(f%100,90,99)?f%1e6==0&&0!==f?"many":f%10!=2||l(f%100,[12,72,92])?f%10!=1||l(f%100,[11,71,91])?"other":"one":"two":"few"},21:function(f){return 0===f?"zero":1==f?"one":"other"},22:function(f){return u(f,0,1)||u(f,11,99)?"one":"other"},23:function(f){return u(f%10,1,2)||f%20==0?"one":"other"},24:function(f){return u(f,3,10)||u(f,13,19)?"few":l(f,[2,12])?"two":l(f,[1,11])?"one":"other"}},b={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[o.replace(/-.*$/,"")];return b in x?x[b]:(console.warn("plural form unknown for ["+o+"]"),function(){return"other"})}(S));var b="["+n._pluralRules(x)+"]";return 0===x&&l+"[zero]"in T?o=T[l+"[zero]"][u]:1==x&&l+"[one]"in T?o=T[l+"[one]"][u]:2==x&&l+"[two]"in T?o=T[l+"[two]"][u]:l+b in T?o=T[l+b][u]:l+"[other]"in T&&(o=T[l+"[other]"][u]),o},{get:function(o,e,l){var b,u=o.lastIndexOf("."),x=A;u>0&&(x=o.substring(u+1),o=o.substring(0,u)),l&&((b={})[x]=l);var f=G(o,e,b);return f&&x in f?f[x]:"{{"+o+"}}"},getData:function(){return T},getText:function(){return M},getLanguage:function(){return S},setLanguage:function(o,e){F(o,function(){e&&e()})},getDirection:function(){var e=S.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function s(o){for(var e=function v(o){return o?o.querySelectorAll("*[data-l10n-id]"):[]}(o=o||_.documentElement),l=e.length,u=0;u<l;u++)a(e[u]);a(o)},getReadyState:function(){return t},ready:function(o){o&&("complete"==t||"interactive"==t?N.setTimeout(function(){o()}):_.addEventListener&&_.addEventListener("localized",function e(){_.removeEventListener("localized",e),o()}))}}}(window,document)},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFFindController=_.FindState=void 0;var T=m(6),M=m(3),A=m(21);const S={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};_.FindState=S;const w={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},d=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),v=[...d.values()].map(y=>String.fromCharCode(y)).join(""),g=/\p{M}+/gu,h=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,L=/([^\p{M}])\p{M}*$/u,F=/^\p{M}*([^\p{M}])/u;let D=null;function H(y){if(!D){const f=Object.keys(w).join("");D=new RegExp(`([${f}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const a=[];let r;for(;null!==(r=g.exec(y));)a.push([r[0].length,r.index]);let s=y.normalize("NFD");const o=[[0,0]];let e=0,l=0,u=0,x=0,b=!1;return s=s.replace(D,(f,j,Y,X,Q,ie)=>{if(ie-=u,j){const oe=w[f],he=oe.length;for(let de=1;de<he;de++)o.push([ie-l+de,l-de]);return l-=he-1,oe}if(Y){const oe=Y.endsWith("\n"),he=oe?Y.length-2:Y.length;b=!0;let de=he;ie+x===a[e]?.[1]&&(de-=a[e][0],++e);for(let ae=1;ae<de+1;ae++)o.push([ie-1-l+ae,l-ae]);return l-=de,u+=de,oe?(o.push([(ie+=he-1)-l+1,1+l]),l+=1,u+=1,x+=1,Y.slice(0,he)):Y}return X?(o.push([ie-l+1,1+l]),l+=1,u+=1,x+=1,X.charAt(0)):(o.push([ie-l+1,l-1]),l-=1,u+=1,x+=1," ")}),o.push([s.length,l]),[s,o,b]}function G(y,a,r){if(!y)return[a,r];const s=a,o=a+r;let e=(0,T.binarySearchFirstItem)(y,u=>u[0]>=s);y[e][0]>s&&--e;let l=(0,T.binarySearchFirstItem)(y,u=>u[0]>=o,e);return y[l][0]>o&&--l,[s+y[e][1],r+y[l][1]-y[e][1]]}_.PDFFindController=class K{constructor({linkService:a,eventBus:r}){this._linkService=a,this._eventBus=r,this._reset(),r._on("find",this._onFind.bind(this)),r._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(s,o)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const e=Object.assign(Object.create(null),o,{type:s.substring(4)});this._onFind(e)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(a){this._pdfDocument&&this._reset(),a&&(this._pdfDocument=a,this._firstPageCapability.resolve())}_onFind(a){if(!a)return;const r=this._pdfDocument,{type:s}=a;(null===this._state||this._shouldDirtyMatch(a))&&(this._dirtyMatch=!0),this._state=a,"highlightallchange"!==s&&this._updateUIState(S.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||r&&this._pdfDocument!==r)return;this._extractText();const o=!this._highlightMatches,e=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),s?this._dirtyMatch?this._nextMatch():"again"===s?(this._nextMatch(),o&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===s?(e?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:a=null,selectedLeft:r=0,pageIndex:s=-1,matchIndex:o=-1}){this._scrollMatches&&a&&-1!==o&&o===this._selected.matchIdx&&-1!==s&&s===this._selected.pageIdx&&(this._scrollMatches=!1,(0,T.scrollIntoView)(a,{top:-50,left:r+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,M.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=H(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(a){if(a.query!==this._state.query)return!0;switch(a.type){case"again":const r=this._selected.pageIdx+1,s=this._linkService;return r>=1&&r<=s.pagesCount&&r!==s.page&&!s.isPageVisible(r);case"highlightallchange":return!1}return!0}_isEntireWord(a,r,s){let o=a.slice(0,r).match(L);if(o){const e=a.charCodeAt(r),l=o[1].charCodeAt(0);if((0,A.getCharacterType)(e)===(0,A.getCharacterType)(l))return!1}if(o=a.slice(r+s).match(F),o){const e=a.charCodeAt(r+s-1),l=o[1].charCodeAt(0);if((0,A.getCharacterType)(e)===(0,A.getCharacterType)(l))return!1}return!0}_calculateRegExpMatch(a,r,s,o){const e=[],l=[],u=this._pageDiffs[s];let x;for(;null!==(x=a.exec(o));){if(r&&!this._isEntireWord(o,x.index,x[0].length))continue;const[b,f]=G(u,x.index,x[0].length);f&&(e.push(b),l.push(f))}this._pageMatches[s]=e,this._pageMatchesLength[s]=l}_convertToRegExpString(a,r){const{matchDiacritics:s}=this._state;let o=!1;const e="[ ]*";return(a=a.replace(h,(l,u,x,b,f,j)=>u?`[ ]*\\${u}[ ]*`:x?`[ ]*${x}[ ]*`:b?"[ ]+":s?f||j:f?d.has(f.charCodeAt(0))?f:"":r?(o=!0,`${j}\\p{M}*`):j)).endsWith(e)&&(a=a.slice(0,a.length-e.length)),s&&r&&(o=!0,a=`${a}(?=[${v}]|[^\\p{M}]|$)`),[o,a]}_calculateMatch(a){let r=this._query;if(0===r.length)return;const{caseSensitive:s,entireWord:o,phraseSearch:e}=this._state,l=this._pageContents[a],u=this._hasDiacritics[a];let x=!1;if(e)[x,r]=this._convertToRegExpString(r,u);else{const j=r.match(/\S+/g);j&&(r=j.sort().reverse().map(Y=>{const[X,Q]=this._convertToRegExpString(Y,u);return x||(x=X),`(${Q})`}).join("|"))}r=new RegExp(r,`g${x?"u":""}${s?"":"i"}`),this._calculateRegExpMatch(r,o,a,l),this._state.highlightAll&&this._updatePage(a),this._resumePageIdx===a&&(this._resumePageIdx=null,this._nextPageMatch());const f=this._pageMatches[a].length;f>0&&(this._matchesCountTotal+=f,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let a=Promise.resolve();for(let r=0,s=this._linkService.pagesCount;r<s;r++){const o=(0,M.createPromiseCapability)();this._extractTextPromises[r]=o.promise,a=a.then(()=>this._pdfDocument.getPage(r+1).then(e=>e.getTextContent()).then(e=>{const l=e.items,u=[];for(let x=0,b=l.length;x<b;x++)u.push(l[x].str),l[x].hasEOL&&u.push("\n");[this._pageContents[r],this._pageDiffs[r],this._hasDiacritics[r]]=H(u.join("")),o.resolve(r)},e=>{console.error(`Unable to get text content for page ${r+1}`,e),this._pageContents[r]="",this._pageDiffs[r]=null,this._hasDiacritics[r]=!1,o.resolve(r)}))}}_updatePage(a){this._scrollMatches&&this._selected.pageIdx===a&&(this._linkService.page=a+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:a})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const a=this._state.findPrevious,r=this._linkService.page-1,s=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=r,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let e=0;e<s;e++)this._pendingFindMatches.has(e)||(this._pendingFindMatches.add(e),this._extractTextPromises[e].then(l=>{this._pendingFindMatches.delete(l),this._calculateMatch(l)}))}if(""===this._query)return void this._updateUIState(S.FOUND);if(this._resumePageIdx)return;const o=this._offset;if(this._pagesToSearch=s,null!==o.matchIdx){const e=this._pageMatches[o.pageIdx].length;if(!a&&o.matchIdx+1<e||a&&o.matchIdx>0)return o.matchIdx=a?o.matchIdx-1:o.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(a)}this._nextPageMatch()}_matchesReady(a){const r=this._offset,s=a.length,o=this._state.findPrevious;return s?(r.matchIdx=o?s-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(o),!!(r.wrapped&&(r.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let a=null;do{const r=this._offset.pageIdx;if(a=this._pageMatches[r],!a){this._resumePageIdx=r;break}}while(!this._matchesReady(a))}_advanceOffsetPage(a){const r=this._offset,s=this._linkService.pagesCount;r.pageIdx=a?r.pageIdx-1:r.pageIdx+1,r.matchIdx=null,this._pagesToSearch--,(r.pageIdx>=s||r.pageIdx<0)&&(r.pageIdx=a?s-1:0,r.wrapped=!0)}_updateMatch(a=!1){let r=S.NOT_FOUND;const s=this._offset.wrapped;if(this._offset.wrapped=!1,a){const o=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,r=s?S.WRAPPED:S.FOUND,-1!==o&&o!==this._selected.pageIdx&&this._updatePage(o)}this._updateUIState(r,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(a){const r=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||r&&this._pdfDocument!==r||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(S.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:a,matchIdx:r}=this._selected;let s=0,o=this._matchesCountTotal;if(-1!==r){for(let e=0;e<a;e++)s+=this._pageMatches[e]?.length||0;s+=r+1}return(s<1||s>o)&&(s=o=0),{current:s,total:o}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(a,r=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:a,previous:r,matchesCount:this._requestMatchesCount(),rawQuery:this._state?.query??null})}}},(N,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CharacterType=void 0,_.getCharacterType=function g(h){return function T(h){return h<11904}(h)?function M(h){return 0==(65408&h)}(h)?function n(h){return 32===h||9===h||13===h||10===h}(h)?m.SPACE:function A(h){return h>=97&&h<=122||h>=65&&h<=90}(h)||function S(h){return h>=48&&h<=57}(h)||95===h?m.ALPHA_LETTER:m.PUNCT:function v(h){return 3584==(65408&h)}(h)?m.THAI_LETTER:160===h?m.SPACE:m.ALPHA_LETTER:function t(h){return h>=13312&&h<=40959||h>=63744&&h<=64255}(h)?m.HAN_LETTER:function p(h){return h>=12448&&h<=12543}(h)?m.KATAKANA_LETTER:function w(h){return h>=12352&&h<=12447}(h)?m.HIRAGANA_LETTER:function d(h){return h>=65376&&h<=65439}(h)?m.HALFWIDTH_KATAKANA_LETTER:m.ALPHA_LETTER};const m={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};_.CharacterType=m},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFHistory=void 0,_.isDestArraysEqual=d,_.isDestHashesEqual=w;var T=m(6),M=m(17);function t(){return document.location.hash}function w(v,g){return"string"==typeof v&&"string"==typeof g&&(v===g||(0,T.parseQueryString)(v).get("nameddest")===g)}function d(v,g){function h(L,F){if(typeof L!=typeof F||Array.isArray(L)||Array.isArray(F))return!1;if(null!==L&&"object"==typeof L&&null!==F){if(Object.keys(L).length!==Object.keys(F).length)return!1;for(const D in L)if(!h(L[D],F[D]))return!1;return!0}return L===F||Number.isNaN(L)&&Number.isNaN(F)}if(!Array.isArray(v)||!Array.isArray(g)||v.length!==g.length)return!1;for(let L=0,F=v.length;L<F;L++)if(!h(v[L],g[L]))return!1;return!0}_.PDFHistory=class p{constructor({linkService:g,eventBus:h}){this.linkService=g,this.eventBus=h,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",L=>{this._isViewerInPresentationMode=L.state!==T.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",L=>{this._isPagesLoaded=!!L.pagesCount},{once:!0})})}initialize({fingerprint:g,resetHistory:h=!1,updateUrl:L=!1}){if(!g||"string"!=typeof g)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const F=""!==this._fingerprint&&this._fingerprint!==g;this._fingerprint=g,this._updateUrl=!0===L,this._initialized=!0,this._bindEvents();const D=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=t(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(D,!0)||h){const{hash:G,page:K,rotation:y}=this._parseCurrentHash(!0);return!G||F||h?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:G,page:K,rotation:y},!0)}const H=D.destination;this._updateInternalState(H,D.uid,!0),void 0!==H.rotation&&(this._initialRotation=H.rotation),H.dest?(this._initialBookmark=JSON.stringify(H.dest),this._destination.page=null):H.hash?this._initialBookmark=H.hash:H.page&&(this._initialBookmark=`page=${H.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:g=null,explicitDest:h,pageNumber:L}){if(!this._initialized)return;if(g&&"string"!=typeof g)return void console.error(`PDFHistory.push: "${g}" is not a valid namedDest parameter.`);if(!Array.isArray(h))return void console.error(`PDFHistory.push: "${h}" is not a valid explicitDest parameter.`);if(!this._isValidPage(L)&&(null!==L||this._destination))return void console.error(`PDFHistory.push: "${L}" is not a valid pageNumber parameter.`);const F=g||JSON.stringify(h);if(!F)return;let D=!1;if(this._destination&&(w(this._destination.hash,F)||d(this._destination.dest,h))){if(this._destination.page)return;D=!0}this._popStateInProgress&&!D||(this._pushOrReplaceState({dest:h,hash:F,page:L,rotation:this.linkService.rotation},D),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(g){if(this._initialized){if(!this._isValidPage(g))return void console.error(`PDFHistory.pushPage: "${g}" is not a valid page number.`);this._destination?.page!==g&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${g}`,page:g,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const g=window.history.state;this._isValidState(g)&&g.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const g=window.history.state;this._isValidState(g)&&g.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(g,h=!1){const L=h||!this._destination,F={fingerprint:this._fingerprint,uid:L?this._uid:this._uid+1,destination:g};let D;if(this._updateInternalState(g,F.uid),this._updateUrl&&g?.hash){const H=document.location.href.split("#")[0];H.startsWith("file://")||(D=`${H}#${g.hash}`)}L?window.history.replaceState(F,"",D):window.history.pushState(F,"",D)}_tryPushCurrentPosition(g=!1){if(!this._position)return;let h=this._position;if(g&&(h=Object.assign(Object.create(null),this._position),h.temporary=!0),!this._destination)return void this._pushOrReplaceState(h);if(this._destination.temporary)return void this._pushOrReplaceState(h,!0);if(this._destination.hash===h.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let L=!1;if(this._destination.page>=h.first&&this._destination.page<=h.page){if(void 0!==this._destination.dest||!this._destination.first)return;L=!0}this._pushOrReplaceState(h,L)}_isValidPage(g){return Number.isInteger(g)&&g>0&&g<=this.linkService.pagesCount}_isValidState(g,h=!1){if(!g)return!1;if(g.fingerprint!==this._fingerprint){if(!h)return!1;{if("string"!=typeof g.fingerprint||g.fingerprint.length!==this._fingerprint.length)return!1;const[L]=performance.getEntriesByType("navigation");if("reload"!==L?.type)return!1}}return!(!Number.isInteger(g.uid)||g.uid<0||null===g.destination||"object"!=typeof g.destination)}_updateInternalState(g,h,L=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),L&&g?.temporary&&delete g.temporary,this._destination=g,this._uid=h,this._maxUid=Math.max(this._maxUid,h),this._numPositionUpdates=0}_parseCurrentHash(g=!1){const h=unescape(t()).substring(1),L=(0,T.parseQueryString)(h),F=L.get("nameddest")||"";let D=0|L.get("page");return(!this._isValidPage(D)||g&&F.length>0)&&(D=null),{hash:h,page:D,rotation:this.linkService.rotation}}_updateViewarea({location:g}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${g.pageNumber}`:g.pdfOpenParams.substring(1),page:this.linkService.page,first:g.pageNumber,rotation:g.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:g}){const h=t(),L=this._currentHash!==h;if(this._currentHash=h,!g){this._uid++;const{hash:D,page:H,rotation:G}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:D,page:H,rotation:G},!0)}if(!this._isValidState(g))return;this._popStateInProgress=!0,L&&(this._blockHashChange++,(0,M.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const F=g.destination;this._updateInternalState(F,g.uid,!0),(0,T.isValidRotation)(F.rotation)&&(this.linkService.rotation=F.rotation),F.dest?this.linkService.goToDestination(F.dest):F.hash?this.linkService.setHash(F.hash):F.page&&(this.linkService.page=F.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFScriptingManager=void 0;var T=m(6),M=m(3);_.PDFScriptingManager=class A{constructor({eventBus:n,sandboxBundleSrc:t=null,scriptingFactory:p=null,docPropertiesLookup:w=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=n,this._sandboxBundleSrc=t,this._scriptingFactory=p,this._docPropertiesLookup=w,this._scriptingFactory||window.addEventListener("updatefromsandbox",d=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:d.detail})})}setViewer(n){this._pdfViewer=n}setDocument(n){var t=this;return C(function*(){if(t._pdfDocument&&(yield t._destroyScripting()),t._pdfDocument=n,!n)return;const[p,w,d]=yield Promise.all([n.getFieldObjects(),n.getCalculationOrderIds(),n.getJSActions()]);if(p||d){if(n===t._pdfDocument){try{t._scripting=t._createScripting()}catch(v){return console.error(`PDFScriptingManager.setDocument: "${v?.message}".`),void(yield t._destroyScripting())}t._internalEvents.set("updatefromsandbox",v=>{v?.source===window&&t._updateFromSandbox(v.detail)}),t._internalEvents.set("dispatcheventinsandbox",v=>{t._scripting?.dispatchEventInSandbox(v.detail)}),t._internalEvents.set("pagechanging",({pageNumber:v,previous:g})=>{v!==g&&(t._dispatchPageClose(g),t._dispatchPageOpen(v))}),t._internalEvents.set("pagerendered",({pageNumber:v})=>{!t._pageOpenPending.has(v)||v===t._pdfViewer.currentPageNumber&&t._dispatchPageOpen(v)}),t._internalEvents.set("pagesdestroy",function(){var v=C(function*(g){yield t._dispatchPageClose(t._pdfViewer.currentPageNumber),yield t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),t._closeCapability?.resolve()});return function(g){return v.apply(this,arguments)}}()),t._domEvents.set("mousedown",v=>{t._mouseState.isDown=!0}),t._domEvents.set("mouseup",v=>{t._mouseState.isDown=!1});for(const[v,g]of t._internalEvents)t._eventBus._on(v,g);for(const[v,g]of t._domEvents)window.addEventListener(v,g);try{const v=yield t._getDocProperties();if(n!==t._pdfDocument)return;yield t._scripting.createSandbox({objects:p,calculationOrder:w,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...v,actions:d}}),t._eventBus.dispatch("sandboxcreated",{source:t})}catch(v){return console.error(`PDFScriptingManager.setDocument: "${v?.message}".`),void(yield t._destroyScripting())}yield t._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield t._dispatchPageOpen(t._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{n===t._pdfDocument&&(t._ready=!0)})}}else yield t._destroyScripting()})()}dispatchWillSave(n){var t=this;return C(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(n){var t=this;return C(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(n){var t=this;return C(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(n){var t=this;return C(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,M.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,M.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,M.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,M.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(n){var t=this;return C(function*(){const p=t._pdfViewer.isInPresentationMode||t._pdfViewer.isChangingPresentationMode,{id:w,siblings:d,command:v,value:g}=n;if(!w){switch(v){case"clear":console.clear();break;case"error":console.error(g);break;case"layout":if(p)return;const L=(0,T.apiPageLayoutToViewerModes)(g);t._pdfViewer.spreadMode=L.spreadMode;break;case"page-num":t._pdfViewer.currentPageNumber=g+1;break;case"print":yield t._pdfViewer.pagesPromise,t._eventBus.dispatch("print",{source:t});break;case"println":console.log(g);break;case"zoom":if(p)return;t._pdfViewer.currentScaleValue=g;break;case"SaveAs":t._eventBus.dispatch("save",{source:t});break;case"FirstPage":t._pdfViewer.currentPageNumber=1;break;case"LastPage":t._pdfViewer.currentPageNumber=t._pdfViewer.pagesCount;break;case"NextPage":t._pdfViewer.nextPage();break;case"PrevPage":t._pdfViewer.previousPage();break;case"ZoomViewIn":if(p)return;t._pdfViewer.increaseScale();break;case"ZoomViewOut":if(p)return;t._pdfViewer.decreaseScale()}return}if(p&&n.focus)return;delete n.id,delete n.siblings;const h=d?[w,...d]:[w];for(const L of h){const F=document.getElementById(L);F?F.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:n})):t._pdfDocument?.annotationStorage.setValue(L,n)}})()}_dispatchPageOpen(n,t=!1){var p=this;return C(function*(){const w=p._pdfDocument,d=p._visitedPages;if(t&&(p._closeCapability=(0,M.createPromiseCapability)()),!p._closeCapability)return;const v=p._pdfViewer.getPageView(n-1);if(v?.renderingState!==T.RenderingStates.FINISHED)return void p._pageOpenPending.add(n);p._pageOpenPending.delete(n);const g=C(function*(){const h=yield d.has(n)?null:v.pdfPage?.getJSActions();w===p._pdfDocument&&(yield p._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:n,actions:h}))})();d.set(n,g)})()}_dispatchPageClose(n){var t=this;return C(function*(){const p=t._pdfDocument,w=t._visitedPages;if(!t._closeCapability||t._pageOpenPending.has(n))return;const d=w.get(n);!d||(w.set(n,null),yield d,p===t._pdfDocument&&(yield t._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:n})))})()}_getDocProperties(){var n=this;return C(function*(){if(n._docPropertiesLookup)return n._docPropertiesLookup(n._pdfDocument);const{docPropertiesLookup:t}=m(24);return t(n._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,M.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:n}=m(24);return new n(this._sandboxBundleSrc)}_destroyScripting(){var n=this;return C(function*(){if(!n._scripting)return n._pdfDocument=null,void n._destroyCapability?.resolve();n._closeCapability&&(yield Promise.race([n._closeCapability.promise,new Promise(t=>{setTimeout(t,1e3)})]).catch(t=>{}),n._closeCapability=null),n._pdfDocument=null;try{yield n._scripting.destroySandbox()}catch{}for(const[t,p]of n._internalEvents)n._eventBus._off(t,p);n._internalEvents.clear();for(const[t,p]of n._domEvents)window.removeEventListener(t,p);n._domEvents.clear(),n._pageOpenPending.clear(),n._visitedPages.clear(),n._scripting=null,delete n._mouseState.isDown,n._ready=!1,n._destroyCapability?.resolve()})()}}},(N,_,m)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GenericScripting=void 0,_.docPropertiesLookup=function M(n){return A.apply(this,arguments)};var T=m(3);function A(){return(A=C(function*(n){const p="".split("#")[0];let{info:w,metadata:d,contentDispositionFilename:v,contentLength:g}=yield n.getMetadata();if(!g){const{length:h}=yield n.getDownloadInfo();g=h}return{...w,baseURL:p,filesize:g,filename:v||(0,T.getPdfFilenameFromUrl)(""),metadata:d?.getRaw(),authors:d?.get("dc:creator"),numPages:n.numPages,URL:""}})).apply(this,arguments)}_.GenericScripting=class S{constructor(t){this._ready=(0,T.loadScript)(t,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(t){var p=this;return C(function*(){(yield p._ready).create(t)})()}dispatchEventInSandbox(t){var p=this;return C(function*(){const w=yield p._ready;setTimeout(()=>w.dispatchEvent(t),0)})()}destroySandbox(){var t=this;return C(function*(){(yield t._ready).nukeSandbox()})()}}}],W={};function V(N){var _=W[N];if(void 0!==_)return _.exports;var m=W[N]={exports:{}};return B[N](m,m.exports,V),m.exports}var O={};return(()=>{var N=O;Object.defineProperty(N,"__esModule",{value:!0}),Object.defineProperty(N,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return A.AnnotationLayerBuilder}}),Object.defineProperty(N,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return _.DefaultAnnotationLayerFactory}}),Object.defineProperty(N,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return _.DefaultStructTreeLayerFactory}}),Object.defineProperty(N,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return _.DefaultTextLayerFactory}}),Object.defineProperty(N,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return _.DefaultXfaLayerFactory}}),Object.defineProperty(N,"DownloadManager",{enumerable:!0,get:function(){return S.DownloadManager}}),Object.defineProperty(N,"EventBus",{enumerable:!0,get:function(){return n.EventBus}}),Object.defineProperty(N,"GenericL10n",{enumerable:!0,get:function(){return t.GenericL10n}}),Object.defineProperty(N,"LinkTarget",{enumerable:!0,get:function(){return m.LinkTarget}}),Object.defineProperty(N,"NullL10n",{enumerable:!0,get:function(){return p.NullL10n}}),Object.defineProperty(N,"PDFFindController",{enumerable:!0,get:function(){return w.PDFFindController}}),Object.defineProperty(N,"PDFHistory",{enumerable:!0,get:function(){return d.PDFHistory}}),Object.defineProperty(N,"PDFLinkService",{enumerable:!0,get:function(){return m.PDFLinkService}}),Object.defineProperty(N,"PDFPageView",{enumerable:!0,get:function(){return v.PDFPageView}}),Object.defineProperty(N,"PDFScriptingManager",{enumerable:!0,get:function(){return g.PDFScriptingManager}}),Object.defineProperty(N,"PDFSinglePageViewer",{enumerable:!0,get:function(){return M.PDFSinglePageViewer}}),Object.defineProperty(N,"PDFViewer",{enumerable:!0,get:function(){return M.PDFViewer}}),Object.defineProperty(N,"ProgressBar",{enumerable:!0,get:function(){return T.ProgressBar}}),Object.defineProperty(N,"SimpleLinkService",{enumerable:!0,get:function(){return m.SimpleLinkService}}),Object.defineProperty(N,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return h.StructTreeLayerBuilder}}),Object.defineProperty(N,"TextLayerBuilder",{enumerable:!0,get:function(){return L.TextLayerBuilder}}),Object.defineProperty(N,"XfaLayerBuilder",{enumerable:!0,get:function(){return F.XfaLayerBuilder}}),Object.defineProperty(N,"parseQueryString",{enumerable:!0,get:function(){return T.parseQueryString}});var _=V(1),m=V(5),T=V(6),M=V(10),A=V(2),S=V(16),n=V(17),t=V(18),p=V(4),w=V(20),d=V(22),v=V(12),g=V(23),h=V(7),L=V(8),F=V(9)})(),O})()},8926:$=>{function c(i,I,E,q,U,R,C){try{var B=i[R](C),W=B.value}catch(V){return void E(V)}B.done?I(W):Promise.resolve(W).then(q,U)}$.exports=function k(i){return function(){var I=this,E=arguments;return new Promise(function(q,U){var R=i.apply(I,E);function C(W){c(R,q,U,C,B,"next",W)}function B(W){c(R,q,U,C,B,"throw",W)}C(void 0)})}},$.exports.__esModule=!0,$.exports.default=$.exports},6869:$=>{$.exports=function c(k,i){if(i.has(k))throw new TypeError("Cannot initialize the same private elements twice on an object")},$.exports.__esModule=!0,$.exports.default=$.exports},6358:$=>{$.exports=function c(k,i){return i.get?i.get.call(k):i.value},$.exports.__esModule=!0,$.exports.default=$.exports},8625:$=>{$.exports=function c(k,i,I){if(i.set)i.set.call(k,I);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=I}},$.exports.__esModule=!0,$.exports.default=$.exports},4094:$=>{$.exports=function c(k,i){if(k!==i)throw new TypeError("Private static access of wrong provenance")},$.exports.__esModule=!0,$.exports.default=$.exports},3486:$=>{$.exports=function c(k,i,I){if(!i.has(k))throw new TypeError("attempted to "+I+" private field on non-instance");return i.get(k)},$.exports.__esModule=!0,$.exports.default=$.exports},1226:($,c,k)=>{var i=k(6358),I=k(3486);$.exports=function E(q,U){var R=I(q,U,"get");return i(q,R)},$.exports.__esModule=!0,$.exports.default=$.exports},3606:($,c,k)=>{var i=k(6869);$.exports=function I(E,q,U){i(E,q),q.set(E,U)},$.exports.__esModule=!0,$.exports.default=$.exports},5962:($,c,k)=>{var i=k(8625),I=k(3486);$.exports=function E(q,U,R){var C=I(q,U,"set");return i(q,C,R),R},$.exports.__esModule=!0,$.exports.default=$.exports},4877:$=>{$.exports=function c(k,i,I){if(!i.has(k))throw new TypeError("attempted to get private field on non-instance");return I},$.exports.__esModule=!0,$.exports.default=$.exports},3448:($,c,k)=>{var i=k(6869);$.exports=function I(E,q){i(E,q),q.add(E)},$.exports.__esModule=!0,$.exports.default=$.exports},9393:($,c,k)=>{var i=k(4094);$.exports=function I(E,q,U){return i(E,q),U},$.exports.__esModule=!0,$.exports.default=$.exports},9713:$=>{$.exports=function c(k,i,I){return i in k?Object.defineProperty(k,i,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[i]=I,k},$.exports.__esModule=!0,$.exports.default=$.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{}}]);